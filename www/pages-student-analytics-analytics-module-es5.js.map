{"version":3,"sources":["webpack:///src/app/analytics-modal/analytics-modal.component.html","webpack:///src/app/pages/student/analytics/analytics.page.html","webpack:///src/app/analytics-modal/analytics-modal.component.scss","webpack:///src/app/analytics-modal/analytics-modal.component.ts","webpack:///src/app/pages/student/analytics/analytics.module.ts","webpack:///src/app/pages/student/analytics/analytics.page.scss","webpack:///src/app/pages/student/analytics/analytics.page.ts"],"names":["AnalyticsModalComponent","modalCtl","navParams","authService","get","chartype","labels","setTimeout","dismiss","overallChart","presentLoading","createChart","reportCards","Array","exam_marks","name","class_name","term","term_name","undefined","console","log","terms","type","h","length","push","exam_type","exam","a","b","mark","filter","onlyUnique","math","english","kiswahili","science","ssre","i","param","sub_id","parent_subject_id","subjects","j","subject_name","el","bars","barChart","nativeElement","data","datasets","label","fill","borderWidth","backgroundColor","options","title","display","text","maintainAspectRatio","legend","position","gridLines","scales","yAxes","scaleLabel","labelString","fontStyle","ticks","beginAtZero","suggestedMax","xAxes","ovMarks","termNames","overall_marks_and_grade","this_term_marks_and_grade","overall_mark","substr","includes","f","replace","year","str_lines","ovChart","borderColor","stepSize","value","index","self","indexOf","selector","template","routes","path","component","AnalyticsPageModule","imports","forChild","declarations","entryComponents","AnalyticsPage","route","router","session","student","segment","marks","fake","hidden","report_cards","class_history","queryParams","subscribe","params","getCurrentNavigation","extras","state","details","assets","student_image","school","responive","lineWidth","cards","student_id","n","nodata","reverse","sort","x","y","pos","schoolTerm","school_terms","map","item","report","navigationExtras","reports","navigate","document","getElementById","$event","c_id","target","t","ts","t_id","c","term_id","term1","type1","kiswahli","lineChart","term2","term3","type2","type3","l","m","math2","eng2","kis2","sci2","ssre2","math3","eng3","kis3","sci3","ssre3","lines","lineChart2","pies","lineChart3","r","create","cssClass","componentProps","modal","present","date","format"],"mappings":"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","file":"pages-student-analytics-analytics-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title >{{this.name}} {{this.term}} </ion-title>\\n    <ion-title *ngIf=\\\"chartype === 1\\\">Overall performance analysis</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"dismisModal()\\\" slot=\\\"end\\\">\\n        <ion-icon name=\\\"close-circle\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <canvas #barChart *ngIf=\\\"chartype !== 1\\\" style=\\\"width: 250px;\\\"></canvas>\\n  <canvas #lineChart *ngIf=\\\"chartype === 1\\\" style=\\\"height: 250px;\\\"></canvas>\\n</ion-content>\"","export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\" style=\\\"font-size: 14px;\\\">\\n      <ion-back-button text=\\\"\\\" icon=\\\"chevron-back\\\">\\n\\n      </ion-back-button>ANALYTICS\\n    </ion-buttons>\\n    <!-- <ion-title style=\\\"font-size:14px;\\\">POSTS & HOMEWORK</ion-title> -->\\n  </ion-toolbar>\\n  <ion-item style=\\\"--background: none;\\\">\\n    <ion-avatar slot=\\\"start\\\" *ngIf=\\\"assets !==1\\\">\\n      <img src={{assets}}>\\n    </ion-avatar>\\n    <ion-avatar slot=\\\"start\\\" *ngIf=\\\"assets === 1\\\">\\n      <ion-icon size=\\\"32\\\" style=\\\"font-size: 2em\\\" name=\\\"happy-outline\\\"></ion-icon>\\n    </ion-avatar>\\n    <ion-label style=\\\"text-transform: uppercase;\\\">{{student.first_name}} {{student.middle_name}} {{student.last_name}}\\n    </ion-label>\\n  </ion-item>\\n</ion-header>\\n<ion-content class=\\\"ion-padding\\\">\\n  <div class=\\\"vertical-center\\\" *ngIf=\\\"nodata === 'true'\\\" >\\n      <ion-item lines=\\\"none\\\" >No analytic information for this student.</ion-item>\\n  </div>\\n  <div *ngIf=\\\"report_cards.length>0\\\">\\n    <ion-icon style=\\\"padding-top: 10px; color: #397C49;\\\" #helper size=\\\"medium\\\" name=\\\"information-circle\\\"></ion-icon><i style=\\\"color:#397C49;\\\">Click on card to view detailed analysis</i>\\n    <h5>Overall performance</h5>\\n    <ion-card style=\\\"height: 180px;\\\">\\n      <canvas (click)=\\\"ovModal()\\\" #overallChart></canvas>\\n    </ion-card>\\n    \\n    <ion-list>\\n      <h5 style=\\\"margin-bottom: -5px;\\\">Subject performance</h5>\\n      <ion-list-header>\\n        <ion-button size=\\\"small\\\" style=\\\"color: black;\\\" (click)=\\\"hide()\\\">Filter <ion-icon name=\\\"chevron-down\\\">\\n          </ion-icon>\\n        </ion-button>\\n      </ion-list-header>\\n\\n      <div id=\\\"hid\\\" hidden style=\\\"padding-left: 8px; padding-right: 8px;\\\">\\n        <ion-item>\\n          <ion-label>Class</ion-label>\\n          <ion-select id=\\\"class\\\" cancelText=\\\"Cancel\\\" okText=\\\"Ok\\\" (ionChange)=\\\"classChange($event)\\\">\\n            <ion-select-option value=\\\"all\\\">All</ion-select-option>\\n            <div *ngFor=\\\"let c of class_history\\\">\\n              <ion-select-option value=\\\"{{c}}\\\">{{c}}</ion-select-option>\\n            </div>\\n          </ion-select>\\n        </ion-item>\\n        <ion-item >\\n          <ion-label>Term</ion-label>\\n          <ion-select cancelText=\\\"Cancel\\\" okText=\\\"Ok\\\" (ionChange)=\\\"termChange($event)\\\">\\n            <div *ngFor=\\\"let t of terms\\\">\\n              <ion-select-option value=\\\"{{t.term_id}}\\\">{{t.term_name}}</ion-select-option>\\n            </div>\\n          </ion-select>\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\">\\n          <ion-button slot=\\\"end\\\" color=\\\"dark\\\" (click)=\\\"filter()\\\">Filter</ion-button>\\n        </ion-item>\\n      </div>\\n    </ion-list>\\n    \\n    <ion-grid class=\\\"grid_graphs\\\">\\n      <ion-row>\\n        <ion-col size=\\\"6\\\" style=\\\"margin: -5px;\\\"  *ngFor=\\\"let r of report_cards; let i = index\\\" >\\n          <div (click)=\\\"openModal(r)\\\">\\n            <ion-card tooltip=\\\"Okay lets see\\\" positionV=\\\"bottom\\\">\\n              <canvas #lineChart *ngIf=\\\"i == 0\\\" style=\\\"height: 180px; width: 200px;\\\"></canvas>\\n              <canvas #lineChart2 *ngIf=\\\"i == 1\\\" style=\\\"height: 180px;\\\"></canvas>\\n              <canvas #lineChart3 *ngIf=\\\"i == 2\\\" style=\\\"height: 180px;\\\"></canvas>\\n              <!-- <apx-chart #chartObj></apx-chart> -->\\n\\n              <!-- <apx-chart [series]=\\\"series\\\" [chart]=\\\"chart\\\" [title]=\\\"title\\\"></apx-chart> -->\\n            </ion-card> \\n            <p style=\\\"text-align: center;\\\"><strong>{{r.term_name}}</strong></p>\\n          </div>\\n\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </div>\\n\\n\\n</ion-content>\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FuYWx5dGljcy1tb2RhbC9hbmFseXRpY3MtbW9kYWwuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, Input, ViewChild, OnInit } from '@angular/core';\nimport { ModalController, NavParams } from '@ionic/angular';\nimport { Chart } from 'chart.js';\nimport * as _ from 'underscore';\nimport { AuthService } from '../services/auth.service';\nimport { element } from 'protractor';\n\n\n@Component({\n  selector: 'app-analytics-modal',\n  templateUrl: './analytics-modal.component.html',\n  styleUrls: ['./analytics-modal.component.scss'],\n})\nexport class AnalyticsModalComponent implements OnInit {\n  @ViewChild('barChart') barChart;\n  @ViewChild('lineChart') ovChart;\n  type: [];\n  terms: [];\n  math: any;\n  english: any;\n  kiswahili: any;\n  science: any;\n  ssre: any;\n  subjects: any;\n  bars: any;\n  exam_marks: any;\n  name: any;\n  labels: any;\n  term: any;\n  chartype: any;\n  str_lines: any;\n\n  constructor(\n    private modalCtl: ModalController,\n    private navParams: NavParams,\n    private authService: AuthService,\n  ) {\n\n\n  }\n\n  ngOnInit() {\n    if (this.navParams.get('type') === 'overall') {\n      this.chartype = 1;\n      this.labels = this.navParams.get('reports');\n      setTimeout(() => {\n        this.authService.dismiss();\n        this.overallChart();\n      }, 2000);\n    } else {\n      this.authService.presentLoading();\n      setTimeout(() => {\n        this.authService.dismiss();\n        this.createChart();\n      }, 2000);\n    }\n  }\n\n\n  createChart() {\n    let reportCards;\n    reportCards = new Array()\n\n    // this.reportCards = new Array();\n    this.exam_marks = new Array();\n    reportCards = this.navParams.get('reports');\n    this.name = reportCards.class_name;\n    this.term = reportCards.term_name;\n    this.exam_marks = reportCards.exam_marks === undefined ? [] : reportCards.exam_marks;\n    console.log(reportCards);\n    this.terms = [];\n    this.type = [];\n    let type = [];\n\n    //exam types\n    for (var h = 0; h < reportCards.exam_marks.length; h++) {\n      type.push(reportCards.exam_marks[h].exam_type);\n    }\n    var exam = [];\n    // tslint:disable-next-line:prefer-for-of\n    for (let a = 0; a < this.exam_marks.length; a++) {\n\n      // tslint:disable-next-line: prefer-for-of\n      for (let b = 0; b < this.exam_marks[a].exam_marks.length; b++) {\n        // console.log(this.exam_marks[a].exam_marks[b].mark);\n        if (this.exam_marks[a].exam_marks[b].mark !== null) {\n          exam.push(this.exam_marks[a].exam_type);\n        }\n      }\n    }\n    type = exam.filter(this.onlyUnique);\n    console.log(type)\n    this.math = [];\n    this.english = [];\n    this.kiswahili = [];\n    this.science = [];\n    this.ssre = [];\n\n    for (var i = 0; i < this.exam_marks.length; i++) {\n\n      let a;\n      a = _.sortBy(this.exam_marks[i].exam_marks, 'subject_name');\n      a = a.filter((param) => {\n        var sub_id = [];\n        sub_id = param.parent_subject_id;\n        return sub_id == null;\n      });\n\n      this.math.push(a[0].mark);\n      this.english.push(a[1].mark);\n      this.kiswahili.push(a[2].mark);\n      this.science.push(a[3].mark);\n      this.ssre.push(a[4].mark);\n\n\n    }\n    let subjects = [];\n    for (var j = 0; j < this.exam_marks[0].exam_marks.length; j++) {\n      let b;\n      b = _.sortBy(this.exam_marks[0].exam_marks, 'subject_name');\n      if (b[j].parent_subject_id == null) {\n        subjects.push(b[j].subject_name);\n      }\n\n    }\n\n\n    if (this.terms != undefined || this.terms != null) {\n      this.math = this.math.filter((el) => {\n        return el != null;\n      });\n      this.english = this.english.filter((el) => {\n        return el != null;\n      });\n      this.kiswahili = this.kiswahili.filter((el) => {\n        return el != null;\n      });\n      this.science = this.science.filter((el) => {\n        return el != null;\n      });\n      this.ssre = this.ssre.filter((el) => {\n        return el != null;\n      });\n      this.bars = new Chart(this.barChart.nativeElement, {\n        type: 'bar',\n        data: {\n          labels: type,\n          datasets: [{\n            label: subjects[0],\n            data: this.math,\n            fill: true,\n            borderWidth: 2,\n            backgroundColor: 'orange'\n          },\n          {\n            label: subjects[1],\n            data: this.english,\n            borderWidth: 2,\n            fill: true,\n            backgroundColor: 'black'\n          },\n          {\n            label: subjects[2],\n            data: this.kiswahili,\n            borderWidth: 2,\n            backgroundColor: 'blue',\n            fill: true,\n          },\n          {\n            label: subjects[3],\n            data: this.science,\n            borderWidth: 2,\n            backgroundColor: 'red',\n            fill: true,\n          }, {\n            label: subjects[4],\n            data: this.ssre,\n            borderWidth: 2,\n            backgroundColor: 'green',\n            fill: true,\n          }]\n        },\n        options: {\n          title: {\n            display: true,\n            text: 'Analysis for ' + reportCards.class_name + ' ' + reportCards.term_name\n          },\n          maintainAspectRatio: false,\n          // responsive: false,\n          legend: {\n            display: true,\n            position: 'bottom'\n          },\n          gridLines: {\n            display: false\n          },\n          scales: {\n            yAxes: [{\n              scaleLabel: {\n                display: true,\n                labelString: 'EXAM MARKS',\n                fontStyle: 'bold'\n              },\n              ticks: {\n                beginAtZero: true,\n                suggestedMax: 100,\n              }\n            }],\n            xAxes: [{\n              scaleLabel: {\n                display: true,\n                labelString: 'EXAM TYPE',\n                fontStyle: 'bold'\n              },\n              ticks: {\n\n              }\n            }]\n          }\n        }\n      });\n    }\n  }\n\n  //  overall\n  overallChart() {\n    let ovMarks = [];\n    let termNames = [];\n    this.labels = this.labels;\n    for (let i = 0; i < this.labels.length; i++) {\n      ovMarks.push(this.labels[i].overall_marks_and_grade[0].\n        this_term_marks_and_grade[0].overall_mark.substr(0, 3));\n      if (this.labels[i].term_name.length > 10) {\n        if (this.labels[i].term_name.includes(\"ONE\")) {\n          var f;\n          f = this.labels[i].term_name.replace(\"ONE\", \"1\");\n          termNames.push(f);\n        } else if (this.labels[i].term_name.includes(\"TWO\")) {\n          var f;\n          f = this.labels[i].term_name.replace(\"TWO\", \"2\");\n          termNames.push(f);\n        } else if (this.labels[i].term_name.includes(\"THREE\")) {\n          var f;\n          f = this.labels[i].term_name.replace(\"THREE\", \"3\");\n          termNames.push(f);\n        } else {\n          termNames.push(this.labels[i].term_name);\n        }\n      } else {\n        if (this.labels[i].term_name.includes(\"ONE\")) {\n          var f;\n          f = this.labels[i].term_name.replace(\"ONE\", \"1\");\n          termNames.push(f + ' ' + this.labels[i].year)\n        } else if (this.labels[i].term_name.includes(\"TWO\")) {\n          var f;\n          f = this.labels[i].term_name.replace(\"TWO\", \"2\");\n          termNames.push(f + ' ' + this.labels[i].year)\n        } else if (this.labels[i].term_name.includes(\"THREE\")) {\n          var f;\n          f = this.labels[i].term_name.replace(\"THREE\", \"3\");\n          termNames.push(f + ' ' + this.labels[i].year)\n        } else {\n          termNames.push(this.labels[i].term_name + ' ' + this.labels[i].year)\n        }\n\n      }\n    }\n    console.log(ovMarks);\n    console.log(termNames);\n\n    this.str_lines = new Chart(this.ovChart.nativeElement, {\n      type: 'line',\n      data: {\n        labels: termNames,\n        datasets: [{\n          label: 'OVERALL MARKS',\n          data: ovMarks,\n          fill: true,\n          borderWidth: 2,\n          backgroundColor: 'rgba(57,124,73,0.3)',\n          borderColor: '#397C49'\n        }]\n      },\n      options: {\n        title: {\n          display: false,\n          text: 'Overall performance'\n        },\n        maintainAspectRatio: false,\n        // responsive: false,\n        legend: {\n          display: true,\n          position: 'top'\n        },\n        scales: {\n          yAxes: [{\n            scaleLabel: {\n              display: true,\n              labelString: 'OVERALL MARKS',\n              fontStyle: 'bold'\n            },\n            ticks: {\n              display: true,\n              beginAtZero: true,\n              suggestedMax: 500,\n              stepSize: 100\n            }\n          }],\n          xAxes: [{\n            scaleLabel: {\n              display: true,\n              labelString: 'TERMS',\n              fontStyle: 'bold'\n            },\n            ticks: {\n              display: true\n            }\n          }]\n        }\n      }\n    });\n  }\n  onlyUnique(value, index, self) {\n    return self.indexOf(value) === index;\n  }\n\n  dismisModal() {\n    this.modalCtl.dismiss();\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\nimport {Routes, RouterModule} from '@angular/router';\n\nimport {IonicModule} from '@ionic/angular';\nimport {AnalyticsPage} from './analytics.page';\nimport { AnalyticsModalComponent } from 'src/app/analytics-modal/analytics-modal.component';\n\nconst routes:Routes =[\n  {\n    path:'',\n    component: AnalyticsPage\n  }\n];\n\n@NgModule({\n  imports:[\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations:[AnalyticsPage, AnalyticsModalComponent],\n  entryComponents: [AnalyticsModalComponent]\n})\nexport class AnalyticsPageModule{}","export default \"ion-segment ion-label {\\n  color: white;\\n  text-transform: unset;\\n  font-size: 12px;\\n}\\n\\nion-segment ion-label {\\n  color: white;\\n  font-size: 12px;\\n}\\n\\nion-content {\\n  font-size: 12px;\\n  --ion-background-color: #dddede;\\n}\\n\\nion-content ion-col {\\n  color: black;\\n  font-size: 12px;\\n}\\n\\nion-content ion-row {\\n  --background: none;\\n}\\n\\nion-content ion-list {\\n  --background: none;\\n}\\n\\nion-content ion-card {\\n  --ion-background-color: #ffffff;\\n  padding: 8px;\\n}\\n\\nion-content .info {\\n  color: black;\\n  font-size: 12px;\\n}\\n\\n#class {\\n  max-width: 65% !important;\\n}\\n\\nion-select {\\n  width: 100%;\\n  justify-content: center;\\n}\\n\\n.center {\\n  text-align: right;\\n}\\n\\n.grid_graphs {\\n  margin: -8px;\\n}\\n\\nion-item {\\n  --border-color: #fff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rb2tvZGF2aWQvRG93bmxvYWRzL2VwL3NyYy9hcHAvcGFnZXMvc3R1ZGVudC9hbmFseXRpY3MvYW5hbHl0aWNzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvc3R1ZGVudC9hbmFseXRpY3MvYW5hbHl0aWNzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFSTtFQUNJLFlBQUE7RUFDQSxxQkFBQTtFQUNBLGVBQUE7QUNEUjs7QURNSTtFQUNJLFlBQUE7RUFDQSxlQUFBO0FDSFI7O0FEU0E7RUFDSSxlQUFBO0VBQ0EsK0JBQUE7QUNOSjs7QURTSTtFQUNJLFlBQUE7RUFDQSxlQUFBO0FDUFI7O0FEU0k7RUFDSSxrQkFBQTtBQ1BSOztBRFVJO0VBQ0ksa0JBQUE7QUNSUjs7QURXSTtFQUNJLCtCQUFBO0VBQ0EsWUFBQTtBQ1RSOztBRFdJO0VBQ0ksWUFBQTtFQUNBLGVBQUE7QUNUUjs7QURZQTtFQUNJLHlCQUFBO0FDVEo7O0FEV0E7RUFDSSxXQUFBO0VBQ0EsdUJBQUE7QUNSSjs7QURVQTtFQUNJLGlCQUFBO0FDUEo7O0FEYUE7RUFDSSxZQUFBO0FDVko7O0FEYUE7RUFDSSxvQkFBQTtBQ1ZKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvc3R1ZGVudC9hbmFseXRpY3MvYW5hbHl0aWNzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1zZWdtZW50IHtcbiAgICAvL2NvbG9yOndoaXRlO1xuICAgIGlvbi1sYWJlbCB7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVuc2V0O1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgfVxufVxuaW9uLXNlZ21lbnQge1xuICAgIC8vY29sb3I6d2hpdGU7XG4gICAgaW9uLWxhYmVsIHtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgfVxufVxuLy8gaW9uLWhlYWRlcntcbi8vICAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiNkZGRlZGU7XG4vLyB9XG5pb24tY29udGVudCB7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6ICNkZGRlZGU7XG4gICAgLy8gLS1iYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQod2hpdGUsIGdyZXkpICFpbXBvcnRhbnQ7XG5cbiAgICBpb24tY29sIHtcbiAgICAgICAgY29sb3I6IGJsYWNrO1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgfVxuICAgIGlvbi1yb3cge1xuICAgICAgICAtLWJhY2tncm91bmQ6IG5vbmU7XG4gICAgfVxuXG4gICAgaW9uLWxpc3Qge1xuICAgICAgICAtLWJhY2tncm91bmQ6IG5vbmU7XG4gICAgfVxuXG4gICAgaW9uLWNhcmQge1xuICAgICAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xuICAgICAgICBwYWRkaW5nOiA4cHg7XG4gICAgfVxuICAgIC5pbmZvIHtcbiAgICAgICAgY29sb3I6IGJsYWNrO1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgfVxufVxuI2NsYXNzIHtcbiAgICBtYXgtd2lkdGg6IDY1JSAhaW1wb3J0YW50O1xufVxuaW9uLXNlbGVjdCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG4uY2VudGVyIHtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICAvLyBjb2xvcjogcmdiKDEyNiwgNzAsIDcwKTtcbiAgICAvLyAvL2FsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbiAgICAvLyBmb250LXNpemU6IDE2cHg7XG4gICAgLy8gZm9udC13ZWlnaHQ6IDYwMDtcbn1cbi5ncmlkX2dyYXBocyB7XG4gICAgbWFyZ2luOiAtOHB4O1xufVxuXG5pb24taXRlbSB7XG4gICAgLS1ib3JkZXItY29sb3I6ICNmZmY7XG4gICAgLy8gLS1iYWNrZ3JvdW5kOiBub25lO1xufVxuIiwiaW9uLXNlZ21lbnQgaW9uLWxhYmVsIHtcbiAgY29sb3I6IHdoaXRlO1xuICB0ZXh0LXRyYW5zZm9ybTogdW5zZXQ7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cblxuaW9uLXNlZ21lbnQgaW9uLWxhYmVsIHtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXNpemU6IDEycHg7XG59XG5cbmlvbi1jb250ZW50IHtcbiAgZm9udC1zaXplOiAxMnB4O1xuICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjZGRkZWRlO1xufVxuaW9uLWNvbnRlbnQgaW9uLWNvbCB7XG4gIGNvbG9yOiBibGFjaztcbiAgZm9udC1zaXplOiAxMnB4O1xufVxuaW9uLWNvbnRlbnQgaW9uLXJvdyB7XG4gIC0tYmFja2dyb3VuZDogbm9uZTtcbn1cbmlvbi1jb250ZW50IGlvbi1saXN0IHtcbiAgLS1iYWNrZ3JvdW5kOiBub25lO1xufVxuaW9uLWNvbnRlbnQgaW9uLWNhcmQge1xuICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xuICBwYWRkaW5nOiA4cHg7XG59XG5pb24tY29udGVudCAuaW5mbyB7XG4gIGNvbG9yOiBibGFjaztcbiAgZm9udC1zaXplOiAxMnB4O1xufVxuXG4jY2xhc3Mge1xuICBtYXgtd2lkdGg6IDY1JSAhaW1wb3J0YW50O1xufVxuXG5pb24tc2VsZWN0IHtcbiAgd2lkdGg6IDEwMCU7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4uY2VudGVyIHtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG59XG5cbi5ncmlkX2dyYXBocyB7XG4gIG1hcmdpbjogLThweDtcbn1cblxuaW9uLWl0ZW0ge1xuICAtLWJvcmRlci1jb2xvcjogI2ZmZjtcbn0iXX0= */\"","import { Component, OnInit, ViewChild, AfterViewInit, Injectable } from '@angular/core';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { ActivatedRoute, Router, NavigationExtras } from '@angular/router';\nimport * as moment from 'moment';\nimport { SessionService } from 'src/app/services/session.service';\nimport { Chart } from 'chart.js';\nimport * as _ from 'underscore';\nimport { ModalController } from '@ionic/angular';\nimport { AnalyticsModalComponent } from 'src/app/analytics-modal/analytics-modal.component';\nimport { TooltipsModule } from 'ionic-tooltips';\n\n\n\n\n\n\n@Component({\n  selector: 'app-analytics',\n  templateUrl: './analytics.page.html',\n  styleUrls: ['./analytics.page.scss'],\n})\n\nexport class AnalyticsPage implements OnInit {\n  @ViewChild('lineChart') lineChart;\n  @ViewChild('lineChart2') lineChart2;\n  @ViewChild('lineChart3') lineChart3;\n  @ViewChild('overallChart') ovChart;\n  bars: any;\n  lines: any;\n  str_lines: any;\n  collorArray: any;\n  data: any;\n  student: any;\n  segment: any;\n  terms: any;\n  marks: any;\n  labels: any;\n  ctx: any;\n  fake: any;\n  subjects: any;\n  submarks: any;\n  math: any;\n  assets: any;\n  english: any;\n  kiswahli: any;\n  science: any;\n  ssre: any;\n  report_cards: any;\n  hidden: boolean;\n  t_id: any;\n  c_id: any;\n  class_history: any;\n  exam_marks: any;\n  type: any;\n  sort: number;\n  indx: any;\n  pies: any;\n  pos: any;\n  nodata: any;\n  options: any;\n  constructor(\n    private authService: AuthService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private session: SessionService,\n    private modalCtl: ModalController,\n    // private apexCharts: ApexChart,\n\n  ) {\n    this.data = new Array();\n    this.student = new Array();\n    this.terms = [];\n    this.segment = 'overall';\n    this.marks = [];\n    this.fake = 0;\n    this.hidden = true;\n    this.report_cards = new Array();\n    this.class_history = new Array();\n    this.exam_marks = new Array();\n    this.route.queryParams.subscribe(params => {\n      if (this.router.getCurrentNavigation().extras.state) {\n        this.student = this.router.getCurrentNavigation().extras.state.details;\n        // console.log(this.student);\n        this.assets = this.student.student_image === null ? 1 :\n          `https://${this.student.school}.eduweb.co.ke/assets/students/${this.student.student_image}`;\n      }\n    });\n\n    this.options = {\n      title: {\n        display: false,\n        text: 'Analysis for '\n      },\n      legend: {\n        display: false,\n      },\n      maintainAspectRatio: false,\n      responive: true,\n      scales: {\n        yAxes: [{\n          scaleLabel: {\n            display: false,\n            labelString: 'EXAM MARKS',\n            fontStyle: 'bold'\n          },\n          ticks: {\n            display: false,\n            beginAtZero: true,\n            suggestedMax: 100,\n            stepSize: 25\n          },\n          gridLines: {\n            display: true,\n            lineWidth: 1\n          }\n        }],\n        xAxes: [{\n          scaleLabel: {\n            display: false,\n            labelString: 'EXAM TYPE',\n            fontStyle: 'bold'\n          },\n          ticks: {\n            display: false\n          },\n          gridLines: {\n            display: true,\n            lineWidth: 1\n          }\n        }]\n      }\n    }\n  }\n\n  ngOnInit() {\n    this.authService.presentLoading()\n\n  }\n\n  async ionViewWillEnter() {\n    await this.authService.cards(this.student.school, this.student.student_id).subscribe(cards => {\n\n      this.data = cards;\n      this.labels = _.sortBy(this.data.data, 'term_id');\n      var n = [];\n      for (var i = 0; i < this.labels.length; i++) {\n\n        n = this.labels[i].exam_marks;\n\n      }\n\n      if (this.labels == undefined || this.labels.length === 0 || n === null) {\n        this.nodata = 'true';\n        this.authService.dismiss();\n      } else {\n        this.nodata = 'false';\n\n        this.report_cards = this.labels.reverse();\n        console.log(this.report_cards);\n        //display latest cards only\n        if (this.report_cards[0].year === '2020') {\n          this.sort = 1;\n          this.report_cards = this.report_cards.filter((x) => {\n            return x.year == '2020';\n          });\n\n        } else if (this.report_cards[0].year === '2019') {\n          this.sort = 0;\n          this.report_cards = this.report_cards.filter((y) => {\n            return y.year == '2019';\n          });\n\n        } else if (this.report_cards[0].year === '2018') {\n          this.sort = 0;\n          this.report_cards = this.report_cards.filter((y) => {\n            return y.year == '2018';\n          });\n        } else {\n          this.nodata = 'true';\n          this.authService.dismiss();\n        }\n        this.authService.dismiss();\n        this.pos = -1;\n        setTimeout(() => {\n          this.overallChart();\n          this.createChart(this.pos);\n        }, 2000);\n\n\n      }\n\n    });\n\n    await this.authService.schoolTerm(this.student.school, this.student.student_id).subscribe(\n      school_terms => {\n        this.data = school_terms;\n        this.terms = this.data.data;\n        this.class_history = this.terms.map(item => item.class_name).filter((value, index, self) => self.indexOf(value) === index);\n\n      }\n    );\n\n\n  }\n\n  //onclick\n  reportData(report) {\n    const navigationExtras: NavigationExtras = {\n      state: {\n        details: this.student,\n        reports: report\n      }\n    };\n    this.router.navigate(['analysis'], navigationExtras);\n\n  }\n  // hide filter\n  hide() {\n    if (this.hidden == true) {\n      document.getElementById('hid').hidden = false;\n      this.hidden = false\n    } else {\n      document.getElementById('hid').hidden = true;\n      this.hidden = true;\n      this.report_cards = this.labels.reverse();\n\n      if (this.report_cards[0].year === '2020') {\n        this.sort = 1;\n        this.report_cards = this.report_cards.filter((params) => {\n          return params.year == '2020';\n        });\n\n      } else {\n        this.sort = 0;\n        this.report_cards = this.report_cards.filter((y) => {\n          return y.year == '2019';\n        });\n\n      }\n      setTimeout(() => {\n        this.pos = -1;\n        this.createChart(this.pos);\n      }, 2000);\n    }\n\n  }\n  //class change\n  classChange($event) {\n    this.c_id = $event.target.value;\n    if (this.c_id === \"all\") {\n      this.terms = this.data.data;\n    } else {\n      this.terms = this.data.data;\n      this.terms = this.terms.filter(t => {\n        let ts = [];\n        ts = t.class_name;\n        return ts == this.c_id;\n      });\n    }\n    console.log(this.terms);\n  }\n  //term change\n  termChange($event) {\n    this.t_id = $event.target.value;\n  }\n  //filter\n  filter() {\n    this.report_cards = this.data.data === undefined ? [] : this.data.data;\n    //find index of the report_cards in reportcards\n    let c;\n    c = this.report_cards.filter(reports => {\n      var j = [];\n      j = reports.term_id;\n      return j == this.t_id;\n\n    });\n    console.log(c[0]);\n    this.pos = this.report_cards.indexOf(c[0]);\n    console.log(this.pos)\n    this.report_cards = this.report_cards.filter(reports => {\n      var j = [];\n      j = reports.term_id;\n      return j == this.t_id;\n\n    });\n\n    setTimeout(() => {\n      this.createChart(this.pos);\n    }, 2000);\n\n  }\n  // chart \n  createChart(pos) {\n    console.log(pos);\n    if (pos != -1) {\n\n      let term1 = this.report_cards[0].exam_marks;\n      let type1 = []\n      for (let h = 0; h < term1.length; h++) {\n        type1.push(term1[h].exam_type);\n      }\n      console.log(type1);\n      this.math = [];\n      this.english = [];\n      this.kiswahli = [];\n      this.science = [];\n      this.ssre = [];\n\n      for (var i = 0; i < term1.length; i++) {\n\n        let a;\n        a = _.sortBy(term1[i].exam_marks, 'subject_name');\n        a = a.filter((param) => {\n          var sub_id = [];\n          sub_id = param.parent_subject_id;\n          return sub_id == null;\n        });\n        this.math.push(a[0].mark);\n        this.english.push(a[1].mark);\n        this.kiswahli.push(a[2].mark);\n        this.science.push(a[3].mark);\n        this.ssre.push(a[4].mark);\n\n      }\n\n      let subjects = [];\n      for (var n = 0; n < term1[0].exam_marks.length; n++) {\n        let b;\n        b = _.sortBy(term1[0].exam_marks, 'subject_name');\n        if (b[n].parent_subject_id == null) {\n          subjects.push(b[n].subject_name);\n        }\n\n      }\n\n      this.bars = new Chart(this.lineChart.nativeElement, {\n        type: 'bar',\n        data: {\n          labels: type1,\n          datasets: [{\n            label: subjects[0],\n            data: this.math,\n            fill: false,\n            borderWidth: 0.5,\n            borderColor: 'orange'\n          },\n          {\n            label: subjects[1],\n            data: this.english,\n            borderWidth: 0.5,\n            fill: false,\n            borderColor: 'black'\n          },\n          {\n            label: subjects[2],\n            data: this.kiswahli,\n            borderWidth: 0.5,\n            borderColor: 'blue',\n            fill: false,\n          },\n          {\n            label: subjects[3],\n            data: this.science,\n            borderWidth: 0.5,\n            borderColor: 'red',\n            fill: false,\n          }, {\n            label: subjects[4],\n            data: this.ssre,\n            borderWidth: 0.5,\n            borderColor: 'green',\n            fill: false,\n          }]\n        },\n        options: this.options\n      });\n\n\n\n    } else {\n\n      for (var i = 0; i < this.report_cards.length; i++) {\n        // this.exam_marks = this.report_cards[i].exam_marks === undefined ? [] : this.report_cards[i].exam_marks;\n        this.exam_marks.push(this.report_cards[i].exam_marks);\n      }\n\n      let term1 = this.exam_marks[0];\n      let term2 = this.exam_marks[1];\n      let term3 = this.exam_marks[2];\n      console.log(term1[0].exam_marks)\n      //subjects\n      let subjects = [];\n      for (var n = 0; n < term1[0].exam_marks.length; n++) {\n        let b;\n        b = _.sortBy(term1[0].exam_marks, 'subject_name');\n        if (b[n].parent_subject_id == null) {\n          subjects.push(b[n].subject_name);\n        }\n\n      }\n\n      this.terms = [];\n\n\n      //exam types\n      let type1 = [];\n      let type2 = [];\n      let type3 = [];\n\n      // exam types\n      for (var h = 0; h < term1.length; h++) {\n        type1.push(term1[h].exam_type);\n      }\n      this.math = [];\n      this.english = [];\n      this.kiswahli = [];\n      this.science = [];\n      this.ssre = [];\n      let a;\n      for (let i = 0; i < term1.length; i++) {\n\n\n        a = _.sortBy(term1[i].exam_marks, 'subject_name');\n        a = a.filter((param) => {\n          var sub_id = [];\n          sub_id = param.parent_subject_id;\n          return sub_id == null;\n        });\n\n        this.math.push(a[0].mark);\n        this.english.push(a[1].mark);\n        this.kiswahli.push(a[2].mark);\n        this.science.push(a[3].mark);\n        this.ssre.push(a[4].mark);\n\n\n      }\n\n      this.bars = new Chart(this.lineChart.nativeElement, {\n        type: 'bar',\n        data: {\n          labels: type1,\n          datasets: [{\n            label: subjects[0],\n            data: this.math,\n            fill: false,\n            borderWidth: 0.5,\n            borderColor: 'orange'\n          },\n          {\n            label: subjects[1],\n            data: this.english,\n            borderWidth: 0.5,\n            fill: false,\n            borderColor: 'black'\n          },\n          {\n            label: subjects[2],\n            data: this.kiswahli,\n            borderWidth: 0.5,\n            borderColor: 'blue',\n            fill: false,\n          },\n          {\n            label: subjects[3],\n            data: this.science,\n            borderWidth: 0.5,\n            borderColor: 'red',\n            fill: false,\n          }, {\n            label: subjects[4],\n            data: this.ssre,\n            borderWidth: 0.5,\n            borderColor: 'green',\n            fill: false,\n          }]\n        },\n        options: this.options\n      });\n      if (term2 !== undefined || [] || term3 !== undefined || []) {\n        //exam types\n        for (let l = 0; l < term2.length; l++) {\n          type2.push(term2[l].exam_type);\n        }\n\n        if (term3 !== undefined) {\n          for (let m = 0; m < term3.length; m++) {\n            type3.push(term3[m].exam_type);\n          }\n        }\n        //marks\n        //term2\n        var math2 = [];\n        var eng2 = [];\n        var kis2 = [];\n        var sci2 = [];\n        var ssre2 = [];\n        let a;\n        for (var i = 0; i < term2.length; i++) {\n\n          a = _.sortBy(term2[i].exam_marks, 'subject_name');\n          a = a.filter((param) => {\n            var sub_id = [];\n            sub_id = param.parent_subject_id;\n            return sub_id == null;\n          });\n\n          math2.push(a[0].mark);\n          eng2.push(a[1].mark);\n          kis2.push(a[2].mark);\n          sci2.push(a[3].mark);\n          ssre2.push(a[4].mark);\n        }\n\n        //term 3\n        var math3 = [];\n        var eng3 = [];\n        var kis3 = [];\n        var sci3 = [];\n        var ssre3 = [];\n        if (term3 !== undefined) {\n          for (var i = 0; i < term3.length; i++) {\n\n            let a;\n            a = _.sortBy(term3[i].exam_marks, 'subject_name');\n            a = a.filter((param) => {\n              var sub_id = [];\n              sub_id = param.parent_subject_id;\n              return sub_id == null;\n            });\n\n            math3.push(a[0].mark);\n            eng3.push(a[1].mark);\n            kis3.push(a[2].mark);\n            sci3.push(a[3].mark);\n            ssre3.push(a[4].mark);\n\n          }\n        }\n        math2 = math2.filter((el) => {\n          return el != null;\n        });\n        eng2 = eng2.filter((el) => {\n          return el != null;\n        });\n        kis2 = kis2.filter((el) => {\n          return el != null;\n        });\n        sci2 = sci2.filter((el) => {\n          return el != null;\n        });\n        ssre2 = ssre2.filter((el) => {\n          return el != null;\n        });\n        this.lines = new Chart(this.lineChart2.nativeElement, {\n          type: 'bar',\n          data: {\n            labels: type2,\n            datasets: [{\n              label: subjects[0],\n              data: math2,\n              fill: false,\n              borderWidth: 0.5,\n              borderColor: 'orange'\n            },\n            {\n              label: subjects[1],\n              data: eng2,\n              borderWidth: 0.5,\n              fill: false,\n              borderColor: 'black'\n            },\n            {\n              label: subjects[2],\n              data: kis2,\n              borderWidth: 0.5,\n              borderColor: 'blue',\n              fill: false,\n            },\n            {\n              label: subjects[3],\n              data: sci2,\n              borderWidth: 0.5,\n              borderColor: 'red',\n              fill: false,\n            }, {\n              label: subjects[4],\n              data: ssre2,\n              borderWidth: 0.5,\n              borderColor: 'green',\n              fill: false,\n            }]\n          },\n          options: this.options\n        });\n        this.pies = new Chart(this.lineChart3.nativeElement, {\n          type: 'bar',\n          data: {\n            labels: type3,\n            datasets: [{\n              label: subjects[0],\n              data: math3,\n              fill: false,\n              borderWidth: 0.5,\n              borderColor: 'orange'\n            },\n            {\n              label: subjects[1],\n              data: eng3,\n              borderWidth: 0.5,\n              fill: false,\n              borderColor: 'black'\n            },\n            {\n              label: subjects[2],\n              data: kis3,\n              borderWidth: 0.5,\n              borderColor: 'blue',\n              fill: false,\n            },\n            {\n              label: subjects[3],\n              data: sci3,\n              borderWidth: 0.5,\n              borderColor: 'red',\n              fill: false,\n            }, {\n              label: subjects[4],\n              data: ssre3,\n              borderWidth: 0.5,\n              borderColor: 'green',\n              fill: false,\n            }]\n          },\n          options: this.options\n        });\n      }\n    }\n  }\n  //overall\n  overallChart() {\n    let ovMarks = [];\n    let termNames = [];\n    this.labels = _.sortBy(this.labels, 'term_id');\n    for (let i = 0; i < this.labels.length; i++) {\n      ovMarks.push(this.labels[i].overall_marks_and_grade[0].\n        this_term_marks_and_grade[0].overall_mark.substr(0, 3));\n\n      termNames.push(this.labels[i].term_name);\n    }\n    console.log(ovMarks);\n    console.log(termNames);\n\n    this.str_lines = new Chart(this.ovChart.nativeElement, {\n      type: 'line',\n      data: {\n        labels: termNames,\n        datasets: [{\n          label: 'Overall Marks',\n          data: ovMarks,\n          fill: true,\n          borderWidth: 2,\n          backgroundColor: 'rgba(57,124,73,0.3)',\n          borderColor: '#397C49'\n        }]\n      },\n      options: {\n        maintainAspectRatio: false,\n        scales: {\n          yAxes: [{\n            scaleLabel: {\n              display: false,\n              labelString: 'Ov MARKS',\n              fontStyle: 'bold'\n            },\n            ticks: {\n              display: true,\n              beginAtZero: true,\n              suggestedMax: 500,\n              stepSize: 250\n            }\n          }],\n          xAxes: [{\n            scaleLabel: {\n              display: true,\n              labelString: 'TERMS',\n              fontStyle: 'bold'\n            },\n            ticks: {\n              display: false\n            }\n          }]\n        }\n      }\n    });\n  }\n  //open modal \n  async openModal(r) {\n    const modal = await this.modalCtl.create({\n      component: AnalyticsModalComponent,\n      cssClass: 'modal-css',\n      componentProps: {\n        reports: r\n      }\n    });\n\n    await modal.present();\n  }\n  async ovModal() {\n    const modal = await this.modalCtl.create({\n      component: AnalyticsModalComponent,\n      cssClass: 'modal-css',\n      componentProps: {\n        reports: this.labels,\n        type: 'overall'\n      }\n    });\n\n    await modal.present();\n  }\n\n  onlyUnique(value, index, self) {\n    return self.indexOf(value) === index;\n  }\n  format(date) {\n    return moment(date).format('DD-MM-YYYY');\n  }\n\n\n}"]}