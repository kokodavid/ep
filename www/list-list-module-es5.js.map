{"version":3,"sources":["webpack:///src/app/list/list.page.html","webpack:///src/app/list/list.module.ts","webpack:///src/app/list/list.page.scss","webpack:///src/app/list/list.page.ts"],"names":["ListPageModule","imports","forChild","path","component","declarations","ListPage","authService","route","router","transfer","file","fileOpener","spinnerDialog","alertService","loadingController","items","spin","fake","setTimeout","feedbacks","Array","user","localStorage","getItem","u","JSON","parse","data","school","students","console","log","assets","presentLoading","checkFeed","then","feed","feedback","news","subscribe","dismiss","navigationExtras","navigate","extn","ext","toLowerCase","MIMETypes","fileExtn","split","reverse","fileMIMEType","getMIMEtype","showOpenWithDialog","e","presentToast","fileName","filePath","includes","uri","replace","url","encodeURI","fileTransfer","create","download","dataDirectory","entry","toURL","open","error","stringify","date","format","selector","template"],"mappings":"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","file":"list-list-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\" style=\\\"font-size: 14px;\\\">\\n      <ion-back-button text=\\\"\\\" icon=\\\"chevron-back\\\"></ion-back-button>\\n      <ion-icon slot=\\\"start\\\" size=\\\"30\\\" style=\\\"font-size: 1.6em ;margin-top:5px !important;\\\" name=\\\"notifications\\\">\\n      </ion-icon>FEEDBACK\\n    </ion-buttons>\\n    <!-- <ion-title style=\\\"text-align:inherit\\\" >\\n      <ion-item lines='none' color=\\\"primary\\\">\\n            <ion-icon  slot=\\\"start\\\"  size=\\\"30\\\" style=\\\"font-size: 1.6em ;margin-top:5px !important;\\\"  name=\\\"md-notifications\\\"></ion-icon>\\n\\n      <ion-label style=\\\"text-transform: uppercase;margin-top:5px !important;\\\">Feedback</ion-label>\\n    </ion-item> \\n    </ion-title> -->\\n  </ion-toolbar>\\n</ion-header>\\n<!-- <ion-item>\\n    <ion-avatar slot=\\\"start\\\" >\\n        <ion-icon   size=\\\"32\\\" style=\\\"font-size: 1.7em\\\"  name=\\\"md-notifications\\\"></ion-icon>\\n      </ion-avatar>\\n  <ion-label style=\\\"text-transform: uppercase;\\\">My Feedback</ion-label>\\n</ion-item> -->\\n<ion-content class=\\\"ion-no-padding\\\">\\n  <!-- <div class=\\\"clear\\\"><br></div> -->\\n  <ion-list *ngIf=\\\"feedbacks.length === 0 && fake === 1\\\">\\n    <!-- <ion-item *ngFor=\\\"let i of [1,2,3,4,5];  let i = index\\\"  >\\n         \\n             <ion-label>\\n               <h3><ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text></h3>\\n               <p><ion-skeleton-text animated style=\\\"width: 90%\\\"></ion-skeleton-text></p>\\n               <p><ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text></p>\\n             </ion-label>\\n      </ion-item> -->\\n    <br>\\n    <ion-spinner name=\\\"lines-small\\\" style=\\\"text-align: center; margin-left: 50%; margin-right: 50%;\\\" color=\\\"primary\\\">\\n    </ion-spinner>\\n  </ion-list>\\n  <ion-card *ngIf=\\\"feedbacks.length === 0 && fake === 0\\\">\\n    <ion-card-content>\\n      No feedback...\\n    </ion-card-content>\\n  </ion-card>\\n  <div *ngIf=\\\"feedbacks.length > 0\\\">\\n    <ion-card *ngFor=\\\"let item of feedbacks; let i = index;\\\">\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col col-12 style=\\\"font-weight: bold; font-size:12px; color: #009e0f; text-transform:uppercase\\\">\\n            <ion-icon name=\\\"notifications\\\"></ion-icon> <strong>{{item.subject}}</strong>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col col-12 style=\\\"font-size:13px;color: black\\\">\\n            {{item.message}}\\n          </ion-col>\\n        </ion-row>\\n        <ion-row (click)=\\\"download(item.student_attachment, assets + item.student_attachment)\\\">\\n          <ion-col col-12 style=\\\"font-size:13px;color: blue\\\">\\n            {{item.student_attachment}}\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col col-6 style=\\\"font-weight:500;\\\">\\n            <small>Created On: {{this.formatDate(item.sent_date)}}</small>\\n          </ion-col>\\n          <ion-col col-6 style=\\\"font-weight:500;\\\">\\n            <small>By: {{item.parent_full_name}}</small>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-card>\\n  </div>\\n  <ion-fab *ngIf=\\\"feedback === 'true'\\\" vertical=\\\"bottom\\\" (click)=\\\"addfeed()\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button color=\\\"tertiary\\\">\\n      <ion-icon name=\\\"chatbox-ellipses\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\n\nimport { ListPage } from './list.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: ListPage\n      }\n    ])\n  ],\n  declarations: [ListPage]\n})\nexport class ListPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xpc3QvbGlzdC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router, NavigationExtras } from '@angular/router';\nimport { AuthService } from 'src/app/services/auth.service';\nimport * as moment from 'moment';\nimport { MenuController, LoadingController } from '@ionic/angular';\nimport { SpinnerDialog } from '@ionic-native/spinner-dialog/ngx';\nimport { FileOpener } from '@ionic-native/file-opener/ngx';\nimport { FileTransfer, FileTransferObject } from '@ionic-native/file-transfer/ngx';\nimport { File } from '@ionic-native/file/ngx';\nimport { AlertService } from 'src/app/services/alert.service';\n@Component({\n  selector: 'app-list',\n  templateUrl: 'list.page.html',\n  styleUrls: ['list.page.scss']\n})\nexport class ListPage implements OnInit {\n  private selectedItem: any;\n  data: any;\n  school: any;\n  public feedback: any;\n  public feedbacks: any;\n  public spin: any;\n  loading: any;\n  fake: any;\n  attachments: any;\n  assets: any;\n  private fileTransfer: FileTransferObject;\n  public items: Array<{ title: string; note: string; icon: string }> = [];\n  constructor(\n    private authService: AuthService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private transfer: FileTransfer,\n    private file: File,\n    private fileOpener: FileOpener,\n    private spinnerDialog: SpinnerDialog,\n    private alertService: AlertService,\n    public loadingController: LoadingController) {\n    this.spin = 0;\n    this.fake = 0;\n    setTimeout(() => {\n      this.fake = 0;\n    }, 3000);\n    this.feedbacks = new Array();\n    // this.route.queryParams.subscribe(params => {\n    //   if (this.router.getCurrentNavigation().extras.state) {\n    //     this.data = this.router.getCurrentNavigation().extras.state.details;\n\n    //   }\n    // });\n\n    const user = localStorage.getItem('token');\n    const u = JSON.parse(user);\n    this.data = u;\n    this.school = this.data.students[0].school;\n    console.log(this.school);\n    \n    this.assets = `http://cdn2.eduweb.co.ke/homework_attachments/${this.school}/documents/`;\n    console.log(this.assets);\n\n\n  }\n\n  async ngOnInit() {\n    const user = await localStorage.getItem('token');\n    const u = JSON.parse(user);\n    this.data = u;\n    this.school = this.data.students[0].school;\n    \n\n\n  }\n  async ionViewWillEnter() {\n    this.authService.presentLoading();\n    /// this.spinnerDialog.show();\n    // etTimeout(async () => await this.spinnerDialog.hide(), 3000);\n    this.spin = 1;\n    await this.authService.checkFeed().then(\n      feed => {\n        this.spin = 0;\n\n        this.feedback = feed;\n        \n      }\n    );\n\n    await this.authService.news().subscribe(\n      news => {\n        this.spin = 0;\n        this.authService.dismiss();\n        console.log(news);\n        this.data = news;\n        this.feedbacks = this.data.data.feedback[this.school];\n        console.log(this.feedbacks);\n        // this.assets = `https://${this.school}.eduweb.co.ke/assets/posts/`\n\n      }\n    );\n\n  }\n  addfeed() {\n    const navigationExtras: NavigationExtras = {};\n    this.router.navigate(['feedback'], navigationExtras);\n  }\n  getMIMEtype(extn) {\n    let ext = extn.toLowerCase();\n    let MIMETypes = {\n      'txt': 'text/plain',\n      'docx': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n      'doc': 'application/msword',\n      'pdf': 'application/pdf',\n      'jpg': 'image/jpeg',\n      'bmp': 'image/bmp',\n      'png': 'image/png',\n      'xls': 'application/vnd.ms-excel',\n      'xlsx': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n      'rtf': 'application/rtf',\n      'ppt': 'application/vnd.ms-powerpoint',\n      'pptx': 'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n      'flv': 'video/x-flv',\n      'mp4': 'video/mp4',\n      'm3u8': 'application/x-mpegURL',\n      'ts': 'video/MP2T',\n      '3gp': 'video/3gpp',\n      'mov': 'video/quicktime',\n      'avi': 'video/x-msvideo',\n      'wmv': 'video/x-ms-wmv'\n\n    }\n    return MIMETypes[ext];\n  }\n\n  open(file) {\n    this.authService.dismiss();\n    // this.spinnerDialog.hide();\n    const fileExtn = file.split('.').reverse()[0];\n    const fileMIMEType = this.getMIMEtype(fileExtn);\n    console.log(fileExtn, fileMIMEType, file);\n    this.fileOpener.showOpenWithDialog(file, fileMIMEType)\n      .then(() => console.log('File is opened'))\n      .catch(e => {\n        this.alertService.presentToast(e);\n      });\n  }\n  async download(fileName, filePath) {\n    if (fileName.includes(\"mp4\")){\n      const uri =  filePath.replace(\"/documents/\", \"/videos/\");\n\n      await this.authService.presentLoading();\n    // this.spinnerDialog.show();\n    // const  fileExtn = fileName.split('.').reverse()[0];\n    // const fileMIMEType = this.getMIMEtype(fileExtn);\n    const url = encodeURI(uri);\n    console.log(uri)\n    this.fileTransfer = this.transfer.create();\n    this.fileTransfer.download(url, this.file.dataDirectory + fileName, true).then((entry) => {\n        // here logging our success downloaded file path in mobile.\n        console.log('download completed: ' + entry.toURL());\n        // open downloaded file\n        // this.downloadFile = entry.toURL();\n        this.open(entry.toURL());\n    }).catch((error) => {\n        this.authService.dismiss();\n        // this.spinnerDialog.hide();\n        // here logging an error.\n        // if (/\\s/.test(fileName)) {\n        //     this.alertService.presentToast('Download failed: File Name has spaces');\n        // }\n        // this.alertService.presentToast('Download failed: Attempting to open multiple documents');\n        this.alertService.presentToast('error'+JSON.stringify(error));\n        console.log('download failed: ' + JSON.stringify(error));\n    });\n    }else{\n      await this.authService.presentLoading();\n      // this.spinnerDialog.show();\n      // const  fileExtn = fileName.split('.').reverse()[0];\n      // const fileMIMEType = this.getMIMEtype(fileExtn);\n      const url = encodeURI(filePath);\n      console.log(filePath)\n      this.fileTransfer = this.transfer.create();\n      this.fileTransfer.download(url, this.file.dataDirectory + fileName, true).then((entry) => {\n          // here logging our success downloaded file path in mobile.\n          console.log('download completed: ' + entry.toURL());\n          // open downloaded file\n          // this.downloadFile = entry.toURL();\n          this.open(entry.toURL());\n      }).catch((error) => {\n          this.authService.dismiss();\n          // this.spinnerDialog.hide();\n          // here logging an error.\n          // if (/\\s/.test(fileName)) {\n          //     this.alertService.presentToast('Download failed: File Name has spaces');\n          // }\n          // this.alertService.presentToast('Download failed: Attempting to open multiple documents');\n          this.alertService.presentToast('error'+JSON.stringify(error));\n          console.log('download failed: ' + JSON.stringify(error));\n      });\n    }\n   \n}\n  formatDate(date) {\n    return moment(date).format('MMM D, YYYY');\n  }\n  // add back when alpha.4 is out\n  // navigate(item) {\n  //   this.router.navigate(['/list', JSON.stringify(item)]);\n  // }\n}\n"]}