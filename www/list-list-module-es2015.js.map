{"version":3,"sources":["./src/app/list/list.page.html","./src/app/list/list.module.ts","./src/app/list/list.page.scss","./src/app/list/list.page.ts"],"names":[],"mappings":"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","file":"list-list-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\" style=\\\"font-size: 14px;\\\">\\n      <ion-back-button text=\\\"\\\" icon=\\\"chevron-back\\\"></ion-back-button>\\n      <ion-icon slot=\\\"start\\\" size=\\\"30\\\" style=\\\"font-size: 1.6em ;margin-top:5px !important;\\\" name=\\\"notifications\\\">\\n      </ion-icon>FEEDBACK\\n    </ion-buttons>\\n    <!-- <ion-title style=\\\"text-align:inherit\\\" >\\n      <ion-item lines='none' color=\\\"primary\\\">\\n            <ion-icon  slot=\\\"start\\\"  size=\\\"30\\\" style=\\\"font-size: 1.6em ;margin-top:5px !important;\\\"  name=\\\"md-notifications\\\"></ion-icon>\\n\\n      <ion-label style=\\\"text-transform: uppercase;margin-top:5px !important;\\\">Feedback</ion-label>\\n    </ion-item> \\n    </ion-title> -->\\n  </ion-toolbar>\\n</ion-header>\\n<!-- <ion-item>\\n    <ion-avatar slot=\\\"start\\\" >\\n        <ion-icon   size=\\\"32\\\" style=\\\"font-size: 1.7em\\\"  name=\\\"md-notifications\\\"></ion-icon>\\n      </ion-avatar>\\n  <ion-label style=\\\"text-transform: uppercase;\\\">My Feedback</ion-label>\\n</ion-item> -->\\n<ion-content class=\\\"ion-no-padding\\\">\\n  <!-- <div class=\\\"clear\\\"><br></div> -->\\n  <ion-list *ngIf=\\\"feedbacks.length === 0 && fake === 1\\\">\\n    <!-- <ion-item *ngFor=\\\"let i of [1,2,3,4,5];  let i = index\\\"  >\\n         \\n             <ion-label>\\n               <h3><ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text></h3>\\n               <p><ion-skeleton-text animated style=\\\"width: 90%\\\"></ion-skeleton-text></p>\\n               <p><ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text></p>\\n             </ion-label>\\n      </ion-item> -->\\n    <br>\\n    <ion-spinner name=\\\"lines-small\\\" style=\\\"text-align: center; margin-left: 50%; margin-right: 50%;\\\" color=\\\"primary\\\">\\n    </ion-spinner>\\n  </ion-list>\\n  <ion-card *ngIf=\\\"feedbacks.length === 0 && fake === 0\\\">\\n    <ion-card-content>\\n      No feedback...\\n    </ion-card-content>\\n  </ion-card>\\n  <div *ngIf=\\\"feedbacks.length > 0\\\">\\n    <ion-card *ngFor=\\\"let item of feedbacks; let i = index;\\\">\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col col-12 style=\\\"font-weight: bold; font-size:12px; color: #009e0f; text-transform:uppercase\\\">\\n            <ion-icon name=\\\"notifications\\\"></ion-icon> <strong>{{item.subject}}</strong>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col col-12 style=\\\"font-size:13px;color: black\\\">\\n            {{item.message}}\\n          </ion-col>\\n        </ion-row>\\n        <ion-row (click)=\\\"download(item.student_attachment, assets + item.student_attachment)\\\">\\n          <ion-col col-12 style=\\\"font-size:13px;color: blue\\\">\\n            {{item.student_attachment}}\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col col-6 style=\\\"font-weight:500;\\\">\\n            <small>Created On: {{this.formatDate(item.sent_date)}}</small>\\n          </ion-col>\\n          <ion-col col-6 style=\\\"font-weight:500;\\\">\\n            <small>By: {{item.parent_full_name}}</small>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-card>\\n  </div>\\n  <ion-fab *ngIf=\\\"feedback === 'true'\\\" vertical=\\\"bottom\\\" (click)=\\\"addfeed()\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button color=\\\"tertiary\\\">\\n      <ion-icon name=\\\"chatbox-ellipses\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\n\nimport { ListPage } from './list.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: ListPage\n      }\n    ])\n  ],\n  declarations: [ListPage]\n})\nexport class ListPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xpc3QvbGlzdC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router, NavigationExtras } from '@angular/router';\nimport { AuthService } from 'src/app/services/auth.service';\nimport * as moment from 'moment';\nimport { MenuController, LoadingController } from '@ionic/angular';\nimport { SpinnerDialog } from '@ionic-native/spinner-dialog/ngx';\nimport { FileOpener } from '@ionic-native/file-opener/ngx';\nimport { FileTransfer, FileTransferObject } from '@ionic-native/file-transfer/ngx';\nimport { File } from '@ionic-native/file/ngx';\nimport { AlertService } from 'src/app/services/alert.service';\n@Component({\n  selector: 'app-list',\n  templateUrl: 'list.page.html',\n  styleUrls: ['list.page.scss']\n})\nexport class ListPage implements OnInit {\n  private selectedItem: any;\n  data: any;\n  school: any;\n  public feedback: any;\n  public feedbacks: any;\n  public spin: any;\n  loading: any;\n  fake: any;\n  attachments: any;\n  assets: any;\n  private fileTransfer: FileTransferObject;\n  public items: Array<{ title: string; note: string; icon: string }> = [];\n  constructor(\n    private authService: AuthService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private transfer: FileTransfer,\n    private file: File,\n    private fileOpener: FileOpener,\n    private spinnerDialog: SpinnerDialog,\n    private alertService: AlertService,\n    public loadingController: LoadingController) {\n    this.spin = 0;\n    this.fake = 0;\n    setTimeout(() => {\n      this.fake = 0;\n    }, 3000);\n    this.feedbacks = new Array();\n    // this.route.queryParams.subscribe(params => {\n    //   if (this.router.getCurrentNavigation().extras.state) {\n    //     this.data = this.router.getCurrentNavigation().extras.state.details;\n\n    //   }\n    // });\n\n    const user = localStorage.getItem('token');\n    const u = JSON.parse(user);\n    this.data = u;\n    this.school = this.data.students[0].school;\n    console.log(this.school);\n    \n    this.assets = `http://cdn2.eduweb.co.ke/homework_attachments/${this.school}/documents/`;\n    console.log(this.assets);\n\n\n  }\n\n  async ngOnInit() {\n    const user = await localStorage.getItem('token');\n    const u = JSON.parse(user);\n    this.data = u;\n    this.school = this.data.students[0].school;\n    \n\n\n  }\n  async ionViewWillEnter() {\n    this.authService.presentLoading();\n    /// this.spinnerDialog.show();\n    // etTimeout(async () => await this.spinnerDialog.hide(), 3000);\n    this.spin = 1;\n    await this.authService.checkFeed().then(\n      feed => {\n        this.spin = 0;\n\n        this.feedback = feed;\n        \n      }\n    );\n\n    await this.authService.news().subscribe(\n      news => {\n        this.spin = 0;\n        this.authService.dismiss();\n        console.log(news);\n        this.data = news;\n        this.feedbacks = this.data.data.feedback[this.school];\n        console.log(this.feedbacks);\n        // this.assets = `https://${this.school}.eduweb.co.ke/assets/posts/`\n\n      }\n    );\n\n  }\n  addfeed() {\n    const navigationExtras: NavigationExtras = {};\n    this.router.navigate(['feedback'], navigationExtras);\n  }\n  getMIMEtype(extn) {\n    let ext = extn.toLowerCase();\n    let MIMETypes = {\n      'txt': 'text/plain',\n      'docx': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n      'doc': 'application/msword',\n      'pdf': 'application/pdf',\n      'jpg': 'image/jpeg',\n      'bmp': 'image/bmp',\n      'png': 'image/png',\n      'xls': 'application/vnd.ms-excel',\n      'xlsx': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n      'rtf': 'application/rtf',\n      'ppt': 'application/vnd.ms-powerpoint',\n      'pptx': 'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n      'flv': 'video/x-flv',\n      'mp4': 'video/mp4',\n      'm3u8': 'application/x-mpegURL',\n      'ts': 'video/MP2T',\n      '3gp': 'video/3gpp',\n      'mov': 'video/quicktime',\n      'avi': 'video/x-msvideo',\n      'wmv': 'video/x-ms-wmv'\n\n    }\n    return MIMETypes[ext];\n  }\n\n  open(file) {\n    this.authService.dismiss();\n    // this.spinnerDialog.hide();\n    const fileExtn = file.split('.').reverse()[0];\n    const fileMIMEType = this.getMIMEtype(fileExtn);\n    console.log(fileExtn, fileMIMEType, file);\n    this.fileOpener.showOpenWithDialog(file, fileMIMEType)\n      .then(() => console.log('File is opened'))\n      .catch(e => {\n        this.alertService.presentToast(e);\n      });\n  }\n  async download(fileName, filePath) {\n    if (fileName.includes(\"mp4\")){\n      const uri =  filePath.replace(\"/documents/\", \"/videos/\");\n\n      await this.authService.presentLoading();\n    // this.spinnerDialog.show();\n    // const  fileExtn = fileName.split('.').reverse()[0];\n    // const fileMIMEType = this.getMIMEtype(fileExtn);\n    const url = encodeURI(uri);\n    console.log(uri)\n    this.fileTransfer = this.transfer.create();\n    this.fileTransfer.download(url, this.file.dataDirectory + fileName, true).then((entry) => {\n        // here logging our success downloaded file path in mobile.\n        console.log('download completed: ' + entry.toURL());\n        // open downloaded file\n        // this.downloadFile = entry.toURL();\n        this.open(entry.toURL());\n    }).catch((error) => {\n        this.authService.dismiss();\n        // this.spinnerDialog.hide();\n        // here logging an error.\n        // if (/\\s/.test(fileName)) {\n        //     this.alertService.presentToast('Download failed: File Name has spaces');\n        // }\n        // this.alertService.presentToast('Download failed: Attempting to open multiple documents');\n        this.alertService.presentToast('error'+JSON.stringify(error));\n        console.log('download failed: ' + JSON.stringify(error));\n    });\n    }else{\n      await this.authService.presentLoading();\n      // this.spinnerDialog.show();\n      // const  fileExtn = fileName.split('.').reverse()[0];\n      // const fileMIMEType = this.getMIMEtype(fileExtn);\n      const url = encodeURI(filePath);\n      console.log(filePath)\n      this.fileTransfer = this.transfer.create();\n      this.fileTransfer.download(url, this.file.dataDirectory + fileName, true).then((entry) => {\n          // here logging our success downloaded file path in mobile.\n          console.log('download completed: ' + entry.toURL());\n          // open downloaded file\n          // this.downloadFile = entry.toURL();\n          this.open(entry.toURL());\n      }).catch((error) => {\n          this.authService.dismiss();\n          // this.spinnerDialog.hide();\n          // here logging an error.\n          // if (/\\s/.test(fileName)) {\n          //     this.alertService.presentToast('Download failed: File Name has spaces');\n          // }\n          // this.alertService.presentToast('Download failed: Attempting to open multiple documents');\n          this.alertService.presentToast('error'+JSON.stringify(error));\n          console.log('download failed: ' + JSON.stringify(error));\n      });\n    }\n   \n}\n  formatDate(date) {\n    return moment(date).format('MMM D, YYYY');\n  }\n  // add back when alpha.4 is out\n  // navigate(item) {\n  //   this.router.navigate(['/list', JSON.stringify(item)]);\n  // }\n}\n"],"sourceRoot":"webpack:///"}