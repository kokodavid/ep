{"version":3,"sources":["webpack:///src/app/pages/student/resources/resources.page.html","webpack:///src/app/pages/student/resources/resources.module.ts","webpack:///src/app/pages/student/resources/resources.page.scss","webpack:///src/app/pages/student/resources/resources.page.ts"],"names":["routes","path","component","ResourcesPageModule","imports","forChild","declarations","ResourcesPage","authService","sessionService","route","router","domSanitizer","iap","device","transfer","file","fileOpener","alertService","resources","Array","fake","setTimeout","sessionTimeOut","queryParams","subscribe","params","getCurrentNavigation","extras","state","student","details","value","resource","school","assets","student_image","link","platform","console","log","checkFeed","then","feed","feedback","getResources","student_id","data","undefined","vid_id","map","a","vimeo_path","forEach","item","index","mypath","vidUrl","bypassSecurityTrustResourceUrl","extn","ext","toLowerCase","MIMETypes","dismiss","fileExtn","split","reverse","fileMIMEType","getMIMEtype","showOpenWithDialog","e","presentToast","fileName","filePath","presentLoading","url","encodeURI","fileTransfer","create","download","dataDirectory","entry","toURL","open","error","test","date","format","navigationExtras","navigate","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACOf,QAAMA,MAAM,GAAW,CACnB;AACIC,UAAI,EAAE,EADV;AAEIC,eAAS,EAAE;AAFf,KADmB,CAAvB;;AAgBA,QAAaC,mBAAmB;AAAA;AAAA,KAAhC;;AAAaA,uBAAmB,6DAT/B,+DAAS;AACNC,aAAO,EAAE,CACL,4DADK,EAEL,0DAFK,EAGL,0DAHK,EAIL,6DAAaC,QAAb,CAAsBL,MAAtB,CAJK,CADH;AAOVM,kBAAY,EAAE,CAAC,6DAAD;AAPJ,KAAT,CAS+B,GAAnBH,mBAAmB,CAAnB;;;;;;;;;;;;;;;;ACvBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqBf,QAAaI,aAAa;AAAA;AAAA;AAetB,6BACYC,WADZ,EAEYC,cAFZ,EAGYC,KAHZ,EAIYC,MAJZ,EAKYC,YALZ,EAMYC,GANZ,EAOYC,MAPZ,EAQYC,QARZ,EASYC,IATZ,EAUYC,UAVZ,EAWYC,YAXZ,EAWsC;AAAA;;AAAA;;AAV1B,aAAAV,WAAA,GAAAA,WAAA;AACA,aAAAC,cAAA,GAAAA,cAAA;AACA,aAAAC,KAAA,GAAAA,KAAA;AACA,aAAAC,MAAA,GAAAA,MAAA;AACA,aAAAC,YAAA,GAAAA,YAAA;AACA,aAAAC,GAAA,GAAAA,GAAA;AACA,aAAAC,MAAA,GAAAA,MAAA;AACA,aAAAC,QAAA,GAAAA,QAAA;AACA,aAAAC,IAAA,GAAAA,IAAA;AACA,aAAAC,UAAA,GAAAA,UAAA;AACA,aAAAC,YAAA,GAAAA,YAAA;AAER,aAAKC,SAAL,GAAiB,IAAIC,KAAJ,EAAjB;AACA,aAAKC,IAAL,GAAY,CAAZ;AACAC,kBAAU,CAAC,YAAM;AACb,eAAI,CAACD,IAAL,GAAY,CAAZ;AACH,SAFS,EAEP,IAFO,CAAV;AAGA,aAAKZ,cAAL,CAAoBc,cAApB;AACA,aAAKb,KAAL,CAAWc,WAAX,CAAuBC,SAAvB,CAAiC,UAAAC,MAAM,EAAI;AACvC,cAAI,KAAI,CAACf,MAAL,CAAYgB,oBAAZ,GAAmCC,MAAnC,CAA0CC,KAA9C,EAAqD;AACjD,iBAAI,CAACC,OAAL,GAAe,KAAI,CAACnB,MAAL,CAAYgB,oBAAZ,GAAmCC,MAAnC,CAA0CC,KAA1C,CAAgDE,OAA/D;AACA,iBAAI,CAACC,KAAL,GAAa,KAAI,CAACrB,MAAL,CAAYgB,oBAAZ,GAAmCC,MAAnC,CAA0CC,KAA1C,CAAgDI,QAA7D;AACA,iBAAI,CAACC,MAAL,GAAc,KAAI,CAACJ,OAAL,CAAaI,MAA3B;AACA,iBAAI,CAACC,MAAL,GAAc,KAAI,CAACL,OAAL,CAAaM,aAAb,KAA+B,IAA/B,GAAsC,CAAtC,qBACC,KAAI,CAACN,OAAL,CAAaI,MADd,2CACqD,KAAI,CAACJ,OAAL,CAAaM,aADlE,CAAd;AAEA,iBAAI,CAACC,IAAL,gDAAkD,KAAI,CAACH,MAAvD,iBANiD,CAQjD;AAEH;AAEJ,SAbD;AAeH;;AAjDqB;AAAA;AAAA,mCAkDX;AACP,eAAKI,QAAL,GAAgB,KAAKxB,MAAL,CAAYwB,QAA5B;AACAC,iBAAO,CAACC,GAAR,CAAY,KAAKF,QAAjB;AAEH;AAtDqB;AAAA;AAAA,2CAuDG;;;;;;;;;;;AACrB,2BAAM,KAAK9B,WAAL,CAAiBiC,SAAjB,GAA6BC,IAA7B,CACF,UAAAC,IAAI,EAAI;AACJ,4BAAI,CAACC,QAAL,GAAgBD,IAAhB;AACH,qBAHC,CAAN;;;;AAKA,2BAAM,KAAKnC,WAAL,CAAiBqC,YAAjB,CAA8B,KAAKf,OAAL,CAAaI,MAA3C,EAAmD,KAAKJ,OAAL,CAAagB,UAAhE,EAA4ErB,SAA5E,CACF,UAAAQ,QAAQ,EAAI;AACR,4BAAI,CAACc,IAAL,GAAYd,QAAZ;AACA,4BAAI,CAACd,SAAL,GAAiB,MAAI,CAAC4B,IAAL,CAAUA,IAAV,KAAmBC,SAAnB,GAA+B,MAAI,CAACD,IAAL,CAAUA,IAAzC,GAAgD,EAAjE,CAFQ,CAGR;;AACA,0BAAIE,MAAM,GAAG,MAAI,CAAC9B,SAAL,CAAe+B,GAAf,CAAmB,UAAAC,CAAC;AAAA,+BAAIA,CAAC,CAACC,UAAN;AAAA,uBAApB,CAAb;;AACA,4BAAI,CAACjC,SAAL,CAAekC,OAAf,CAAuB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AACpC;AACA;AACA,4BAAIC,MAAM,4CAAqCF,IAAI,CAACF,UAA1C,CAAV;AACA,8BAAI,CAACK,MAAL,GAAc,MAAI,CAAC7C,YAAL,CAAkB8C,8BAAlB,CAAiDF,MAAjD,CAAd,CAJoC,CAKpC;;AACAF,4BAAI,CAAC,iBAAD,CAAJ,GAA0B,MAAI,CAACG,MAA/B;AAEH,uBARD;AAUH,qBAhBC,CAAN;;;;;;;;;AAsBH;AAnFqB;AAAA;AAAA,oCAoFVE,IApFU,EAoFJ;AACd,cAAIC,GAAG,GAAGD,IAAI,CAACE,WAAL,EAAV;AACA,cAAIC,SAAS,GAAG;AACZ,mBAAO,YADK;AAEZ,oBAAQ,yEAFI;AAGZ,mBAAO,oBAHK;AAIZ,mBAAO,iBAJK;AAKZ,mBAAO,YALK;AAMZ,mBAAO,WANK;AAOZ,mBAAO,WAPK;AAQZ,mBAAO,0BARK;AASZ,oBAAQ,mEATI;AAUZ,mBAAO,iBAVK;AAWZ,mBAAO,+BAXK;AAYZ,oBAAQ;AAZI,WAAhB;AAcA,iBAAOA,SAAS,CAACF,GAAD,CAAhB;AACH;AArGqB;AAAA;AAAA,6BAsGjB5C,IAtGiB,EAsGX;AAAA;;AACP,eAAKR,WAAL,CAAiBuD,OAAjB,GADO,CAEP;;AACA,cAAMC,QAAQ,GAAGhD,IAAI,CAACiD,KAAL,CAAW,GAAX,EAAgBC,OAAhB,GAA0B,CAA1B,CAAjB;AACA,cAAMC,YAAY,GAAG,KAAKC,WAAL,CAAiBJ,QAAjB,CAArB;AACAzB,iBAAO,CAACC,GAAR,CAAYwB,QAAZ,EAAsBG,YAAtB,EAAoCnD,IAApC;AACA,eAAKC,UAAL,CAAgBoD,kBAAhB,CAAmCrD,IAAnC,EAAyCmD,YAAzC,EACKzB,IADL,CACU;AAAA,mBAAMH,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAAN;AAAA,WADV,WAEW,UAAA8B,CAAC,EAAI;AACR,kBAAI,CAACpD,YAAL,CAAkBqD,YAAlB,CAA+BD,CAA/B;AACH,WAJL;AAKH;AAjHqB;AAAA;AAAA,iCAkHPE,QAlHO,EAkHGC,QAlHH,EAkHa;;;;;;;;;;;;AA4B3B,2BAAM,KAAKjE,WAAL,CAAiBkE,cAAjB,EAAN;;;AACA;AACA;AACA;AACMC,uB,GAAMC,SAAS,CAACH,QAAD,C;AACrB,yBAAKI,YAAL,GAAoB,KAAK9D,QAAL,CAAc+D,MAAd,EAApB;AACA,yBAAKD,YAAL,CAAkBE,QAAlB,CAA2BJ,GAA3B,EAAgC,KAAK3D,IAAL,CAAUgE,aAAV,GAA0BR,QAA1D,EAAoE,IAApE,EAA0E9B,IAA1E,CAA+E,UAACuC,KAAD,EAAW;AACtF;AACA1C,6BAAO,CAACC,GAAR,CAAY,yBAAyByC,KAAK,CAACC,KAAN,EAArC,EAFsF,CAGtF;AACA;;AACA,4BAAI,CAACC,IAAL,CAAUF,KAAK,CAACC,KAAN,EAAV;AACH,qBAND,WAMS,UAACE,KAAD,EAAW;AAChB,4BAAI,CAAC5E,WAAL,CAAiBuD,OAAjB,GADgB,CAEhB;AACA;;;AACA,0BAAI,KAAKsB,IAAL,CAAUb,QAAV,CAAJ,EAAyB;AACrB,8BAAI,CAACtD,YAAL,CAAkBqD,YAAlB,CAA+B,uCAA/B;AACH;;AACD,4BAAI,CAACrD,YAAL,CAAkBqD,YAAlB,CAA+B,iCAA/B;;AACAhC,6BAAO,CAACC,GAAR,CAAY,iCAAZ;AACH,qBAfD,E,CAgBJ;;;;;;;;;AAEH;AAtKqB;AAAA;AAAA,mCA0KX8C,IA1KW,EA0KL;AACb,iBAAO,mCAAM,CAACA,IAAD,CAAN,CAAaC,MAAb,CAAoB,aAApB,CAAP;AACH;AA5KqB;AAAA;AAAA,kCA6KZ;AACN,cAAMC,gBAAgB,GAAqB,EAA3C;AACA,eAAK7E,MAAL,CAAY8E,QAAZ,CAAqB,CAAC,UAAD,CAArB,EAAmCD,gBAAnC;AACH;AAhLqB;;AAAA;AAAA,OAA1B;;;;cAgB6B;;cACG;;cACT;;cACC;;cACM;;cACT;;cACG;;cACE;;cACJ;;cACM;;cACE;;;;AA1BjBjF,iBAAa,6DANzB,gEAAU;AACPmF,cAAQ,EAAE,eADH;AAEPC,cAAQ,EAAR;AAAA;AAAA,gHAFO;;;;AAAA,KAAV,CAMyB,E,+EAgBG,yE,EACG,+E,EACT,8D,EACC,sD,EACM,sE,EACT,6E,EACG,+D,EACE,6E,EACJ,4D,EACM,wE,EACE,4E,EA1BJ,GAAbpF,aAAa,CAAb","file":"pages-student-resources-resources-module-es5.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar color=\\\"primary\\\">\\n        <ion-buttons slot=\\\"start\\\" style=\\\"font-size: 14px;\\\">\\n            <ion-back-button text=\\\"\\\" icon=\\\"chevron-back\\\"></ion-back-button>RESOURCES\\n        </ion-buttons>\\n        <!-- <ion-title style=\\\"font-size:14px;\\\">GALLERY</ion-title> -->\\n    </ion-toolbar>\\n    <ion-item lines=\\\"none\\\">\\n        <ion-avatar slot=\\\"start\\\" *ngIf=\\\"assets !==1\\\">\\n            <img src={{assets}}>\\n        </ion-avatar>\\n        <ion-avatar slot=\\\"start\\\" *ngIf=\\\"assets === 1\\\">\\n            <ion-icon size=\\\"32\\\" style=\\\"font-size: 2em\\\" name=\\\"happy-outline\\\"></ion-icon>\\n        </ion-avatar>\\n        <ion-label style=\\\"text-transform: uppercase;\\\">{{student.first_name}} {{student.middle_name}}\\n            {{student.last_name}}\\n        </ion-label>\\n    </ion-item>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-no-padding\\\">\\n\\n    <ion-list *ngIf=\\\"resources.length === 0 && fake === 1\\\">\\n        <br>\\n        <ion-spinner name=\\\"lines-small\\\" style=\\\"text-align: center; margin-left: 50%; margin-right: 50%;\\\"\\n            color=\\\"primary\\\">\\n        </ion-spinner>\\n    </ion-list>\\n\\n    <ion-card *ngIf=\\\"resources.length === 0 && fake === 0\\\">\\n        <ion-item>\\n            No Resources\\n        </ion-item>\\n    </ion-card>\\n    <div class=\\\"info\\\" *ngIf=\\\"resources.length > 0\\\">\\n        <div *ngFor=\\\"let r of resources; let i = index\\\">\\n            <ion-item>\\n                <div *ngIf=\\\"r.file_name.includes('mp4'); else doc\\\">\\n                    <ion-icon name=\\\"videocam\\\" style=\\\"position: relative; color: black;\\\"></ion-icon>\\n                </div>\\n                <ng-template #doc>\\n                    <ion-icon name=\\\"document-text\\\" style=\\\"position: relative; color: black;\\\"></ion-icon>\\n                </ng-template>\\n                <ion-grid>\\n                    <ion-row>\\n                        <ion-col class=\\\"info\\\" col-6\\n                            style=\\\"color:#009e0f; font-weight:bold; text-transform: uppercase; font-size: 12px;\\\">\\n                            {{r.resource_name}}\\n                        </ion-col>\\n                    </ion-row>\\n                    <ion-row>\\n                        <ion-col class=\\\"info\\\" style=\\\"font-size: 14px;\\\" col-6>\\n                            {{r.additional_text}}\\n                        </ion-col>\\n                    </ion-row>\\n                    <div *ngIf=\\\"r.resource_type === 'VIDEO'\\\">\\n                        <ion-row>\\n                            <div *ngIf=\\\"platform === 'iOS'; else android\\\">\\n                                <iframe [src]='r.vimeo_path_full' width=\\\"100%\\\" height=\\\"100%\\\" frameborder=\\\"0\\\"\\n                                    allow=\\\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture; fullscreen\\\"\\n                                    allowfullscreen></iframe>\\n                                \\n                            </div>\\n                            <ng-template #android>\\n                                <a href=\\\"https://player.vimeo.com/video/{{r.vimeo_path}}\\\"\\n                                    style=\\\"font-size:14px; padding: 08px; color: blue; text-decoration:none; border-bottom: blue 1px !important\\\">{{r.file_name}}</a>\\n                            </ng-template>\\n                        </ion-row>\\n                    </div>\\n                    <div *ngIf=\\\"r.resource_type === 'DOCUMENT'\\\">\\n                        <ion-row style=\\\"font-size:14px; padding: 08px; color: blue; border-bottom: blue 1px !important\\\"\\n                            (click)=\\\"download(r.file_name,link + r.file_name)\\\">\\n                            {{r.file_name}}\\n                        </ion-row>\\n                    </div>\\n                    <ion-row>\\n                        <ion-col col-12>\\n                            <!-- <p (click)=play(r.vimeo_path) style=\\\"color: blue;\\\">https://player.vimeo.com/video/{{r.vimeo_path}}</p> -->\\n\\n                        </ion-col>\\n                    </ion-row>\\n\\n                    <ion-row>\\n                        <ion-col col-12>\\n                            <small>{{this.formatDate(r.creation_date)}}, By {{r.teacher_name}}</small>\\n                        </ion-col>\\n                    </ion-row>\\n                </ion-grid>\\n            </ion-item>\\n        </div>\\n    </div>\\n    <ion-fab *ngIf=\\\"feedback === 'true'\\\" vertical=\\\"bottom\\\" (click)=\\\"addfeed()\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n        <ion-fab-button color=\\\"tertiary\\\">\\n            <ion-icon name=\\\"chatbox-ellipses\\\"></ion-icon>\\n        </ion-fab-button>\\n    </ion-fab>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule, Routes } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { ResourcesPage } from './resources.page';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: ResourcesPage\n    }\n];\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        RouterModule.forChild(routes)\n    ],\ndeclarations: [ResourcesPage]\n})\nexport class ResourcesPageModule{}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3N0dWRlbnQvcmVzb3VyY2VzL3Jlc291cmNlcy5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { SessionService } from 'src/app/services/session.service';\nimport { ActivatedRoute, Router, NavigationExtras } from '@angular/router';\nimport * as moment from 'moment';\nimport { ThrowStmt } from '@angular/compiler';\nimport { DomSanitizer, SafeResourceUrl } from \"@angular/platform-browser\";\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\nimport { Device } from '@ionic-native/device/ngx'\nimport { FileOpener } from '@ionic-native/file-opener/ngx';\nimport { FileTransfer, FileTransferObject } from '@ionic-native/file-transfer/ngx';\nimport { File } from '@ionic-native/file/ngx';\nimport { AlertService } from 'src/app/services/alert.service';\n\n\n@Component({\n    selector: 'app-resources',\n    templateUrl: './resources.page.html',\n    styleUrls: ['./resources.page.scss']\n})\n\nexport class ResourcesPage implements OnInit {\n    data: any;\n    feedback: any;\n    fake: any;\n    student: any;\n    assets: any;\n    resources: any;\n    school: any;\n    value: any;\n    vidUrl: SafeResourceUrl;\n    comId: any;\n    platform: any;\n    link: any;\n    private fileTransfer: FileTransferObject;\n\n    constructor(\n        private authService: AuthService,\n        private sessionService: SessionService,\n        private route: ActivatedRoute,\n        private router: Router,\n        private domSanitizer: DomSanitizer,\n        private iap: InAppBrowser,\n        private device: Device,\n        private transfer: FileTransfer,\n        private file: File,\n        private fileOpener: FileOpener,\n        private alertService: AlertService,\n    ) {\n        this.resources = new Array();\n        this.fake = 1;\n        setTimeout(() => {\n            this.fake = 0;\n        }, 6000);\n        this.sessionService.sessionTimeOut();\n        this.route.queryParams.subscribe(params => {\n            if (this.router.getCurrentNavigation().extras.state) {\n                this.student = this.router.getCurrentNavigation().extras.state.details;\n                this.value = this.router.getCurrentNavigation().extras.state.resource;\n                this.school = this.student.school;\n                this.assets = this.student.student_image === null ? 1 :\n                    `https://${this.student.school}.eduweb.co.ke/assets/students/${this.student.student_image}`;\n                this.link = `https://cdn.eduweb.co.ke/resources/${this.school}/documents/`;\n\n                // https://cdn.eduweb.co.ke/resources/kingsinternational/documents/SOCIAL%20STUDIES%20HOLYDAY%20HOMEWORK%20STD%207%202020.docx\n  \n            }\n\n        });\n\n    }\n    ngOnInit() {\n        this.platform = this.device.platform;\n        console.log(this.platform)\n\n    }\n    async ionViewWillEnter() {\n        await this.authService.checkFeed().then(\n            feed => {\n                this.feedback = feed;\n            }\n        )\n        await this.authService.getResources(this.student.school, this.student.student_id).subscribe(\n            resource => {\n                this.data = resource;\n                this.resources = this.data.data !== undefined ? this.data.data : [];\n                // console.log(JSON.stringify(this.resources));\n                var vid_id = this.resources.map(a => a.vimeo_path);\n                this.resources.forEach((item, index) => {\n                    // this.vidUrl = this.domSanitizer.bypassSecurityTrustResourceUrl(`https://player.vimeo.com/${video.vimeo_path}`);\n                    // let sanitized_path = this.domSanitizer.bypassSecurityTrustResourceUrl(`https://player.vimeo.com/video/${item.vimeo_path}`);\n                    let mypath = `https://player.vimeo.com/video/${item.vimeo_path}`;\n                    this.vidUrl = this.domSanitizer.bypassSecurityTrustResourceUrl(mypath);\n                    // let sanitized_path : SafeResourceUrl;\n                    item['vimeo_path_full'] = this.vidUrl\n\n                });\n\n            }\n        );\n\n        // this.resources = this.value[this.student.school] !== undefined ? this.value[this.student.school] : [];\n        // console.log(JSON.stringify(this.resources));\n\n    }\n    getMIMEtype(extn) {\n        let ext = extn.toLowerCase();\n        let MIMETypes = {\n            'txt': 'text/plain',\n            'docx': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n            'doc': 'application/msword',\n            'pdf': 'application/pdf',\n            'jpg': 'image/jpeg',\n            'bmp': 'image/bmp',\n            'png': 'image/png',\n            'xls': 'application/vnd.ms-excel',\n            'xlsx': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n            'rtf': 'application/rtf',\n            'ppt': 'application/vnd.ms-powerpoint',\n            'pptx': 'application/vnd.openxmlformats-officedocument.presentationml.presentation'\n        }\n        return MIMETypes[ext];\n    }\n    open(file) {\n        this.authService.dismiss();\n        // this.spinnerDialog.hide();\n        const fileExtn = file.split('.').reverse()[0];\n        const fileMIMEType = this.getMIMEtype(fileExtn);\n        console.log(fileExtn, fileMIMEType, file);\n        this.fileOpener.showOpenWithDialog(file, fileMIMEType)\n            .then(() => console.log('File is opened'))\n            .catch(e => {\n                this.alertService.presentToast(e);\n            });\n    }\n    async download(fileName, filePath) {\n        // if(/\\s/.test(filePath)){\n        //     const shortName = filePath.split(' ').join('%');\n        //     console.log(shortName);\n\n        //     await this.authService.presentLoading();\n        //     // this.spinnerDialog.show();\n        //     // const  fileExtn = fileName.split('.').reverse()[0];\n        //     // const fileMIMEType = this.getMIMEtype(fileExtn);\n        //     const url = encodeURI(shortName);\n        //     this.fileTransfer = this.transfer.create();\n        //     this.fileTransfer.download(url, this.file.dataDirectory + shortName, true).then((entry) => {\n        //         // here logging our success downloaded file path in mobile.\n        //         console.log('download completed: ' + entry.toURL());\n        //         // open downloaded file\n        //         // this.downloadFile = entry.toURL();\n        //         this.open(entry.toURL());\n        //     }).catch((error) => {\n        //         this.authService.dismiss();\n        //         // this.spinnerDialog.hide();\n        //         // here logging an error.\n        //         if (/\\s/.test(fileName)) {\n        //             this.alertService.presentToast('Download failed: File Name has spaces');\n        //         }\n        //         this.alertService.presentToast('Download failed: Attempting to open multiple documents');\n        //         console.log('download failed: ' + JSON.stringify(error));\n        //     });\n        // }else{\n            await this.authService.presentLoading();\n            // this.spinnerDialog.show();\n            // const  fileExtn = fileName.split('.').reverse()[0];\n            // const fileMIMEType = this.getMIMEtype(fileExtn);\n            const url = encodeURI(filePath);\n            this.fileTransfer = this.transfer.create();\n            this.fileTransfer.download(url, this.file.dataDirectory + fileName, true).then((entry) => {\n                // here logging our success downloaded file path in mobile.\n                console.log('download completed: ' + entry.toURL());\n                // open downloaded file\n                // this.downloadFile = entry.toURL();\n                this.open(entry.toURL());\n            }).catch((error) => {\n                this.authService.dismiss();\n                // this.spinnerDialog.hide();\n                // here logging an error.\n                if (/\\s/.test(fileName)) {\n                    this.alertService.presentToast('Download failed: File Name has spaces');\n                }\n                this.alertService.presentToast('Download failed: File not found' );\n                console.log('download failed: File not found');\n            });\n        // }\n       \n    }\n\n\n\n    formatDate(date) {\n        return moment(date).format('MMM D, YYYY');\n    }\n    addfeed() {\n        const navigationExtras: NavigationExtras = {};\n        this.router.navigate(['feedback'], navigationExtras);\n    }\n}\n"]}