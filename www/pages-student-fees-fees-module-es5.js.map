{"version":3,"sources":["webpack:///src/app/pages/student/fees/fees.page.html","webpack:///src/app/pages/student/fees/fees.module.ts","webpack:///src/app/pages/student/fees/fees.page.scss","webpack:///src/app/pages/student/fees/fees.page.ts"],"names":["routes","path","component","FeesPageModule","imports","forChild","declarations","FeesPage","authService","route","router","session","segment","invoices","Array","payments","feeitems","summary","balance","Object","fake","setTimeout","sessionTimeOut","queryParams","subscribe","params","getCurrentNavigation","extras","state","student","details","assets","student_image","school","checkFeed","then","feed","console","log","feedback","feesBalance","student_id","data","nodata","fee_summary","fees","Feeitems","data1","Invoices","item","data4","reverse","Payments","items","data3","ev","date","format","n","num","isNaN","Math","abs","toFixed","replace","navigationExtras","navigate","selector","template"],"mappings":"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","file":"pages-student-fees-fees-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n      <ion-buttons slot=\\\"start\\\" style=\\\"font-size: 14px;\\\">\\n          <ion-back-button text=\\\"\\\" icon=\\\"chevron-back\\\"></ion-back-button>PAYMENTS & INVOICES\\n        </ion-buttons>\\n    <!-- <ion-title style=\\\"font-size:14px;\\\">PAYMENTS & INVOICES</ion-title> -->\\n  </ion-toolbar>\\n  <ion-item>\\n      <ion-avatar slot=\\\"start\\\" *ngIf=\\\"assets !==1\\\">\\n          <img src={{assets}}>\\n        </ion-avatar>\\n        <ion-avatar slot=\\\"start\\\" *ngIf=\\\"assets === 1\\\">\\n            <ion-icon   size=\\\"32\\\" style=\\\"font-size: 2em\\\"  name=\\\"happy-outline\\\"></ion-icon>\\n          </ion-avatar>\\n          <ion-label style=\\\"text-transform: uppercase;\\\">{{student.first_name}} {{student.middle_name}} {{student.last_name}}</ion-label>\\n    </ion-item>\\n  <ion-segment (ionChange)=\\\"segmentChanged($event)\\\" [(ngModel)]=\\\"segment\\\"  value=\\\"details\\\"  mode=\\\"md\\\">\\n      <ion-segment-button value=\\\"summary\\\">\\n        <ion-label>Summary</ion-label>\\n      </ion-segment-button>\\n      <ion-segment-button value=\\\"invoices\\\">\\n        <ion-label>Invoices</ion-label>\\n      </ion-segment-button>\\n      <ion-segment-button value=\\\"payments\\\">\\n      <ion-label>Payments</ion-label>\\n      </ion-segment-button>\\n        <ion-segment-button value=\\\"feeItems\\\">\\n          <ion-label>Fee Items</ion-label>\\n        </ion-segment-button>\\n    </ion-segment>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-no-padding\\\">\\n  <div style=\\\"height: 5px;\\\"></div>\\n\\n    <div [ngSwitch]=\\\"segment\\\" >\\n     \\n        <div *ngSwitchCase=\\\"'summary'\\\" >\\n         \\n          <ion-grid>\\n            <ion-row class=\\\"summary\\\">\\n              <ion-col col-4 class=\\\"credit\\\" style=\\\"border: 2px white solid !important;\\\">\\n                Credit<br>\\n                {{this.fn(balance.total_credit)}}\\n              </ion-col>\\n                <ion-col col-4 class=\\\"balance\\\" style=\\\"border: 2px white solid !important;\\\">\\n                    Balance<br>\\n                    {{this.fn(balance.balance)}}\\n          </ion-col>\\n            </ion-row>\\n          </ion-grid>\\n          <ion-list *ngIf=\\\"summary.length === 0 && fake === 1\\\">\\n              <br>\\n              <ion-spinner   name=\\\"lines-small\\\" style=\\\"text-align: center; margin-left: 50%; margin-right: 50%;\\\" color=\\\"primary\\\"></ion-spinner>\\n              </ion-list>\\n          <ion-item *ngIf=\\\"summary.length == 0 && fake === 0 \\\">\\n              No fee summaries.\\n        </ion-item>\\n        <ion-item *ngFor=\\\"let item of summary;  let i = index\\\">\\n            <ion-grid>\\n                <ion-row>\\n                  <ion-col col-6>\\n                    <strong>{{item.fee_item}}</strong>\\n                  </ion-col>\\n                  <ion-col col-6 class=\\\"bal\\\" >\\n                    <strong>{{this.fn(item.balance)}} {{item.currency}}</strong>\\n                    </ion-col>\\n                </ion-row>\\n                <ion-row>\\n                <ion-col col-6>\\n                    <small>Opening : {{item.total_due}}</small>\\n                  </ion-col>\\n                  <ion-col col-6 class=\\\"center\\\">\\n                      <small>Paid: {{this.fn(item.total_paid)}} {{item.currency}}</small>\\n                    </ion-col>\\n                </ion-row>\\n              </ion-grid>\\n        </ion-item>\\n        </div>\\n\\n          <div *ngSwitchCase=\\\"'invoices'\\\" class=\\\"ion-no-padding\\\"> \\n              <ion-list *ngIf=\\\"invoices.length === 0 && fake === 1\\\">\\n                  <br>\\n                  <ion-spinner   name=\\\"lines-small\\\" style=\\\"text-align: center; margin-left: 50%; margin-right: 50%; \\\" color=\\\"primary\\\"></ion-spinner>\\n                  </ion-list>\\n              <ion-item *ngIf=\\\"invoices.length == 0 && fake === 0 \\\">\\n                  No invoices.\\n            </ion-item>\\n            <ion-item *ngFor=\\\"let item of invoices;  let i = index\\\">\\n                <ion-grid>\\n                    <ion-row>\\n                      <ion-col col-6 item-left>\\n                        <strong> INV#{{item.inv_id}}</strong>\\n                      </ion-col>\\n                      <ion-col col-6  *ngIf=\\\"item.balance < 0\\\" class=\\\"bal\\\">\\n                        <strong>{{this.fn(item.balance)}} {{item.currency}}</strong>\\n                        </ion-col>\\n                        <ion-col col-6 *ngIf=\\\"item.balance == 0 \\\" class=\\\"paid center\\\">\\n                            {{this.fn(item.balance)}} {{item.currency}}\\n                         </ion-col>\\n                    </ion-row>\\n                    <ion-row>\\n                        <ion-col col-6>\\n                            <small>Inv Date: {{this.formatDate(item.inv_date)}}</small>\\n                        </ion-col>\\n                        <ion-col col-6 class=\\\"center\\\">\\n                            <small>Due Date: {{this.formatDate(item.due_date)}}</small>\\n                          </ion-col>\\n                      </ion-row>\\n                    <ion-row>\\n                    <ion-col col-6>\\n                        <small>Inv Total:  {{item.total_due}}</small>\\n                      </ion-col>\\n                      <ion-col col-6 class=\\\"center\\\">\\n                          <small>Amt Paid: {{this.fn(item.total_paid)}} {{item.currency}}</small>\\n                        </ion-col>\\n                    </ion-row>\\n                  </ion-grid>\\n            </ion-item>\\n           \\n          </div> \\n\\n          <div *ngSwitchCase=\\\"'payments'\\\" class=\\\"ion-no-padding\\\">\\n              <ion-list *ngIf=\\\"payments.length === 0 && fake === 1\\\">\\n                  <br>\\n                  <ion-spinner   name=\\\"lines-small\\\" style=\\\"text-align: center; margin-left: 50%; margin-right: 50%;\\\" color=\\\"primary\\\"></ion-spinner>\\n                </ion-list>\\n              <ion-item *ngIf=\\\"payments.length == 0 && fake === 0 \\\">\\n                  No payments records.\\n            </ion-item>\\n            <ion-item *ngFor=\\\"let item of payments;  let i = index\\\">\\n                <ion-grid>\\n                    <ion-row>\\n                      <ion-col col-6>\\n                        <strong>Receipt No#{{item.payment_id}}</strong>\\n                      </ion-col>\\n                      <ion-col col-6 class=\\\"center\\\">\\n                          <strong>{{this.fn(item.amount)}} {{item.currency}}</strong>\\n                        </ion-col>\\n                    </ion-row>\\n                    <ion-row>\\n                        <ion-col col-6>\\n                            <strong>Received: {{this.formatDate(item.payment_date)}}</strong>\\n                        </ion-col>\\n                        <ion-col col-6 class=\\\"center\\\">\\n                            <strong> {{item.payment_method}} </strong>\\n                          </ion-col>\\n                      </ion-row>\\n                    <ion-row>\\n                    <ion-col col-12>\\n                        <small>Applied To:  {{item.applied_to}}</small>\\n                      </ion-col>\\n                    </ion-row>\\n                    <ion-row>\\n                        <ion-col col-12>\\n                            <small> Applied Unapplied:  {{this.fn(item.unapplied_amount)}}</small>\\n                          </ion-col>\\n                        </ion-row>\\n                  </ion-grid>\\n            </ion-item>\\n                \\n        </div>\\n          <div *ngSwitchCase=\\\"'feeItems'\\\" class=\\\"ion-no-padding\\\">\\n              <ion-list *ngIf=\\\"feeitems.length === 0 && fake === 1\\\">\\n                  <br>\\n                  <ion-spinner   name=\\\"lines-small\\\" style=\\\"text-align: center; margin-left: 50%; margin-right: 50%;\\\" color=\\\"primary\\\"></ion-spinner>\\n                  </ion-list>\\n              <ion-item *ngIf=\\\"feeitems.length == 0 &&  fake === 0 \\\">\\n                  No fee items.\\n            </ion-item>\\n            <ion-item *ngFor=\\\"let item of feeitems;  let i = index\\\">\\n                <ion-grid>\\n                    <ion-row>\\n                      <ion-col col-6>\\n                        {{item.fee_item}}\\n                      </ion-col>\\n                      <ion-col col-6 class=\\\"center\\\">\\n                          {{this.fn(item.amount)}} {{item.currency}}/{{item.frequency}}\\n                        </ion-col>\\n                    </ion-row>\\n                  </ion-grid>\\n            </ion-item>\\n           </div>\\n           \\n        </div>\\n        <ion-fab *ngIf=\\\"feedback === 'true'\\\" vertical=\\\"bottom\\\" (click)=\\\"addfeed()\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" >\\n          <ion-fab-button  color=\\\"tertiary\\\">\\n              <ion-icon name=\\\"chatbox-ellipses\\\"></ion-icon>\\n          </ion-fab-button>\\n        </ion-fab>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FeesPage } from './fees.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FeesPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [FeesPage]\n})\nexport class FeesPageModule {}\n","export default \"ion-segment ion-label {\\n  color: white;\\n  font-size: 12px;\\n}\\n\\nion-icon {\\n  font-size: 24px;\\n  font-weight: 600;\\n}\\n\\nion-card-header {\\n  color: black;\\n  font-size: 16px;\\n  font-weight: 700;\\n  background-color: #ddd;\\n}\\n\\nion-card-content {\\n  color: black;\\n  font-size: 13px;\\n}\\n\\nion-col {\\n  margin-top: -2px;\\n  color: black;\\n  font-size: 12px;\\n  border-left: 0px;\\n  font-weight: 450;\\n}\\n\\nion-row {\\n  margin-top: -5px;\\n}\\n\\n.info {\\n  color: black;\\n  font-size: 14px;\\n  font-weight: 500;\\n  font-weight: 500;\\n}\\n\\n.credit {\\n  align-items: center;\\n  background-color: #97bba7;\\n  color: #46a162;\\n  font-weight: 500;\\n  text-align: center;\\n  font-size: 14px;\\n}\\n\\n.balance {\\n  text-align: center;\\n  background-color: #ccafaf;\\n  color: #7e4646;\\n  font-weight: 500;\\n  font-size: 14px;\\n}\\n\\n.areas {\\n  text-align: center;\\n  background-color: #ccafaf;\\n  color: #7e4646;\\n  font-size: 14px;\\n}\\n\\nion-item {\\n  display: inline-block;\\n  width: 100%;\\n  margin-bottom: -2px;\\n  font-size: 13px;\\n  color: black;\\n  font-weight: 450;\\n}\\n\\n.bal {\\n  text-align: right;\\n  color: #7e4646;\\n  font-size: 16px;\\n  font-weight: 600;\\n}\\n\\n.center {\\n  text-align: right;\\n}\\n\\n.paid {\\n  color: #009e0f;\\n  font-size: 16px;\\n  font-weight: 600;\\n}\\n\\n.summary {\\n  align-items: center;\\n  background-color: #eee;\\n  margin-bottom: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rb2tvZGF2aWQvRG93bmxvYWRzL2VwL3NyYy9hcHAvcGFnZXMvc3R1ZGVudC9mZWVzL2ZlZXMucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9zdHVkZW50L2ZlZXMvZmVlcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUk7RUFDSSxZQUFBO0VBQ0EsZUFBQTtBQ0RSOztBREtBO0VBQ0ksZUFBQTtFQUNBLGdCQUFBO0FDRko7O0FESUE7RUFDSSxZQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0Esc0JBQUE7QUNESjs7QURHQTtFQUNJLFlBQUE7RUFDQSxlQUFBO0FDQUo7O0FER0E7RUFDSSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtBQ0FKOztBREVBO0VBQ0ksZ0JBQUE7QUNDSjs7QURDQTtFQUNJLFlBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtBQ0VKOztBREFBO0VBQ0ksbUJBQUE7RUFDQSx5QkFBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtBQ0dKOztBRENBO0VBQ0ksa0JBQUE7RUFFQSx5QkFBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7QUNDSjs7QURFQTtFQUNJLGtCQUFBO0VBRUEseUJBQUE7RUFDQSxjQUFBO0VBQ0EsZUFBQTtBQ0FKOztBREdBO0VBQ0kscUJBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0FDQUo7O0FERUE7RUFDSSxpQkFBQTtFQUNBLGNBQUE7RUFFQSxlQUFBO0VBQ0EsZ0JBQUE7QUNBSjs7QURHQTtFQUNJLGlCQUFBO0FDQUo7O0FEUUE7RUFDSSxjQUFBO0VBRUEsZUFBQTtFQUNBLGdCQUFBO0FDTko7O0FEU0E7RUFDQSxtQkFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7QUNOQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3N0dWRlbnQvZmVlcy9mZWVzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1zZWdtZW50e1xuICAgIC8vY29sb3I6d2hpdGU7XG4gICAgaW9uLWxhYmVse1xuICAgICAgICBjb2xvcjp3aGl0ZTtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgIH1cbn1cblxuaW9uLWljb257XG4gICAgZm9udC1zaXplOiAyNHB4O1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG5pb24tY2FyZC1oZWFkZXJ7XG4gICAgY29sb3I6YmxhY2s7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2RkZDtcbn1cbmlvbi1jYXJkLWNvbnRlbnR7XG4gICAgY29sb3I6YmxhY2s7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuXG59XG5pb24tY29se1xuICAgIG1hcmdpbi10b3A6IC0ycHg7XG4gICAgY29sb3I6YmxhY2s7XG4gICAgZm9udC1zaXplOiAxMnB4O1xuICAgIGJvcmRlci1sZWZ0OiAwcHg7XG4gICAgZm9udC13ZWlnaHQ6IDQ1MDtcbn1cbmlvbi1yb3d7XG4gICAgbWFyZ2luLXRvcDogLTVweDtcbn1cbi5pbmZve1xuICAgIGNvbG9yOmJsYWNrO1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG4uY3JlZGl0e1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE1MSwgMTg3LCAxNjcpO1xuICAgIGNvbG9yOnJnYig3MCwgMTYxLCA5OCk7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuXG59XG5cbi5iYWxhbmNle1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAvL2FsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDIwNCwgMTc1LCAxNzUpO1xuICAgIGNvbG9yOnJnYigxMjYsIDcwLCA3MCk7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICBmb250LXNpemU6IDE0cHg7XG59XG5cbi5hcmVhc3tcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgLy9hbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGJhY2tncm91bmQtY29sb3I6cmdiKDIwNCwgMTc1LCAxNzUpO1xuICAgIGNvbG9yOnJnYigxMjYsIDcwLCA3MCk7XG4gICAgZm9udC1zaXplOiAxNHB4O1xufVxuXG5pb24taXRlbXtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgd2lkdGg6MTAwJTtcbiAgICBtYXJnaW4tYm90dG9tOiAtMnB4O1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBjb2xvcjpibGFjaztcbiAgICBmb250LXdlaWdodDogNDUwO1xufVxuLmJhbHtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICBjb2xvcjogcmdiKDEyNiwgNzAsIDcwKTtcbiAgICAvL2FsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICBcbn1cbi5jZW50ZXJ7XG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgLy8gY29sb3I6IHJnYigxMjYsIDcwLCA3MCk7XG4gICAgLy8gLy9hbGlnbi1pdGVtczogZmxleC1lbmQ7XG4gICAgLy8gZm9udC1zaXplOiAxNnB4O1xuICAgIC8vIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgXG59XG5cbi5wYWlke1xuICAgIGNvbG9yOiAjMDA5ZTBmO1xuICAgIC8vYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICAgIFxufVxuLnN1bW1hcnl7XG5hbGlnbi1pdGVtczogY2VudGVyO1xuYmFja2dyb3VuZC1jb2xvcjojZWVlO1xubWFyZ2luLWJvdHRvbTogMTBweDtcbi8vbWFyZ2luOiAxMHB4O1xuXG59XG4iLCJpb24tc2VnbWVudCBpb24tbGFiZWwge1xuICBjb2xvcjogd2hpdGU7XG4gIGZvbnQtc2l6ZTogMTJweDtcbn1cblxuaW9uLWljb24ge1xuICBmb250LXNpemU6IDI0cHg7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG5cbmlvbi1jYXJkLWhlYWRlciB7XG4gIGNvbG9yOiBibGFjaztcbiAgZm9udC1zaXplOiAxNnB4O1xuICBmb250LXdlaWdodDogNzAwO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkO1xufVxuXG5pb24tY2FyZC1jb250ZW50IHtcbiAgY29sb3I6IGJsYWNrO1xuICBmb250LXNpemU6IDEzcHg7XG59XG5cbmlvbi1jb2wge1xuICBtYXJnaW4tdG9wOiAtMnB4O1xuICBjb2xvcjogYmxhY2s7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgYm9yZGVyLWxlZnQ6IDBweDtcbiAgZm9udC13ZWlnaHQ6IDQ1MDtcbn1cblxuaW9uLXJvdyB7XG4gIG1hcmdpbi10b3A6IC01cHg7XG59XG5cbi5pbmZvIHtcbiAgY29sb3I6IGJsYWNrO1xuICBmb250LXNpemU6IDE0cHg7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG5cbi5jcmVkaXQge1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTdiYmE3O1xuICBjb2xvcjogIzQ2YTE2MjtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXNpemU6IDE0cHg7XG59XG5cbi5iYWxhbmNlIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NhZmFmO1xuICBjb2xvcjogIzdlNDY0NjtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuXG4uYXJlYXMge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGJhY2tncm91bmQtY29sb3I6ICNjY2FmYWY7XG4gIGNvbG9yOiAjN2U0NjQ2O1xuICBmb250LXNpemU6IDE0cHg7XG59XG5cbmlvbi1pdGVtIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luLWJvdHRvbTogLTJweDtcbiAgZm9udC1zaXplOiAxM3B4O1xuICBjb2xvcjogYmxhY2s7XG4gIGZvbnQtd2VpZ2h0OiA0NTA7XG59XG5cbi5iYWwge1xuICB0ZXh0LWFsaWduOiByaWdodDtcbiAgY29sb3I6ICM3ZTQ2NDY7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cblxuLmNlbnRlciB7XG4gIHRleHQtYWxpZ246IHJpZ2h0O1xufVxuXG4ucGFpZCB7XG4gIGNvbG9yOiAjMDA5ZTBmO1xuICBmb250LXNpemU6IDE2cHg7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG5cbi5zdW1tYXJ5IHtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { EnvService } from '../../../services/env.service';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { ActivatedRoute, Router, NavigationExtras } from '@angular/router';\nimport * as moment from 'moment';\nimport { SessionService } from 'src/app/services/session.service';\n\n@Component({\n  selector: 'app-fees',\n  templateUrl: './fees.page.html',\n  styleUrls: ['./fees.page.scss'],\n})\nexport class FeesPage implements OnInit {\nsegment: any;\ndata: any;\ndata1: any;\ndata3: any;\ndata4: any;\nposts: any;\nfees: any;\nstudent: any;\nschool: any;\nassets: any;\nbalance: any;\nfeeitems: any[];\npayments: any[];\ninvoices: any[];\nsummary: any[];\nfeedback: any;\nfake: any;\n  constructor(private authService: AuthService, private route: ActivatedRoute, private router: Router, private session: SessionService) {\n    this.segment = 'summary';\n    this.invoices = new Array();\n    this.payments = new Array();\n    this.feeitems = new Array();\n    this.summary = new Array();\n    this.balance = new Object();\n    this.fake = 1;\n    setTimeout(() => {\n      this.fake = 0;\n    }, 3000);\n    this.session.sessionTimeOut();\n    this.route.queryParams.subscribe(params => {\n      if (this.router.getCurrentNavigation().extras.state) {\n        this.student = this.router.getCurrentNavigation().extras.state.details;\n        this.assets = this.student.student_image === null ? 1 :\n        `https://${this.student.school}.eduweb.co.ke/assets/students/${this.student.student_image}`;\n      }\n    });\n   }\n\n  ngOnInit() {\n  }\n  async ionViewWillEnter() {\n    await this.authService.checkFeed().then(\n      feed => {\n       console.log(feed);\n       this.feedback = feed;\n      }\n    );\n    await this.authService.feesBalance(this.student.school, this.student.student_id).subscribe(\n      balance => {\n       // console.log(news);\n        this.data = balance;\n        if (this.data.nodata) {\n          this.balance = {};\n          this.summary = [];\n        } else {\n        this.balance = this.data.data.fee_summary;\n        this.summary = this.data.data.fees;\n        }\n        // console.log(this.summary);\n      }\n    );\n    await this.authService.Feeitems(this.student.school, this.student.student_id).subscribe(\n      feeitems => {\n        // console.log(homeworks.data);\n        this.data1 = feeitems;\n        if (this.data1.nodata) {\n          this.feeitems = [];\n        } else {\n          this.feeitems = this.data1.data;\n        }\n       // console.log(this.feeitems);\n\n      });\n    await this.authService.Invoices(this.student.school, this.student.student_id).subscribe(\n        item => {\n         // console.log(news);\n          this.data4 = item;\n          if (this.data4.nodata) {\n            this.invoices = [];\n          } else {\n          const data = this.data4.data;\n          this.invoices = data.reverse();\n          }\n          // console.log(this.invoices);\n        }\n      );\n    await this.authService.Payments(this.student.school, this.student.student_id).subscribe(\n        items => {\n          // console.log(homeworks.data);\n          this.data3 = items;\n          console.log(this.data3);\n          if (this.data3.nodata) {\n            this.payments = [];\n          } else {\n            const data = this.data3.data;\n            this.payments = data.reverse();\n          }\n          // console.log(this.payments);\n        }\n    );\n  }\n  segmentChanged(ev: any) {\n    // console.log('Segment changed', ev);\n  }\n\n  formatDate(date) {\n      return moment(date).format('MMM D, YYYY');\n    }\n  fn(n) {\n  const num = isNaN(n) ? 0 : Math.abs(n);\n  return num.toFixed(2).replace(/(\\d)(?=(\\d{3})+\\.)/g, '$1,');\n  }\naddfeed() {\n  const navigationExtras: NavigationExtras = {};\n  this.router.navigate(['feedback'], navigationExtras);\n}\n}\n"]}