{"version":3,"sources":["./src/app/pages/student/resources/resources.page.html","./src/app/pages/student/resources/resources.module.ts","./src/app/pages/student/resources/resources.page.scss","./src/app/pages/student/resources/resources.page.ts"],"names":[],"mappings":"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","file":"pages-student-resources-resources-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar color=\\\"primary\\\">\\n        <ion-buttons slot=\\\"start\\\" style=\\\"font-size: 14px;\\\">\\n            <ion-back-button text=\\\"\\\" icon=\\\"chevron-back\\\"></ion-back-button>RESOURCES\\n        </ion-buttons>\\n        <!-- <ion-title style=\\\"font-size:14px;\\\">GALLERY</ion-title> -->\\n    </ion-toolbar>\\n    <ion-item lines=\\\"none\\\">\\n        <ion-avatar slot=\\\"start\\\" *ngIf=\\\"assets !==1\\\">\\n            <img src={{assets}}>\\n        </ion-avatar>\\n        <ion-avatar slot=\\\"start\\\" *ngIf=\\\"assets === 1\\\">\\n            <ion-icon size=\\\"32\\\" style=\\\"font-size: 2em\\\" name=\\\"happy-outline\\\"></ion-icon>\\n        </ion-avatar>\\n        <ion-label style=\\\"text-transform: uppercase;\\\">{{student.first_name}} {{student.middle_name}}\\n            {{student.last_name}}\\n        </ion-label>\\n    </ion-item>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-no-padding\\\">\\n\\n    <ion-list *ngIf=\\\"resources.length === 0 && fake === 1\\\">\\n        <br>\\n        <ion-spinner name=\\\"lines-small\\\" style=\\\"text-align: center; margin-left: 50%; margin-right: 50%;\\\"\\n            color=\\\"primary\\\">\\n        </ion-spinner>\\n    </ion-list>\\n\\n    <ion-card *ngIf=\\\"resources.length === 0 && fake === 0\\\">\\n        <ion-item>\\n            No Resources\\n        </ion-item>\\n    </ion-card>\\n    <div class=\\\"info\\\" *ngIf=\\\"resources.length > 0\\\">\\n        <div *ngFor=\\\"let r of resources; let i = index\\\">\\n            <ion-item>\\n                <div *ngIf=\\\"r.file_name.includes('mp4'); else doc\\\">\\n                    <ion-icon name=\\\"videocam\\\" style=\\\"position: relative; color: black;\\\"></ion-icon>\\n                </div>\\n                <ng-template #doc>\\n                    <ion-icon name=\\\"document-text\\\" style=\\\"position: relative; color: black;\\\"></ion-icon>\\n                </ng-template>\\n                <ion-grid>\\n                    <ion-row>\\n                        <ion-col class=\\\"info\\\" col-6\\n                            style=\\\"color:#009e0f; font-weight:bold; text-transform: uppercase; font-size: 12px;\\\">\\n                            {{r.resource_name}}\\n                        </ion-col>\\n                    </ion-row>\\n                    <ion-row>\\n                        <ion-col class=\\\"info\\\" style=\\\"font-size: 14px;\\\" col-6>\\n                            {{r.additional_text}}\\n                        </ion-col>\\n                    </ion-row>\\n                    <div *ngIf=\\\"r.resource_type === 'VIDEO'\\\">\\n                        <ion-row>\\n                            <div *ngIf=\\\"platform === 'iOS'; else android\\\">\\n                                <iframe [src]='r.vimeo_path_full' width=\\\"100%\\\" height=\\\"100%\\\" frameborder=\\\"0\\\"\\n                                    allow=\\\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture; fullscreen\\\"\\n                                    allowfullscreen></iframe>\\n                                \\n                            </div>\\n                            <ng-template #android>\\n                                <a href=\\\"https://player.vimeo.com/video/{{r.vimeo_path}}\\\"\\n                                    style=\\\"font-size:14px; padding: 08px; color: blue; text-decoration:none; border-bottom: blue 1px !important\\\">{{r.file_name}}</a>\\n                            </ng-template>\\n                        </ion-row>\\n                    </div>\\n                    <div *ngIf=\\\"r.resource_type === 'DOCUMENT'\\\">\\n                        <ion-row style=\\\"font-size:14px; padding: 08px; color: blue; border-bottom: blue 1px !important\\\"\\n                            (click)=\\\"download(r.file_name,link + r.file_name)\\\">\\n                            {{r.file_name}}\\n                        </ion-row>\\n                    </div>\\n                    <ion-row>\\n                        <ion-col col-12>\\n                            <!-- <p (click)=play(r.vimeo_path) style=\\\"color: blue;\\\">https://player.vimeo.com/video/{{r.vimeo_path}}</p> -->\\n\\n                        </ion-col>\\n                    </ion-row>\\n\\n                    <ion-row>\\n                        <ion-col col-12>\\n                            <small>{{this.formatDate(r.creation_date)}}, By {{r.teacher_name}}</small>\\n                        </ion-col>\\n                    </ion-row>\\n                </ion-grid>\\n            </ion-item>\\n        </div>\\n    </div>\\n    <ion-fab *ngIf=\\\"feedback === 'true'\\\" vertical=\\\"bottom\\\" (click)=\\\"addfeed()\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n        <ion-fab-button color=\\\"tertiary\\\">\\n            <ion-icon name=\\\"chatbox-ellipses\\\"></ion-icon>\\n        </ion-fab-button>\\n    </ion-fab>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule, Routes } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { ResourcesPage } from './resources.page';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: ResourcesPage\n    }\n];\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        RouterModule.forChild(routes)\n    ],\ndeclarations: [ResourcesPage]\n})\nexport class ResourcesPageModule{}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3N0dWRlbnQvcmVzb3VyY2VzL3Jlc291cmNlcy5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { SessionService } from 'src/app/services/session.service';\nimport { ActivatedRoute, Router, NavigationExtras } from '@angular/router';\nimport * as moment from 'moment';\nimport { ThrowStmt } from '@angular/compiler';\nimport { DomSanitizer, SafeResourceUrl } from \"@angular/platform-browser\";\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\nimport { Device } from '@ionic-native/device/ngx'\nimport { FileOpener } from '@ionic-native/file-opener/ngx';\nimport { FileTransfer, FileTransferObject } from '@ionic-native/file-transfer/ngx';\nimport { File } from '@ionic-native/file/ngx';\nimport { AlertService } from 'src/app/services/alert.service';\n\n\n@Component({\n    selector: 'app-resources',\n    templateUrl: './resources.page.html',\n    styleUrls: ['./resources.page.scss']\n})\n\nexport class ResourcesPage implements OnInit {\n    data: any;\n    feedback: any;\n    fake: any;\n    student: any;\n    assets: any;\n    resources: any;\n    school: any;\n    value: any;\n    vidUrl: SafeResourceUrl;\n    comId: any;\n    platform: any;\n    link: any;\n    private fileTransfer: FileTransferObject;\n\n    constructor(\n        private authService: AuthService,\n        private sessionService: SessionService,\n        private route: ActivatedRoute,\n        private router: Router,\n        private domSanitizer: DomSanitizer,\n        private iap: InAppBrowser,\n        private device: Device,\n        private transfer: FileTransfer,\n        private file: File,\n        private fileOpener: FileOpener,\n        private alertService: AlertService,\n    ) {\n        this.resources = new Array();\n        this.fake = 1;\n        setTimeout(() => {\n            this.fake = 0;\n        }, 6000);\n        this.sessionService.sessionTimeOut();\n        this.route.queryParams.subscribe(params => {\n            if (this.router.getCurrentNavigation().extras.state) {\n                this.student = this.router.getCurrentNavigation().extras.state.details;\n                this.value = this.router.getCurrentNavigation().extras.state.resource;\n                this.school = this.student.school;\n                this.assets = this.student.student_image === null ? 1 :\n                    `https://${this.student.school}.eduweb.co.ke/assets/students/${this.student.student_image}`;\n                this.link = `https://cdn.eduweb.co.ke/resources/${this.school}/documents/`;\n\n                // https://cdn.eduweb.co.ke/resources/kingsinternational/documents/SOCIAL%20STUDIES%20HOLYDAY%20HOMEWORK%20STD%207%202020.docx\n  \n            }\n\n        });\n\n    }\n    ngOnInit() {\n        this.platform = this.device.platform;\n        console.log(this.platform)\n\n    }\n    async ionViewWillEnter() {\n        await this.authService.checkFeed().then(\n            feed => {\n                this.feedback = feed;\n            }\n        )\n        await this.authService.getResources(this.student.school, this.student.student_id).subscribe(\n            resource => {\n                this.data = resource;\n                this.resources = this.data.data !== undefined ? this.data.data : [];\n                // console.log(JSON.stringify(this.resources));\n                var vid_id = this.resources.map(a => a.vimeo_path);\n                this.resources.forEach((item, index) => {\n                    // this.vidUrl = this.domSanitizer.bypassSecurityTrustResourceUrl(`https://player.vimeo.com/${video.vimeo_path}`);\n                    // let sanitized_path = this.domSanitizer.bypassSecurityTrustResourceUrl(`https://player.vimeo.com/video/${item.vimeo_path}`);\n                    let mypath = `https://player.vimeo.com/video/${item.vimeo_path}`;\n                    this.vidUrl = this.domSanitizer.bypassSecurityTrustResourceUrl(mypath);\n                    // let sanitized_path : SafeResourceUrl;\n                    item['vimeo_path_full'] = this.vidUrl\n\n                });\n\n            }\n        );\n\n        // this.resources = this.value[this.student.school] !== undefined ? this.value[this.student.school] : [];\n        // console.log(JSON.stringify(this.resources));\n\n    }\n    getMIMEtype(extn) {\n        let ext = extn.toLowerCase();\n        let MIMETypes = {\n            'txt': 'text/plain',\n            'docx': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n            'doc': 'application/msword',\n            'pdf': 'application/pdf',\n            'jpg': 'image/jpeg',\n            'bmp': 'image/bmp',\n            'png': 'image/png',\n            'xls': 'application/vnd.ms-excel',\n            'xlsx': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n            'rtf': 'application/rtf',\n            'ppt': 'application/vnd.ms-powerpoint',\n            'pptx': 'application/vnd.openxmlformats-officedocument.presentationml.presentation'\n        }\n        return MIMETypes[ext];\n    }\n    open(file) {\n        this.authService.dismiss();\n        // this.spinnerDialog.hide();\n        const fileExtn = file.split('.').reverse()[0];\n        const fileMIMEType = this.getMIMEtype(fileExtn);\n        console.log(fileExtn, fileMIMEType, file);\n        this.fileOpener.showOpenWithDialog(file, fileMIMEType)\n            .then(() => console.log('File is opened'))\n            .catch(e => {\n                this.alertService.presentToast(e);\n            });\n    }\n    async download(fileName, filePath) {\n        // if(/\\s/.test(filePath)){\n        //     const shortName = filePath.split(' ').join('%');\n        //     console.log(shortName);\n\n        //     await this.authService.presentLoading();\n        //     // this.spinnerDialog.show();\n        //     // const  fileExtn = fileName.split('.').reverse()[0];\n        //     // const fileMIMEType = this.getMIMEtype(fileExtn);\n        //     const url = encodeURI(shortName);\n        //     this.fileTransfer = this.transfer.create();\n        //     this.fileTransfer.download(url, this.file.dataDirectory + shortName, true).then((entry) => {\n        //         // here logging our success downloaded file path in mobile.\n        //         console.log('download completed: ' + entry.toURL());\n        //         // open downloaded file\n        //         // this.downloadFile = entry.toURL();\n        //         this.open(entry.toURL());\n        //     }).catch((error) => {\n        //         this.authService.dismiss();\n        //         // this.spinnerDialog.hide();\n        //         // here logging an error.\n        //         if (/\\s/.test(fileName)) {\n        //             this.alertService.presentToast('Download failed: File Name has spaces');\n        //         }\n        //         this.alertService.presentToast('Download failed: Attempting to open multiple documents');\n        //         console.log('download failed: ' + JSON.stringify(error));\n        //     });\n        // }else{\n            await this.authService.presentLoading();\n            // this.spinnerDialog.show();\n            // const  fileExtn = fileName.split('.').reverse()[0];\n            // const fileMIMEType = this.getMIMEtype(fileExtn);\n            const url = encodeURI(filePath);\n            this.fileTransfer = this.transfer.create();\n            this.fileTransfer.download(url, this.file.dataDirectory + fileName, true).then((entry) => {\n                // here logging our success downloaded file path in mobile.\n                console.log('download completed: ' + entry.toURL());\n                // open downloaded file\n                // this.downloadFile = entry.toURL();\n                this.open(entry.toURL());\n            }).catch((error) => {\n                this.authService.dismiss();\n                // this.spinnerDialog.hide();\n                // here logging an error.\n                if (/\\s/.test(fileName)) {\n                    this.alertService.presentToast('Download failed: File Name has spaces');\n                }\n                this.alertService.presentToast('Download failed: File not found' );\n                console.log('download failed: File not found');\n            });\n        // }\n       \n    }\n\n\n\n    formatDate(date) {\n        return moment(date).format('MMM D, YYYY');\n    }\n    addfeed() {\n        const navigationExtras: NavigationExtras = {};\n        this.router.navigate(['feedback'], navigationExtras);\n    }\n}\n"],"sourceRoot":"webpack:///"}