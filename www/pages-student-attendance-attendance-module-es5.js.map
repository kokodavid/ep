{"version":3,"sources":["webpack:///src/app/pages/student/attendance/attendance.page.html","webpack:///src/app/pages/student/attendance/attendance.module.ts","webpack:///src/app/pages/student/attendance/attendance.page.scss","webpack:///src/app/pages/student/attendance/attendance.page.ts"],"names":["routes","path","component","AttendancePageModule","imports","forChild","declarations","AttendancePage","authServices","router","route","sessionService","valid","state","queryParams","subscribe","params","getCurrentNavigation","extras","student","details","student_name","student_id","sub_domain","school_subdomain","class_name","school","assets","student_image","absent_days","Array","sessionTimeOut","duration","month","starting_dates","fake","setTimeout","segment","message","getAbsenteeism","days","data","response","undefined","console","log","i","length","oneDay","from","Date","starting","to","ending","push","format","getMonth","startMillis","getTime","endMillis","weekend","j","currentDay","getDay","total_days","Math","round","abs","$event","document","getElementById","hidden","detail","value","formatDate","index","absentForm","from_date","to_date","start","end","querySelector","scrollToTop","includes","reportAbsenteeism","reason","presentAlert2","navigationExtras","navigate","reset","$ev","date1","date2","isReadonly","date","selector","template"],"mappings":"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","file":"pages-student-attendance-attendance-module-es5.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar color=\\\"primary\\\">\\n        <ion-buttons slot=\\\"start\\\" style=\\\"font-size: 14px;\\\">\\n            <ion-back-button text=\\\"\\\" icon=\\\"chevron-back\\\">\\n            </ion-back-button>\\n            <div style=\\\"text-transform: uppercase;\\\"> attendance</div>\\n        </ion-buttons>\\n    </ion-toolbar>\\n\\n    <ion-segment (ionChange)=\\\"segmentChanged($event)\\\" [(ngModel)]=\\\"segment\\\" value=\\\"absenteeism\\\" mode=\\\"md\\\">\\n        <ion-segment-button value=\\\"absenteeism\\\">\\n            <ion-label style=\\\"color: white !important;\\\">Absenteeism</ion-label>\\n        </ion-segment-button>\\n        <ion-segment-button value=\\\"attendance\\\">\\n            <ion-label style=\\\"color: white !important;\\\">Attendance</ion-label>\\n        </ion-segment-button>\\n    </ion-segment>\\n</ion-header>\\n<ion-content [scrollEvents]=\\\"true\\\" overflow-scroll=\\\"true\\\">\\n    <div [ngSwitch]=\\\"segment\\\">\\n        <div *ngSwitchCase=\\\"'absenteeism'\\\">\\n            <div style=\\\"background-color: white; margin: 10px; padding: 10px; border-radius: 5px;\\\">\\n                <h4>Report Absenteeism</h4>\\n                <p class=\\\"text\\\">Select the child/children and reason for absenteeism and enter the specific date\\n                    or\\n                    date range\\n                    the student(s) will be absent.</p>\\n\\n                <form #absentForm=\\\"ngForm\\\" (ngSubmit)=\\\"reportAbsent(absentForm)\\\" method=\\\"post\\\">\\n                    <ion-item lines=\\\"none\\\">\\n                        <ion-label name=\\\"students\\\" position=\\\"stacked\\\" style=\\\"margin-bottom: 5px;\\\">Student(s)\\n                            <ion-icon small name=\\\"people\\\"></ion-icon>\\n                        </ion-label>\\n\\n                        <ion-input value={{this.student}} [readonly]=\\\"isReadonly()\\\"></ion-input>\\n                    </ion-item>\\n                    <ion-item lines=\\\"none\\\" class=\\\"no-ripple\\\">\\n                        <ion-label position=\\\"stacked\\\" style=\\\"margin-bottom: 5px;\\\">Reason <ion-icon small\\n                                name=\\\"help-circle\\\"></ion-icon>\\n                        </ion-label>\\n                        <ion-select ngModel name=\\\"reason\\\" (ionChange)=\\\"reasonChange($event)\\\">\\n                            <ion-select-option value=\\\"Travel\\\">Travel</ion-select-option>\\n                            <ion-select-option value=\\\"Sickness\\\">Sickness</ion-select-option>\\n                            <ion-select-option value=\\\"Bereavment\\\">Bereavment</ion-select-option>\\n                            <ion-select-option value=\\\"other\\\">Other</ion-select-option>\\n                        </ion-select>\\n                    </ion-item>\\n                    <ion-item id=\\\"hid\\\" hidden lines=\\\"none\\\">\\n                        <ion-label position=\\\"stacked\\\" style=\\\"margin-bottom: 5px;\\\"> Period <ion-icon small\\n                                name=\\\"calendar\\\"></ion-icon>\\n                        </ion-label>\\n\\n                        <ion-datetime [ngStyle]=\\\"{'border': valid == 'true' ? 'solid 1px red' : 'solid 1px slategray'}\\\"\\n                            [(ngModel)]=\\\"from_date\\\" name=\\\"from_date\\\" (ngModelChange)=\\\"fromDate($event)\\\"\\n                            placeholder=\\\"From\\\" displayFormat=\\\"DD MMM YYYY\\\" doneText=\\\"Ok\\\" cancelText=\\\"Cancel\\\">\\n                        </ion-datetime>\\n                        <small *ngIf=\\\"valid == 'true'\\\" style=\\\"color: red;\\\"> <i>change start date</i></small>\\n                        <br>\\n                        <ion-datetime [ngStyle]=\\\"{'border': valid == 'true' ? 'solid 1px red' : 'solid 1px slategray'}\\\"\\n                            [(ngModel)]=\\\"to_date\\\" name=\\\"to_date\\\" (ngModelChange)=\\\"toDate($event)\\\" placeholder=\\\"To\\\"\\n                            displayFormat=\\\"DD MMM YYYY\\\" doneText=\\\"Ok\\\" cancelText=\\\"Cancel\\\">\\n                        </ion-datetime>\\n                        <small *ngIf=\\\"valid == 'true'\\\" style=\\\"color: red;\\\"> <i>change end date</i></small>\\n                    </ion-item>\\n                    <ion-item id=\\\"hid2\\\" hidden lines=\\\"none\\\">\\n                        <ion-label position=\\\"stacked\\\">Message <ion-icon small name=\\\"document-text\\\"></ion-icon>\\n                        </ion-label>\\n                        <ion-textarea ngModel cols=\\\"20\\\" rows=\\\"7\\\" name=\\\"message\\\" maxlength=\\\"500\\\"></ion-textarea>\\n                        <ion-button id=\\\"sub_button\\\" type=\\\"submit\\\">Report Absenteeism</ion-button>\\n                    </ion-item>\\n\\n                </form>\\n            </div>\\n            <div style=\\\"background-color: white; margin: 10px; padding: 10px; border-radius: 5px;\\\">\\n                <h4>Absent Days</h4>\\n                <p class=\\\"text\\\">Below are the days the student was absent from school. <i><small>(Click for more\\n                            info.)</small></i></p>\\n                <ion-list>\\n                    <div *ngIf=\\\"fake == 0 && absent_days.length == 0\\\">\\n                        <ion-spinner name=\\\"lines-small\\\" style=\\\"text-align: center; margin-left: 50%; margin-right: 50%;\\\"\\n                            color=\\\"primary\\\">\\n                        </ion-spinner>\\n                    </div>\\n                    <div *ngIf=\\\"fake == 1  && absent_days.length == 0\\\">\\n                        <small><i style=\\\"color: #397C49;\\\">No Absent Records for student.</i></small>\\n                    </div>\\n                    <ion-item id=\\\"absentItem\\\" lines=\\\"full\\\" *ngFor=\\\"let ab of absent_days; let i = index\\\">\\n                        <ion-grid (click)=\\\"showInfo(i)\\\">\\n                            <ion-row>\\n                                <small><strong>Absent due to</strong> {{ab.reason}}</small>\\n                            </ion-row>\\n                            <ion-row id=\\\"duration{{i}}\\\">\\n                                <small><strong>Duration:</strong> {{this.duration[i]}} day(s) of\\n                                    {{this.month[i]}}</small>\\n                            </ion-row>\\n                            <div id=\\\"content{{i}}\\\" hidden>\\n                                <ion-row>\\n                                    <small> <strong>Your note: </strong> \\\"<i>{{ab.message}}</i>\\\" </small>\\n                                </ion-row>\\n                                <ion-row>\\n                                    <ion-col col-6>\\n                                        <small><strong>From: </strong> {{this.formatDate(ab.starting)}}</small>\\n                                    </ion-col>\\n                                    <ion-col col-6>\\n                                        <small><strong>To: </strong>{{this.formatDate(ab.ending)}}</small>\\n                                    </ion-col>\\n                                </ion-row>\\n                            </div>\\n                        </ion-grid>\\n\\n                    </ion-item>\\n                </ion-list>\\n            </div>\\n\\n\\n        </div>\\n        <div *ngSwitchCase=\\\"'attendance'\\\">\\n            <div class=\\\"center\\\">\\n                <ion-icon name=\\\"construct\\\" style=\\\"zoom: 3.0;\\\"></ion-icon><br>\\n                <i><strong style=\\\"color: #397C49;\\\">Coming soon</strong></i>\\n            </div>\\n        </div>\\n    </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AttendancePage } from './attendance.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AttendancePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [AttendancePage]\n})\nexport class AttendancePageModule {}\n","export default \"ion-card-title {\\n  font-size: 18px !important;\\n  margin: 0px;\\n}\\n\\nion-card-subtitle {\\n  text-transform: none;\\n  font-style: normal;\\n}\\n\\nion-label, .text, ion-card-title, ion-input, ion-select, textarea {\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen, Ubuntu, Cantarell, \\\"Open Sans\\\", \\\"Helvetica Neue\\\", sans-serif !important;\\n  color: black;\\n}\\n\\nion-input, ion-textarea, ion-select, ion-datetime {\\n  border: solid 1px slategray;\\n  border-radius: 8px;\\n  padding-left: 10px !important;\\n}\\n\\nion-row, ion-col {\\n  size: 11px;\\n  margin-bottom: 5px;\\n}\\n\\nion-content {\\n  --background: lightgrey;\\n}\\n\\n.no-ripple {\\n  --ripple-color: transparent;\\n  --background-activated: transparent;\\n}\\n\\n.center {\\n  position: absolute;\\n  left: 50%;\\n  top: 50%;\\n  transform: translate(-50%, -50%);\\n  padding: 10px;\\n  align-content: center;\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rb2tvZGF2aWQvRG93bmxvYWRzL2VwL3NyYy9hcHAvcGFnZXMvc3R1ZGVudC9hdHRlbmRhbmNlL2F0dGVuZGFuY2UucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9zdHVkZW50L2F0dGVuZGFuY2UvYXR0ZW5kYW5jZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSwwQkFBQTtFQUNBLFdBQUE7QUNDSjs7QURDQTtFQUNJLG9CQUFBO0VBQ0Esa0JBQUE7QUNFSjs7QURBQTtFQUNJLG1KQUFBO0VBQ0EsWUFBQTtBQ0dKOztBRERBO0VBQ0ksMkJBQUE7RUFDQSxrQkFBQTtFQUNBLDZCQUFBO0FDSUo7O0FERkE7RUFDSSxVQUFBO0VBQ0Esa0JBQUE7QUNLSjs7QURGQTtFQUNJLHVCQUFBO0FDS0o7O0FERkE7RUFDSSwyQkFBQTtFQUNBLG1DQUFBO0FDS0o7O0FESEE7RUFDSSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxRQUFBO0VBQ0EsZ0NBQUE7RUFDQSxhQUFBO0VBQ0EscUJBQUE7RUFDQSxrQkFBQTtBQ01KIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvc3R1ZGVudC9hdHRlbmRhbmNlL2F0dGVuZGFuY2UucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNhcmQtdGl0bGV7XG4gICAgZm9udC1zaXplOiAxOHB4ICFpbXBvcnRhbnQ7XG4gICAgbWFyZ2luOiAwcHg7XG59XG5pb24tY2FyZC1zdWJ0aXRsZXtcbiAgICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcbiAgICBmb250LXN0eWxlOiBub3JtYWw7XG59XG5pb24tbGFiZWwsIC50ZXh0LCBpb24tY2FyZC10aXRsZSwgaW9uLWlucHV0LCBpb24tc2VsZWN0LCB0ZXh0YXJlYXtcbiAgICBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAnU2Vnb2UgVUknLCBSb2JvdG8sIE94eWdlbiwgVWJ1bnR1LCBDYW50YXJlbGwsICdPcGVuIFNhbnMnLCAnSGVsdmV0aWNhIE5ldWUnLCBzYW5zLXNlcmlmICFpbXBvcnRhbnQ7XG4gICAgY29sb3I6IGJsYWNrO1xufVxuaW9uLWlucHV0LCBpb24tdGV4dGFyZWEsIGlvbi1zZWxlY3QsIGlvbi1kYXRldGltZXtcbiAgICBib3JkZXI6IHNvbGlkIDFweCBzbGF0ZWdyYXk7XG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgIHBhZGRpbmctbGVmdDogMTBweCAhaW1wb3J0YW50O1xufVxuaW9uLXJvdywgaW9uLWNvbHtcbiAgICBzaXplOiAxMXB4O1xuICAgIG1hcmdpbi1ib3R0b206IDVweDtcbn1cblxuaW9uLWNvbnRlbnR7XG4gICAgLS1iYWNrZ3JvdW5kOiBsaWdodGdyZXk7XG4gICAgXG59XG4ubm8tcmlwcGxlIHtcbiAgICAtLXJpcHBsZS1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgLS1iYWNrZ3JvdW5kLWFjdGl2YXRlZDogdHJhbnNwYXJlbnQ7XG59XG4uY2VudGVyIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbGVmdDogNTAlOyAgICBcbiAgICB0b3A6IDUwJTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgICBwYWRkaW5nOiAxMHB4O1xuICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgXG4gIH1cbiIsImlvbi1jYXJkLXRpdGxlIHtcbiAgZm9udC1zaXplOiAxOHB4ICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMHB4O1xufVxuXG5pb24tY2FyZC1zdWJ0aXRsZSB7XG4gIHRleHQtdHJhbnNmb3JtOiBub25lO1xuICBmb250LXN0eWxlOiBub3JtYWw7XG59XG5cbmlvbi1sYWJlbCwgLnRleHQsIGlvbi1jYXJkLXRpdGxlLCBpb24taW5wdXQsIGlvbi1zZWxlY3QsIHRleHRhcmVhIHtcbiAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgXCJTZWdvZSBVSVwiLCBSb2JvdG8sIE94eWdlbiwgVWJ1bnR1LCBDYW50YXJlbGwsIFwiT3BlbiBTYW5zXCIsIFwiSGVsdmV0aWNhIE5ldWVcIiwgc2Fucy1zZXJpZiAhaW1wb3J0YW50O1xuICBjb2xvcjogYmxhY2s7XG59XG5cbmlvbi1pbnB1dCwgaW9uLXRleHRhcmVhLCBpb24tc2VsZWN0LCBpb24tZGF0ZXRpbWUge1xuICBib3JkZXI6IHNvbGlkIDFweCBzbGF0ZWdyYXk7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgcGFkZGluZy1sZWZ0OiAxMHB4ICFpbXBvcnRhbnQ7XG59XG5cbmlvbi1yb3csIGlvbi1jb2wge1xuICBzaXplOiAxMXB4O1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG59XG5cbmlvbi1jb250ZW50IHtcbiAgLS1iYWNrZ3JvdW5kOiBsaWdodGdyZXk7XG59XG5cbi5uby1yaXBwbGUge1xuICAtLXJpcHBsZS1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIC0tYmFja2dyb3VuZC1hY3RpdmF0ZWQ6IHRyYW5zcGFyZW50O1xufVxuXG4uY2VudGVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiA1MCU7XG4gIHRvcDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgcGFkZGluZzogMTBweDtcbiAgYWxpZ24tY29udGVudDogY2VudGVyO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59Il19 */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { ActivatedRoute, Router, NavigationExtras } from '@angular/router';\nimport * as moment from 'moment';\nimport { NgForm } from '@angular/forms';\nimport { SessionService } from 'src/app/services/session.service';\n\n\n@Component({\n  selector: 'app-attendance',\n  templateUrl: './attendance.page.html',\n  styleUrls: ['./attendance.page.scss'],\n})\n\n\nexport class AttendancePage implements OnInit {\n  @ViewChild('absentForm', { static: false }) absentForm: NgForm;\n  segment: string;\n  student: any;\n  assets: any;\n  from_date: any;\n  to_date: any;\n  sub_domain: string;\n  student_id: any;\n  data;\n  class_name: any;\n  valid: string = \"false\";\n  details: any;\n  message: any;\n  absent_days: any;\n  state: string = \"off\";\n  duration: any;\n  month: any;\n  start: any;\n  starting_dates: any;\n  end: any;\n  fake: any;\n\n  constructor(\n    private authServices: AuthService,\n    private router: Router,\n    private route: ActivatedRoute,\n    private sessionService: SessionService,\n  ) {\n    this.route.queryParams.subscribe(params => {\n      if (this.router.getCurrentNavigation().extras.state) {\n        this.student = this.router.getCurrentNavigation().extras.state.details.student_name;\n        this.student_id = this.router.getCurrentNavigation().extras.state.details.student_id;\n        this.sub_domain = this.router.getCurrentNavigation().extras.state.details.school_subdomain;\n        this.class_name = this.router.getCurrentNavigation().extras.state.details.class_name;\n        this.details = this.router.getCurrentNavigation().extras.state.details;\n        if (this.sub_domain == null) {\n          this.sub_domain = this.router.getCurrentNavigation().extras.state.details.school;\n        }\n        // console.log(this.student);\n        this.assets = this.student.student_image === null ? 1 :\n          `https://${this.student.school}.eduweb.co.ke/assets/students/${this.student.student_image}`;\n\n      }\n    });\n    this.absent_days = new Array();\n    this.sessionService.sessionTimeOut();\n    this.duration = new Array();\n    this.month = new Array();\n    this.starting_dates = new Array();\n    this.fake = 0;\n    setTimeout(()=>{\n      this.fake = 1;\n    },3000);\n  }\n\n  ngOnInit() {\n    this.segment = 'absenteeism'\n    this.message = \"Hello, \\n\";\n  }\n\n\n  async ionViewWillEnter() {\n    await this.authServices.getAbsenteeism(this.student_id, this.sub_domain).subscribe(\n      days => {\n        this.data = days;\n        if (this.data.response === \"success\") {\n          this.absent_days = this.data.data === undefined ? [] : this.data.data;\n          console.log(this.absent_days);\n          //duration\n          for (var i = 0; i < this.absent_days.length; i++) {\n            const oneDay = 24 * 60 * 60 * 1000;\n            var from = new Date(this.data.data[i].starting);\n            var to = new Date(this.data.data[i].ending);\n            this.starting_dates.push(moment(from).format('MMM, Do YYYY'));\n            console.log(this.starting_dates);\n            this.month.push(this.getMonth(from))\n            var startMillis = from.getTime();\n            var endMillis = to.getTime();\n            var weekend = 0;\n            for (var j = startMillis; j < endMillis; j += oneDay) {\n              var currentDay = new Date(j);\n              if (currentDay.getDay() === 5 || currentDay.getDay() === 6) {\n                weekend++\n              }\n\n            }\n            var total_days = Math.round(Math.abs(from.getTime() - to.getTime()) / oneDay) + 1;\n            this.duration.push(total_days - weekend);\n\n          }\n        }\n      }\n    )\n  }\n\n  reasonChange($event) {\n    document.getElementById('hid').hidden = false;\n    this.message = this.message + \"Due to \" + $event.detail.value + \", \" + this.student + \" (\" + this.class_name + \") shall not be in schoool from \";\n  }\n  fromDate($event) {\n    this.message = this.message + this.formatDate($event) + \" to \";\n    this.valid = \"false\";\n  }\n  toDate($event) {\n    document.getElementById('hid2').hidden = false;\n    this.message = this.message + this.formatDate($event) + \". \\nThank you.\";\n    this.valid = \"false\";\n  }\n  showInfo(index: any) {\n    if (document.getElementById(\"content\" + index).hidden == true) {\n      document.getElementById(\"content\" + index).hidden = false;\n      document.getElementById(\"duration\" + index).hidden = true;\n\n    } else {\n      document.getElementById(\"content\" + index).hidden = true;\n      document.getElementById(\"duration\" + index).hidden = false;\n\n    }\n  }\n\n  reportAbsent(absentForm: NgForm) {\n    console.log(absentForm.value);\n    var starting = moment(absentForm.value.from_date).format('MMM, ddd YYYY');\n    var ending = moment(absentForm.value.to_date).format('MMM, ddd YYYY');\n    var start = new Date(absentForm.value.from_date);\n    var end = new Date(absentForm.value.to_date);\n    console.log(start);\n    console.log(end);\n    document.querySelector(\"app-attendance\").querySelector('ion-content').scrollToTop(1500);\n\n    console.log(\"end \" + end.getTime());\n\n    console.log(\"start \" + start.getTime())\n    if (end.getTime() > start.getTime()) {\n      if (!this.starting_dates.includes(moment(start).format('MMM, Do YYYY'))){\n\n       this.authServices.reportAbsenteeism(this.student_id, absentForm.value.message,\n          absentForm.value.reason,\n          absentForm.value.from_date,\n          absentForm.value.to_date, this.sub_domain, starting, ending).subscribe(data => {\n            this.data = data;\n            if (this.data.response === \"success\") {\n              this.authServices.presentAlert2(this.data.data);\n              const navigationExtras: NavigationExtras = {\n                state: {\n                  details: this.details,\n                }\n              }\n              this.router.navigate(['home'], navigationExtras);\n            } else {\n              this.authServices.presentAlert2(this.data.data)\n            }\n          });\n        }else{\n          this.authServices.presentAlert2(\"Duplicate entry. \\n Student already reported absent for dates selected.\");\n          absentForm.reset();\n        }\n    } else {\n      this.authServices.presentAlert2(\"Check dates and try again. \\n Start date should be before End date\");\n      absentForm.reset();\n      document.querySelector(\"app-attendance\").querySelector('ion-content').scrollToTop(1500);\n      // absentForm.value.from_date = '';\n\n      this.valid = \"true\";\n    }\n\n\n  }\n  segmentChanged($ev) {\n    // console.log($ev);\n  }\n  checkWeekend(date1, date2) {\n    var oneDay = 1000 * 60 * 60 * 24;\n\n  }\n  isReadonly() {\n    return this.isReadonly;   //return true/false \n  }\n  formatDate(date) {\n    return moment(date).format('MMM D, YYYY');\n  }\n  getMonth(date) {\n    return moment(date).format('MMMM');\n  }\n}\n"]}