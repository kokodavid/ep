{"version":3,"sources":["webpack:///src/app/pages/feedback/feedback.page.html","webpack:///src/app/pages/feedback/feedback.module.ts","webpack:///src/app/pages/feedback/feedback.page.scss","webpack:///src/app/pages/feedback/feedback.page.ts"],"names":["routes","path","component","FeedbackPageModule","imports","forChild","declarations","FeedbackPage","alertService","dataService","authService","navCtrl","sessionService","router","route","fake","sessionTimeOut","refferences","getCurrentNavigation","extras","state","console","log","student_name","studentName","subject","student_id","students","Array","presentLoading","getStudents","subscribe","news","dismiss","data","school","form","undefined","value","student","addfeed","message","response","navigateRoot","presentToast","error","selector","template"],"mappings":"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","file":"pages-feedback-feedback-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\" style=\\\"font-size: 14px;\\\">\\n      <ion-back-button text=\\\"\\\" icon=\\\"chevron-back\\\"></ion-back-button>ADD FEEDBACK\\n    </ion-buttons>\\n    <!-- <ion-title>ADD FEEDBACK </ion-title> -->\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"\\\">\\n  <ion-list *ngIf=\\\"students.length === 0 && fake === 1\\\">\\n    <ion-spinner name=\\\"lines-small\\\" style=\\\"text-align: center; margin-left: 50%; margin-right: 50%;\\\"></ion-spinner>\\n  </ion-list>\\n  <form #form=\\\"ngForm\\\" (ngSubmit)=\\\"post(form)\\\" method=\\\"post\\\">\\n    <div *ngIf=\\\"refferences != undefined; else empty_subject\\\">\\n      <ion-item lines=\\\"none\\\">\\n        <ion-label position=\\\"stacked\\\">Student(s)</ion-label>\\n        <ion-input type=\\\"text\\\" [(ngModel)]=\\\"student_name\\\" name=\\\"student\\\"></ion-input>\\n      </ion-item>\\n      <ion-item lines=\\\"none\\\"> \\n        <ion-label position=\\\"stacked\\\">Subject </ion-label>\\n        <ion-input type=\\\"text\\\" [(ngModel)]=\\\"subject\\\" name=\\\"subject\\\"></ion-input>\\n      </ion-item>\\n      <ion-item lines=\\\"none\\\">\\n        <ion-label position=\\\"stacked\\\">Message</ion-label>\\n        <ion-textarea ngModel name=\\\"message\\\" maxlength=\\\"500\\\"></ion-textarea>\\n      </ion-item>\\n      <ion-list>\\n        <ion-row>\\n          <ion-col col-4></ion-col>\\n          <ion-col col-4>\\n            <ion-button type=\\\"submit\\\" color=\\\"warning\\\">SEND FEEDBACK</ion-button>\\n          </ion-col>\\n          <ion-col col-4></ion-col>\\n        </ion-row>\\n      </ion-list>\\n    </div>\\n    <ng-template #empty_subject>\\n      <ion-item lines=\\\"none\\\">\\n        <ion-label position=\\\"stacked\\\" style=\\\"margin-bottom: 5px;\\\">Student(s)</ion-label>\\n        <ion-select multiple=\\\"true\\\" ngModel name=\\\"student\\\">\\n          <ion-select-option *ngFor=\\\"let user of students\\\" value={{user.student_id}}>\\n            <small>{{user.first_name + ' ' + user.last_name}}</small></ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n      <ion-item  lines=\\\"none\\\">\\n        <ion-label position=\\\"stacked\\\"  style=\\\"margin-bottom: 5px;\\\">Subject</ion-label>\\n          <ion-input ngModel name=\\\"subject\\\"></ion-input>\\n      </ion-item>\\n      <ion-item  lines=\\\"none\\\">\\n        <ion-label position=\\\"stacked\\\">Message</ion-label>\\n        <ion-textarea ngModel cols=\\\"20\\\" rows=\\\"7\\\" placeholder=\\\"Type message...\\\" name=\\\"message\\\" maxlength=\\\"500\\\"></ion-textarea>\\n      </ion-item>\\n      <ion-list>\\n        <ion-row>\\n          <ion-col col-4></ion-col>\\n          <ion-col col-4>\\n            \\n          </ion-col>\\n          <ion-col col-4>\\n            <ion-button type=\\\"submit\\\" color=\\\"warning\\\">SEND FEEDBACK</ion-button>\\n          </ion-col>\\n        </ion-row>\\n      </ion-list>\\n    </ng-template>\\n  </form>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FeedbackPage } from './feedback.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FeedbackPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [FeedbackPage]\n})\nexport class FeedbackPageModule {}\n","export default \"ion-content {\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen, Ubuntu, Cantarell, \\\"Open Sans\\\", \\\"Helvetica Neue\\\", sans-serif;\\n  background-color: lightgray;\\n}\\n\\nion-textarea {\\n  border: solid 1px slategray;\\n  padding: 10px;\\n  border-radius: 10px;\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen, Ubuntu, Cantarell, \\\"Open Sans\\\", \\\"Helvetica Neue\\\", sans-serif;\\n}\\n\\nion-textarea ::-moz-placeholder {\\n  font-style: italic !important;\\n}\\n\\nion-textarea ::placeholder {\\n  font-style: italic !important;\\n}\\n\\nion-label {\\n  margin-left: 10px;\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen, Ubuntu, Cantarell, \\\"Open Sans\\\", \\\"Helvetica Neue\\\", sans-serif !important;\\n}\\n\\nion-input {\\n  border: solid 1px slategray;\\n  border-radius: 8px;\\n  padding-left: 10px !important;\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen, Ubuntu, Cantarell, \\\"Open Sans\\\", \\\"Helvetica Neue\\\", sans-serif;\\n}\\n\\nion-select {\\n  border: solid 1px slategray;\\n  padding: 10px;\\n  border-radius: 8px;\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Oxygen, Ubuntu, Cantarell, \\\"Open Sans\\\", \\\"Helvetica Neue\\\", sans-serif;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9rb2tvZGF2aWQvRG93bmxvYWRzL2VwL3NyYy9hcHAvcGFnZXMvZmVlZGJhY2svZmVlZGJhY2sucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9mZWVkYmFjay9mZWVkYmFjay5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx3SUFBQTtFQUNBLDJCQUFBO0FDQ0o7O0FEQ0E7RUFDSSwyQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUlBLHdJQUFBO0FDREo7O0FERkk7RUFDSSw2QkFBQTtBQ0lSOztBRExJO0VBQ0ksNkJBQUE7QUNJUjs7QURBQTtFQUNJLGlCQUFBO0VBQ0EsbUpBQUE7QUNHSjs7QUREQTtFQUNJLDJCQUFBO0VBQ0Esa0JBQUE7RUFDQSw2QkFBQTtFQUNBLHdJQUFBO0FDSUo7O0FERkE7RUFDSSwyQkFBQTtFQUNBLGFBQUE7RUFDQSxrQkFBQTtFQUNBLHdJQUFBO0FDS0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9mZWVkYmFjay9mZWVkYmFjay5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudHtcbiAgICBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAnU2Vnb2UgVUknLCBSb2JvdG8sIE94eWdlbiwgVWJ1bnR1LCBDYW50YXJlbGwsICdPcGVuIFNhbnMnLCAnSGVsdmV0aWNhIE5ldWUnLCBzYW5zLXNlcmlmO1xuICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JheTtcbn1cbmlvbi10ZXh0YXJlYXtcbiAgICBib3JkZXI6IHNvbGlkIDFweCBzbGF0ZWdyYXk7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgIDo6cGxhY2Vob2xkZXJ7XG4gICAgICAgIGZvbnQtc3R5bGU6IGl0YWxpYyAhaW1wb3J0YW50O1xuICAgIH1cbiAgICBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAnU2Vnb2UgVUknLCBSb2JvdG8sIE94eWdlbiwgVWJ1bnR1LCBDYW50YXJlbGwsICdPcGVuIFNhbnMnLCAnSGVsdmV0aWNhIE5ldWUnLCBzYW5zLXNlcmlmO1xufVxuaW9uLWxhYmVse1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICdTZWdvZSBVSScsIFJvYm90bywgT3h5Z2VuLCBVYnVudHUsIENhbnRhcmVsbCwgJ09wZW4gU2FucycsICdIZWx2ZXRpY2EgTmV1ZScsIHNhbnMtc2VyaWYgIWltcG9ydGFudDtcbn1cbmlvbi1pbnB1dHtcbiAgICBib3JkZXI6IHNvbGlkIDFweCBzbGF0ZWdyYXk7XG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgIHBhZGRpbmctbGVmdDogMTBweCAhaW1wb3J0YW50O1xuICAgIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICdTZWdvZSBVSScsIFJvYm90bywgT3h5Z2VuLCBVYnVudHUsIENhbnRhcmVsbCwgJ09wZW4gU2FucycsICdIZWx2ZXRpY2EgTmV1ZScsIHNhbnMtc2VyaWY7XG59XG5pb24tc2VsZWN0e1xuICAgIGJvcmRlcjpzb2xpZCAxcHggc2xhdGVncmF5O1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICdTZWdvZSBVSScsIFJvYm90bywgT3h5Z2VuLCBVYnVudHUsIENhbnRhcmVsbCwgJ09wZW4gU2FucycsICdIZWx2ZXRpY2EgTmV1ZScsIHNhbnMtc2VyaWY7XG59XG4iLCJpb24tY29udGVudCB7XG4gIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFwiU2Vnb2UgVUlcIiwgUm9ib3RvLCBPeHlnZW4sIFVidW50dSwgQ2FudGFyZWxsLCBcIk9wZW4gU2Fuc1wiLCBcIkhlbHZldGljYSBOZXVlXCIsIHNhbnMtc2VyaWY7XG4gIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JheTtcbn1cblxuaW9uLXRleHRhcmVhIHtcbiAgYm9yZGVyOiBzb2xpZCAxcHggc2xhdGVncmF5O1xuICBwYWRkaW5nOiAxMHB4O1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBcIlNlZ29lIFVJXCIsIFJvYm90bywgT3h5Z2VuLCBVYnVudHUsIENhbnRhcmVsbCwgXCJPcGVuIFNhbnNcIiwgXCJIZWx2ZXRpY2EgTmV1ZVwiLCBzYW5zLXNlcmlmO1xufVxuaW9uLXRleHRhcmVhIDo6cGxhY2Vob2xkZXIge1xuICBmb250LXN0eWxlOiBpdGFsaWMgIWltcG9ydGFudDtcbn1cblxuaW9uLWxhYmVsIHtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFwiU2Vnb2UgVUlcIiwgUm9ib3RvLCBPeHlnZW4sIFVidW50dSwgQ2FudGFyZWxsLCBcIk9wZW4gU2Fuc1wiLCBcIkhlbHZldGljYSBOZXVlXCIsIHNhbnMtc2VyaWYgIWltcG9ydGFudDtcbn1cblxuaW9uLWlucHV0IHtcbiAgYm9yZGVyOiBzb2xpZCAxcHggc2xhdGVncmF5O1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIHBhZGRpbmctbGVmdDogMTBweCAhaW1wb3J0YW50O1xuICBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBcIlNlZ29lIFVJXCIsIFJvYm90bywgT3h5Z2VuLCBVYnVudHUsIENhbnRhcmVsbCwgXCJPcGVuIFNhbnNcIiwgXCJIZWx2ZXRpY2EgTmV1ZVwiLCBzYW5zLXNlcmlmO1xufVxuXG5pb24tc2VsZWN0IHtcbiAgYm9yZGVyOiBzb2xpZCAxcHggc2xhdGVncmF5O1xuICBwYWRkaW5nOiAxMHB4O1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFwiU2Vnb2UgVUlcIiwgUm9ib3RvLCBPeHlnZW4sIFVidW50dSwgQ2FudGFyZWxsLCBcIk9wZW4gU2Fuc1wiLCBcIkhlbHZldGljYSBOZXVlXCIsIHNhbnMtc2VyaWY7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { EnvService } from '../../services/env.service';\nimport { DataService } from '../../services/data.service';\nimport { NgForm } from '@angular/forms';\nimport { AlertService } from 'src/app/services/alert.service';\nimport { AlertController, NavController, LoadingController } from '@ionic/angular';\nimport { SessionService } from 'src/app/services/session.service';\nimport { ActivatedRoute, Router, NavigationExtras } from '@angular/router';\n\n@Component({\n  selector: 'app-feedback',\n  templateUrl: './feedback.page.html',\n  styleUrls: ['./feedback.page.scss'],\n})\nexport class FeedbackPage implements OnInit {\n  data: any;\n  students: any;\n  response: any;\n  school: any;\n  fake: any;\n  subject: any;\n  student_name: any;\n  student_id: any;\n  refferences: any;\n  constructor(\n    private alertService: AlertService,\n    private dataService: DataService,\n    private authService: AuthService,\n    private navCtrl: NavController,\n    private sessionService: SessionService,\n    private router: Router,\n    private route: ActivatedRoute,\n\n  ) {\n    this.fake = 0;\n    this.sessionService.sessionTimeOut();\n    this.refferences = this.router.getCurrentNavigation().extras.state;\n    console.log(this.refferences);\n    if (this.router.getCurrentNavigation().extras.state != null) {\n      this.student_name = this.router.getCurrentNavigation().extras.state.studentName;\n      this.subject = this.router.getCurrentNavigation().extras.state.subject;\n      this.student_id = this.router.getCurrentNavigation().extras.state.student_id;\n    }\n    this.students = new Array();\n\n\n\n  }\n\n  ngOnInit() {\n  }\n\n  async ionViewWillEnter() {\n    this.authService.presentLoading();\n    await this.authService.getStudents().subscribe(\n      news => {\n        this.authService.dismiss();\n        this.data = news;\n        this.students = this.data.data.students;\n        this.school = this.students[0].school;\n        // console.log(this.students, this.school);\n      }\n    );\n  }\n\n  post(form: NgForm) {\n    this.authService.presentLoading();\n    if (this.refferences != undefined) {\n      if (typeof form.value.student != 'number') {\n        form.value.student = this.student_id;\n      }\n      this.authService.addfeed(form.value.student, form.value.subject, form.value.message, this.school).subscribe(\n        data => {\n\n          this.response = data;\n          if (this.response.response) {\n            this.authService.dismiss();\n            this.navCtrl.navigateRoot('/dashboard');\n            this.alertService.presentToast(this.response.data);\n          } else {\n            this.alertService.presentToast('Error Occured while posting your feedback...');\n          }\n        },\n        error => {\n          this.authService.dismiss();\n          console.log(error);\n        },\n        () => {\n        }\n      );\n    } else {  \n      this.authService.addfeed(form.value.student, form.value.subject, form.value.message, this.school).subscribe(\n        data => {\n          \n          this.response = data;\n          console.log(this.response);\n          if (this.response.response) {\n            this.authService.dismiss();\n            this.navCtrl.navigateRoot('/dashboard');\n            this.alertService.presentToast(this.response.data);\n          } else {\n            this.alertService.presentToast('Error Occured while posting your feedback...');\n          }\n        },\n        error => {\n          this.authService.dismiss();\n          console.log(error);\n        },\n        () => {\n        }\n      );\n    }\n\n  }\n\n}\n"]}