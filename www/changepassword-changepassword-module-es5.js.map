{"version":3,"sources":["webpack:///src/app/changepassword/changepassword.page.html","webpack:///src/app/changepassword/changepassword.module.ts","webpack:///src/app/changepassword/changepassword.page.scss","webpack:///src/app/changepassword/changepassword.page.ts"],"names":["routes","path","component","ChangepasswordPageModule","imports","forChild","declarations","ChangepasswordPage","authService","route","router","navCtrl","alertService","queryParams","subscribe","params","getCurrentNavigation","extras","state","data","details","console","log","showPasswordText","showNewText","type","newtype","shortPass","sameAsOld","notSame","isEmpty","form","presentLoading","value","newpassword","length","test","dismiss","oldpass","repassword","reset","response","presentToast","navigateRoot","presentAlert1","error","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACSf,QAAMA,MAAM,GAAW,CACrB;AACEC,UAAI,EAAE,EADR;AAEEC,eAAS,EAAE;AAFb,KADqB,CAAvB;;AAgBA,QAAaC,wBAAwB;AAAA;AAAA,KAArC;;AAAaA,4BAAwB,6DATpC,+DAAS;AACRC,aAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,6DAAaC,QAAb,CAAsBL,MAAtB,CAJO,CADD;AAORM,kBAAY,EAAE,CAAC,uEAAD;AAPN,KAAT,CASoC,GAAxBH,wBAAwB,CAAxB;;;;;;;;;;;;;;;;ACzBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACaf,QAAaI,kBAAkB;AAAA;AAAA;AAW7B,kCACUC,WADV,EAEUC,KAFV,EAGUC,MAHV,EAIUC,OAJV,EAKUC,YALV,EAKsC;AAAA;;AAAA;;AAJ5B,aAAAJ,WAAA,GAAAA,WAAA;AACA,aAAAC,KAAA,GAAAA,KAAA;AACA,aAAAC,MAAA,GAAAA,MAAA;AACA,aAAAC,OAAA,GAAAA,OAAA;AACA,aAAAC,YAAA,GAAAA,YAAA,CAA4B,CACpC;;AACA,aAAKH,KAAL,CAAWI,WAAX,CAAuBC,SAAvB,CAAiC,UAAAC,MAAM,EAAI;AACzC,cAAI,KAAI,CAACL,MAAL,CAAYM,oBAAZ,GAAmCC,MAAnC,CAA0CC,KAA9C,EAAqD;AACnD,iBAAI,CAACC,IAAL,GAAY,KAAI,CAACT,MAAL,CAAYM,oBAAZ,GAAmCC,MAAnC,CAA0CC,KAA1C,CAAgDE,OAA5D;AACAC,mBAAO,CAACC,GAAR,CAAY,KAAI,CAACH,IAAjB,EAFmD,CAGnD;AACD;AACF,SAND;AAOA,aAAKI,gBAAL,GAAwB,CAAxB;AACA,aAAKC,WAAL,GAAmB,CAAnB;AACA,aAAKC,IAAL,GAAY,UAAZ;AACA,aAAKC,OAAL,GAAe,UAAf;AACA,aAAKC,SAAL,GAAiB,KAAjB;AACA,aAAKC,SAAL,GAAiB,KAAjB;AACA,aAAKC,OAAL,GAAe,KAAf;AACA,aAAKC,OAAL,GAAe,KAAf;AACD;;AAjC4B;AAAA;AAAA,mCAmClB,CAEV;AArC4B;AAAA;AAAA,yCAsCZ;AACf,cAAI,KAAKP,gBAAL,KAA0B,CAA9B,EAAiC;AAC/B,iBAAKA,gBAAL,GAAwB,CAAxB;AACA,iBAAKE,IAAL,GAAY,MAAZ,CAF+B,CAG/B;AACD,WAJD,MAIO,IAAI,KAAKF,gBAAL,KAA0B,CAA9B,EAAiC;AACtC,iBAAKA,gBAAL,GAAwB,CAAxB;AACA,iBAAKE,IAAL,GAAY,UAAZ,CAFsC,CAGtC;AAED;AACF;AAjD4B;AAAA;AAAA,4CAkDT;AAClB,cAAI,KAAKD,WAAL,KAAqB,CAAzB,EAA4B;AAC1B,iBAAKA,WAAL,GAAmB,CAAnB;AACA,iBAAKE,OAAL,GAAe,MAAf,CAF0B,CAG1B;AACD,WAJD,MAIO,IAAI,KAAKF,WAAL,KAAqB,CAAzB,EAA4B;AACjC,iBAAKA,WAAL,GAAmB,CAAnB;AACA,iBAAKE,OAAL,GAAe,UAAf,CAFiC,CAGjC;AAED;AACF;AA7D4B;AAAA;AAAA,8BA8DvBK,IA9DuB,EA8DT;AAAA;;AAClB,eAAKvB,WAAL,CAAiBwB,cAAjB;;AACA,cAAID,IAAI,CAACE,KAAL,CAAWC,WAAX,CAAuBC,MAAvB,GAAgC,CAAhC,IAAqC,CAAC,KAAKC,IAAL,CAAUL,IAAI,CAACE,KAAL,CAAWC,WAArB,CAA1C,EAA6E;AAC3E,iBAAK1B,WAAL,CAAiB6B,OAAjB;AACA,iBAAKV,SAAL,GAAiB,IAAjB;AACD,WAHD,MAGO,IAAII,IAAI,CAACE,KAAL,CAAWK,OAAX,KAAuBP,IAAI,CAACE,KAAL,CAAWC,WAAtC,EAAmD;AACxD,iBAAK1B,WAAL,CAAiB6B,OAAjB;AACA,iBAAKT,SAAL,GAAiB,IAAjB;AACD,WAHM,MAGA,IAAIG,IAAI,CAACE,KAAL,CAAWC,WAAX,KAA2BH,IAAI,CAACE,KAAL,CAAWM,UAA1C,EAAsD;AAC3D,iBAAK/B,WAAL,CAAiB6B,OAAjB;AACA,iBAAKR,OAAL,GAAe,IAAf;AACD,WAHM,MAGA;AACL,iBAAKF,SAAL,GAAiB,KAAjB;AACA,iBAAKC,SAAL,GAAiB,KAAjB;AACA,iBAAKC,OAAL,GAAe,KAAf;AACA,iBAAKrB,WAAL,CAAiBgC,KAAjB,CAAuBT,IAAI,CAACE,KAAL,CAAWK,OAAlC,EAA2CP,IAAI,CAACE,KAAL,CAAWC,WAAtD,EAAmEpB,SAAnE,CACE,UAAAK,IAAI,EAAI;AACN,oBAAI,CAACsB,QAAL,GAAgBtB,IAAhB;AACAE,qBAAO,CAACC,GAAR,CAAY,MAAI,CAACmB,QAAjB;;AACA,kBAAI,MAAI,CAACA,QAAL,CAAcA,QAAd,KAA2B,SAA/B,EAA0C;AACxC,sBAAI,CAACjC,WAAL,CAAiB6B,OAAjB;;AACA,sBAAI,CAACzB,YAAL,CAAkB8B,YAAlB,CAA+B,kCAA/B;;AACA,sBAAI,CAAC/B,OAAL,CAAagC,YAAb,CAA0B,YAA1B;AACD,eAJD,MAIO;AACL,sBAAI,CAACnC,WAAL,CAAiB6B,OAAjB;;AACA,sBAAI,CAAC7B,WAAL,CAAiBoC,aAAjB,CAA+B,MAAI,CAACH,QAAL,CAActB,IAA7C;AACD;AACF,aAZH,EAaE,UAAA0B,KAAK,EAAI;AACP,oBAAI,CAACrC,WAAL,CAAiB6B,OAAjB;;AACAhB,qBAAO,CAACC,GAAR,CAAYuB,KAAZ;AACD,aAhBH,EAiBE,YAAM,CACL,CAlBH;AAqBD;AACF;AAnG4B;;AAAA;AAAA,OAA/B;;;;cAYyB;;cACN;;cACC;;cACC;;cACK;;;;AAhBbtC,sBAAkB,6DAL9B,gEAAU;AACTuC,cAAQ,EAAE,oBADD;AAETC,cAAQ,EAAR;AAAA;AAAA,4GAFS;;;;AAAA,KAAV,CAK8B,E,+EAYN,yE,EACN,8D,EACC,sD,EACC,4D,EACK,2E,EAhBK,GAAlBxC,kBAAkB,CAAlB","file":"changepassword-changepassword-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\" style=\\\"font-size: 14px;\\\">\\n      <ion-back-button text=\\\"\\\" icon=\\\"chevron-back\\\"></ion-back-button>RESET PASSWORD\\n    </ion-buttons>\\n    <!-- <ion-title>RESET PASSWORD</ion-title> -->\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <form #form=\\\"ngForm\\\" (ngSubmit)=\\\"reset(form)\\\" method=\\\"post\\\">\\n    <ion-item>\\n      <ion-icon slot=\\\"start\\\" name=\\\"lock-closed\\\"></ion-icon>\\n      <!-- <ion-label position=\\\"floating\\\">Current Password</ion-label> -->\\n      <ion-input ngModel type={{type}} required placeholder=\\\"Current Password\\\" name=\\\"oldpass\\\"></ion-input>\\n      <ion-icon ion-button *ngIf=\\\"showPasswordText == 1\\\" name=\\\"eye\\\" (click)=\\\"managePassword()\\\" slot=\\\"end\\\">\\n      </ion-icon>\\n      <ion-icon ion-button *ngIf=\\\"showPasswordText == 0\\\" name=\\\"eye-off\\\" (click)=\\\"managePassword()\\\" slot=\\\"end\\\">\\n      </ion-icon>\\n    </ion-item>\\n    <small *ngIf=\\\"sameAsOld == true\\\" style=\\\"color: red;\\\"> <i>\\n      <ion-icon slot=\\\"start\\\" name=\\\"alert-circle\\\"></ion-icon>New password cannot match old password\\n    </i></small>\\n    <ion-item>\\n      <ion-icon slot=\\\"start\\\" name=\\\"lock-closed\\\"></ion-icon>\\n      <!-- <ion-label position=\\\"floating\\\">New Password</ion-label> -->\\n      <!-- <ion-input ngModel type=\\\"{{type}}\\\" name=\\\"newpassword\\\"></ion-input> -->\\n      <ion-input ngModel type={{newtype}} required placeholder=\\\"New Password\\\" name=\\\"newpassword\\\"></ion-input>\\n      <ion-icon ion-button *ngIf=\\\"showNewText == 1\\\" name=\\\"eye\\\" (click)=\\\"managenewPassword()\\\" slot=\\\"end\\\">\\n      </ion-icon>\\n      <ion-icon ion-button *ngIf=\\\"showNewText == 0\\\" name=\\\"eye-off\\\" (click)=\\\"managenewPassword()\\\" slot=\\\"end\\\">\\n      </ion-icon>\\n\\n    </ion-item>\\n    <small *ngIf=\\\"shortPass == true\\\" style=\\\"color: red;\\\"> <i>\\n        <ion-icon slot=\\\"start\\\" name=\\\"alert-circle\\\"></ion-icon>Password with 8 characters minimum(including digits) is\\n        required.\\n      </i></small>\\n    <small *ngIf=\\\"sameAsOld == true\\\" style=\\\"color: red;\\\"> <i>\\n        <ion-icon slot=\\\"start\\\" name=\\\"alert-circle\\\"></ion-icon>New password cannot match old password\\n      </i></small>\\n    <small *ngIf=\\\"notSame == true\\\" style=\\\"color: red;\\\"> <i>\\n        <ion-icon slot=\\\"start\\\" name=\\\"alert-circle\\\"></ion-icon>New passwords do not match.\\n      </i></small>\\n    <ion-item>\\n\\n      <ion-icon slot=\\\"start\\\" name=\\\"lock-closed\\\"></ion-icon>\\n      <!-- <ion-label position=\\\"floating\\\">Verify New Password</ion-label> -->\\n      <!-- <ion-input  ngModel  type=\\\"{{type}}\\\" name=\\\"repassword\\\"></ion-input> -->\\n      <ion-input ngModel type={{newtype}} required placeholder=\\\"Verify New Password\\\" name=\\\"repassword\\\"></ion-input>\\n      <ion-icon ion-button *ngIf=\\\"showNewText == 1\\\" name=\\\"eye\\\" (click)=\\\"managenewPassword()\\\" slot=\\\"end\\\">\\n      </ion-icon>\\n      <ion-icon ion-button *ngIf=\\\"showNewText == 0\\\" name=\\\"eye-off\\\" (click)=\\\"managenewPassword()\\\" slot=\\\"end\\\">\\n      </ion-icon>\\n    </ion-item>\\n    <small *ngIf=\\\"notSame == true\\\" style=\\\"color: red;\\\"> <i>\\n        <ion-icon slot=\\\"start\\\" name=\\\"alert-circle\\\"></ion-icon>New passwords do not match.\\n      </i></small>\\n    <ion-row>\\n      <ion-col col-4></ion-col>\\n      <ion-col col-4>\\n        <ion-button type=\\\"submit\\\" color=\\\"warning\\\">CHANGE PASSWORD</ion-button>\\n      </ion-col>\\n      <ion-col col-4></ion-col>\\n    </ion-row>\\n  </form>\\n\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChangepasswordPage } from './changepassword.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChangepasswordPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ChangepasswordPage]\n})\nexport class ChangepasswordPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NoYW5nZXBhc3N3b3JkL2NoYW5nZXBhc3N3b3JkLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router, NavigationExtras } from '@angular/router';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { NgForm } from '@angular/forms';\nimport { AlertService } from 'src/app/services/alert.service';\nimport { ModalController, NavController } from '@ionic/angular';\n\n\n@Component({\n  selector: 'app-changepassword',\n  templateUrl: './changepassword.page.html',\n  styleUrls: ['./changepassword.page.scss'],\n})\nexport class ChangepasswordPage implements OnInit {\n  data: any;\n  response: any;\n  type: any;\n  newtype: any;\n  showPasswordText: any;\n  showNewText: any;\n  shortPass: any;\n  sameAsOld: any;\n  notSame: any;\n  isEmpty: any;\n  constructor(\n    private authService: AuthService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private navCtrl: NavController,\n    private alertService: AlertService) {\n    // this.feedback = new Array();\n    this.route.queryParams.subscribe(params => {\n      if (this.router.getCurrentNavigation().extras.state) {\n        this.data = this.router.getCurrentNavigation().extras.state.details;\n        console.log(this.data);\n        // t his.school = this.data.school;\n      }\n    });\n    this.showPasswordText = 0;\n    this.showNewText = 0;\n    this.type = 'password';\n    this.newtype = 'password';\n    this.shortPass = false;\n    this.sameAsOld = false;\n    this.notSame = false;\n    this.isEmpty = false;\n  }\n\n  ngOnInit() {\n\n  }\n  managePassword() {\n    if (this.showPasswordText === 0) {\n      this.showPasswordText = 1;\n      this.type = 'text';\n      // console.log(this.showPasswordText);\n    } else if (this.showPasswordText === 1) {\n      this.showPasswordText = 0;\n      this.type = 'password';\n      // console.log(this.showPasswordText);\n\n    }\n  }\n  managenewPassword() {\n    if (this.showNewText === 0) {\n      this.showNewText = 1;\n      this.newtype = 'text';\n      // console.log(this.showPasswordText);\n    } else if (this.showNewText === 1) {\n      this.showNewText = 0;\n      this.newtype = 'password';\n      // console.log(this.showPasswordText);\n\n    }\n  }\n  reset(form: NgForm) {\n    this.authService.presentLoading();\n    if (form.value.newpassword.length < 8 || !/\\d/.test(form.value.newpassword)) {\n      this.authService.dismiss();\n      this.shortPass = true;\n    } else if (form.value.oldpass === form.value.newpassword) {\n      this.authService.dismiss();\n      this.sameAsOld = true;\n    } else if (form.value.newpassword !== form.value.repassword) {\n      this.authService.dismiss();\n      this.notSame = true;\n    } else {\n      this.shortPass = false;\n      this.sameAsOld = false;\n      this.notSame = false;\n      this.authService.reset(form.value.oldpass, form.value.newpassword).subscribe(\n        data => {\n          this.response = data;\n          console.log(this.response);\n          if (this.response.response === 'success') {\n            this.authService.dismiss();\n            this.alertService.presentToast('Password changed successfully...');\n            this.navCtrl.navigateRoot('/dashboard');\n          } else {\n            this.authService.dismiss();\n            this.authService.presentAlert1(this.response.data);\n          }\n        },\n        error => {\n          this.authService.dismiss();\n          console.log(error);\n        },\n        () => {\n        }\n      );\n      \n    }\n  }\n\n}\n"]}