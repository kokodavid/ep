(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0xDJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var o=n("lGQG"),i=n("3LUQ"),r=n("xS7M"),s=n("fXoL"),a=n("TEn/"),l=n("ofXK"),c=n("3Pt+");function d(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",8),s["\u0275\u0275elementStart"](1,"ion-row",9),s["\u0275\u0275element"](2,"div",10),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](3,"form",11,12),s["\u0275\u0275listener"]("ngSubmit",(function(){s["\u0275\u0275restoreView"](e);const t=s["\u0275\u0275reference"](4);return s["\u0275\u0275nextContext"]().check(t)})),s["\u0275\u0275elementStart"](5,"ion-item",13),s["\u0275\u0275elementStart"](6,"h2",14),s["\u0275\u0275text"](7," Enter your phone number"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](8,"br"),s["\u0275\u0275element"](9,"br"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"ion-item"),s["\u0275\u0275element"](11,"ion-icon",15),s["\u0275\u0275elementStart"](12,"ion-input",16),s["\u0275\u0275listener"]("ionInput",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().runTimeChange(t)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"ion-row"),s["\u0275\u0275element"](14,"ion-col"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](15,"ion-row"),s["\u0275\u0275element"](16,"ion-col",17),s["\u0275\u0275elementStart"](17,"ion-col",18),s["\u0275\u0275elementStart"](18,"ion-button",19),s["\u0275\u0275elementStart"](19,"strong",20),s["\u0275\u0275text"](20,"Continue"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](21,"ion-col",17),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](22,"ion-row"),s["\u0275\u0275element"](23,"ion-col",17),s["\u0275\u0275elementStart"](24,"ion-col",18),s["\u0275\u0275elementStart"](25,"ion-button",21),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().enterCode()})),s["\u0275\u0275text"](26,"Already have code? "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](27,"ion-col",17),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](12),s["\u0275\u0275propertyInterpolate"]("value",e.value)}}function m(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div",8),s["\u0275\u0275elementStart"](1,"form",11,12),s["\u0275\u0275listener"]("ngSubmit",(function(){s["\u0275\u0275restoreView"](e);const t=s["\u0275\u0275reference"](2);return s["\u0275\u0275nextContext"]().verify(t)})),s["\u0275\u0275elementStart"](3,"ion-item",13),s["\u0275\u0275elementStart"](4,"h2",14),s["\u0275\u0275text"](5,"Enter the code to proceed."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](6,"br"),s["\u0275\u0275element"](7,"br"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"ion-item"),s["\u0275\u0275element"](9,"ion-icon",22),s["\u0275\u0275element"](10,"ion-input",23),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"ion-row"),s["\u0275\u0275element"](12,"ion-col",17),s["\u0275\u0275elementStart"](13,"ion-col",18),s["\u0275\u0275elementStart"](14,"ion-button",24),s["\u0275\u0275elementStart"](15,"strong",20),s["\u0275\u0275text"](16,"Verify"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](17,"ion-col",17),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}}function u(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"ion-icon",30),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"](2).managePassword()})),s["\u0275\u0275elementEnd"]()}}function g(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"ion-icon",31),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"](2).managePassword()})),s["\u0275\u0275elementEnd"]()}}function h(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"ion-icon",30),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"](2).managePassword()})),s["\u0275\u0275elementEnd"]()}}function p(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"ion-icon",31),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"](2).managePassword()})),s["\u0275\u0275elementEnd"]()}}function f(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"div"),s["\u0275\u0275elementStart"](1,"form",11,12),s["\u0275\u0275listener"]("ngSubmit",(function(){s["\u0275\u0275restoreView"](e);const t=s["\u0275\u0275reference"](2);return s["\u0275\u0275nextContext"]().register(t)})),s["\u0275\u0275elementStart"](3,"ion-item",13),s["\u0275\u0275elementStart"](4,"h2",14),s["\u0275\u0275text"](5,"Enter your Password."),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](6,"br"),s["\u0275\u0275element"](7,"br"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"ion-item"),s["\u0275\u0275element"](9,"ion-icon",25),s["\u0275\u0275element"](10,"ion-input",26),s["\u0275\u0275template"](11,u,1,0,"ion-icon",27),s["\u0275\u0275template"](12,g,1,0,"ion-icon",28),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"ion-item"),s["\u0275\u0275element"](14,"ion-icon",25),s["\u0275\u0275element"](15,"ion-input",29),s["\u0275\u0275template"](16,h,1,0,"ion-icon",27),s["\u0275\u0275template"](17,p,1,0,"ion-icon",28),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](18,"ion-row"),s["\u0275\u0275element"](19,"ion-col",17),s["\u0275\u0275elementStart"](20,"ion-col",18),s["\u0275\u0275elementStart"](21,"ion-button",24),s["\u0275\u0275elementStart"](22,"strong",20),s["\u0275\u0275text"](23,"Register"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](24,"ion-col",17),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](10),s["\u0275\u0275propertyInterpolate"]("type",e.type),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",1==e.showPasswordText),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",0==e.showPasswordText),s["\u0275\u0275advance"](3),s["\u0275\u0275propertyInterpolate"]("type",e.type),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",1==e.showPasswordText),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",0==e.showPasswordText)}}let v=(()=>{class e{constructor(e,t,n,o,i,r){this.modalController=e,this.authService=t,this.navCtrl=n,this.alertService=o,this.menu=i,this.device=r,this.phoneNumber="",this.menu.enable(!1),this.value=0,this.code=0,this.showPasswordText=0,this.masks={phoneNumber:["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/]}}ngOnInit(){this.type="password"}check(e){const t=e.value.phone.toString().replace(/\s/g,"");localStorage.setItem("phone",t),this.authService.check(t).subscribe(t=>{this.data=t,console.log(this.data),"Success"===this.data.response&&(this.code=1,console.log(this.code),this.phone=e.value.phone)},e=>{this.authService.dismiss(),this.authService.presentAlert1(e),console.log(e)})}managePassword(){0===this.showPasswordText?(this.showPasswordText=1,this.type="text"):1===this.showPasswordText&&(this.showPasswordText=0,this.type="password")}enterCode(){null!==localStorage.getItem("phone")?this.code=1:this.authService.presentAlert1("Phone number not recorded. Kindly register again.")}verify(e){const t=localStorage.getItem("phone");null!==t?this.authService.verify(t,e.value.code).subscribe(e=>{this.data=e,console.log(this.data),"success"===this.data.response&&(this.code=2,this.phone=this.phone)},e=>{this.authService.presentAlert1(this.data.message),console.log(e)}):this.authService.presentAlert1("Phone number was not recorded. Kindly register again")}runTimeChange(e){let t=e.target.value;this.value=4===t.length||8===t.length?t+" ":this.value}register(e){this.deviceid=localStorage.getItem("id"),this.phone=localStorage.getItem("phone");const t=this.phone.toString().replace(/\s/g,"");e.value.pass.length<8||!/\d/.test(e.value.pass)?this.authService.presentAlert1("Password needs to be at least 8 characters long and include a digit."):e.value.pass!==e.value.repass?(this.authService.dismiss(),this.authService.presentAlert1("Passwords do not match")):e.value.pass===e.value.repass&&this.authService.registerPwd(e.value.pass,t).subscribe(n=>{this.data=n,"success"===this.data.response&&(this.alertService.presentToast("Registered Successfully you will now be logged in automatically."),this.login(t,e.value.pass,this.deviceid))},e=>{console.log(e)})}login(e,t,n){this.authService.login(e,t,n).subscribe(n=>{this.data=n,"success"===this.data.response&&localStorage.setItem("credentials",JSON.stringify({username:e,password:t}))},e=>{console.log(e)},()=>{this.dismissRegister(),this.navCtrl.navigateRoot("/dashboard")})}dismissRegister(){this.modalController.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](a.Q),s["\u0275\u0275directiveInject"](o.a),s["\u0275\u0275directiveInject"](a.R),s["\u0275\u0275directiveInject"](i.a),s["\u0275\u0275directiveInject"](a.P),s["\u0275\u0275directiveInject"](r.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["app-phone"]],decls:11,vars:3,consts:[[2,"height","100%","background-color","#397C49"],["color","primary",2,"color","white"],["slot","start",2,"font-size","14px"],["text","","icon","chevron-back",2,"font-size","1.7em","color","white",3,"click"],[2,"height","40%"],[1,"ion-no-padding"],["style","margin: 10px;",4,"ngIf"],[4,"ngIf"],[2,"margin","10px"],[1,"row"],[1,"fire-logo"],["method","post",3,"ngSubmit"],["form","ngForm"],["lines","none"],[2,"color","black","font-size","18px"],["name","call","slot","start"],["clearInput","","type","tel","ngModel","","name","phone","maxlength","12","placeholder","0700 123 123","pattern","[0-9]{4} [0-9]{3} [0-9]{3}","padding-horizontal","","clear-input","true",2,"color","black","font-size","20px",3,"value","ionInput"],["col-3",""],["col-6",""],["type","submit",1,"transition",2,"background-color","#397C49"],[1,"white"],["color","warning",2,"text-transform","none",3,"click"],["ios","ios-alert","md","md-alert",2,"margin-right","15px","color","black"],["clearInput","","type","text","ngModel","","name","code","maxlength","6","placeholder","Enter Code","padding-horizontal","","clear-input","true",1,"code1",2,"color","black","font-size","20px"],["type","submit","color","warning",1,"transition"],["name","lock-closed","slot","start"],["ngModel","","name","pass","placeholder","Enter Password",3,"type"],["ion-button","","name","eye","slot","end",3,"click",4,"ngIf"],["ion-button","","name","eye-off","slot","end",3,"click",4,"ngIf"],["ngModel","","name","repass","placeholder","Confirm Password",3,"type"],["ion-button","","name","eye","slot","end",3,"click"],["ion-button","","name","eye-off","slot","end",3,"click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"ion-header",0),s["\u0275\u0275elementStart"](1,"ion-toolbar",1),s["\u0275\u0275elementStart"](2,"ion-buttons",2),s["\u0275\u0275elementStart"](3,"ion-icon",3),s["\u0275\u0275listener"]("click",(function(){return t.dismissRegister()})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275text"](4,"CREATE ACCOUNT "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](5,"div",4),s["\u0275\u0275elementStart"](6,"ion-card",5),s["\u0275\u0275elementStart"](7,"ion-card-content"),s["\u0275\u0275template"](8,d,28,1,"div",6),s["\u0275\u0275template"](9,m,18,0,"div",6),s["\u0275\u0275template"](10,f,25,6,"div",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](8),s["\u0275\u0275property"]("ngIf",0==t.code),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",1==t.code),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",2==t.code))},directives:[a.q,a.L,a.g,a.r,a.h,a.i,l.i,a.B,c["\u0275angular_packages_forms_forms_y"],c.NgControlStatusGroup,c.NgForm,a.t,a.s,a.W,c.NgControlStatus,c.NgModel,c.MaxLengthValidator,c.PatternValidator,a.k,a.f],styles:[".main[_ngcontent-%COMP%]{min-height:100%;display:flex;flex-direction:column;justify-content:center;background-color:#397c49}@media screen and (min-width:767px){ion-card[_ngcontent-%COMP%]{width:600px}}ion-icon[_ngcontent-%COMP%]{color:#000}ion-card[_ngcontent-%COMP%]{--background:#fff;margin:0;width:100%}.phone[_ngcontent-%COMP%]{letter-spacing:8px;font-size:1.2em!important;border-radius:9px;border:1px solid #d2d2d2}.code[_ngcontent-%COMP%], .phone[_ngcontent-%COMP%]{-webkit-padding-end:0;--padding-end:0;font-weight:500;text-align:center;color:#000;background-color:#f0f0f0}.code[_ngcontent-%COMP%]{letter-spacing:12px;font-size:20px;border-radius:12px;border:1px solid #d2d2d2}h3[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500}.input[_ngcontent-%COMP%]{background-color:#f0f0f0;border:1px solid #d2d2d2;border-radius:9px;font-size:.9em!important}.otpinput[_ngcontent-%COMP%]{letter-spacing:30px;-webkit-padding-end:0;--padding-end:0;font-size:30px;border:none;background:#fff}.white[_ngcontent-%COMP%]{color:#fff}.OTP-border[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border-bottom:1px solid}.small[_ngcontent-%COMP%]{font-size:13px}.small[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:unset!important}.button-color[_ngcontent-%COMP%]{background-color:var(--ion-color-mytheme)}.logo[_ngcontent-%COMP%]{width:1.25em!important}.grid[_ngcontent-%COMP%]{height:100vh;flex-direction:column}.grid[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{display:flex;justify-content:center}.row[_ngcontent-%COMP%]{flex-direction:row}.img-logo[_ngcontent-%COMP%]{height:70px;width:120px}.fire-logo[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding-bottom:30px}.bold[_ngcontent-%COMP%]{font-weight:700}.block[_ngcontent-%COMP%]{display:block}.transition[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f57c00 14%,#ffca00 96%)}.btn-color[_ngcontent-%COMP%]{color:#ffa000}.error[_ngcontent-%COMP%]{color:red;text-align:center;display:block;font-weight:700}"]}),e})()},"2c9M":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return a}));const o={getEngine(){const e=window;return e.TapticEngine||e.Capacitor&&e.Capacitor.isPluginAvailable("Haptics")&&e.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(e){const t=this.getEngine();if(!t)return;const n=this.isCapacitor()?e.style.toUpperCase():e.style;t.impact({style:n})},notification(e){const t=this.getEngine();if(!t)return;const n=this.isCapacitor()?e.style.toUpperCase():e.style;t.notification({style:n})},selection(){this.impact({style:"light"})},selectionStart(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},i=()=>{o.selection()},r=()=>{o.selectionStart()},s=()=>{o.selectionChanged()},a=()=>{o.selectionEnd()},l=e=>{o.impact(e)}},"6i10":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={bubbles:{dur:1e3,circles:9,fn:(e,t,n)=>{const o=`${e*t/n-e}ms`,i=2*Math.PI*t/n;return{r:5,style:{top:`${9*Math.sin(i)}px`,left:`${9*Math.cos(i)}px`,"animation-delay":o}}}},circles:{dur:1e3,circles:8,fn:(e,t,n)=>{const o=t/n,i=`${e*o-e}ms`,r=2*Math.PI*o;return{r:5,style:{top:`${9*Math.sin(r)}px`,left:`${9*Math.cos(r)}px`,"animation-delay":i}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(e,t)=>({r:6,style:{left:`${9-9*t}px`,"animation-delay":-110*t+"ms"}})},lines:{dur:1e3,lines:12,fn:(e,t,n)=>({y1:17,y2:29,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":`${e*t/n-e}ms`}})},"lines-small":{dur:1e3,lines:12,fn:(e,t,n)=>({y1:12,y2:20,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":`${e*t/n-e}ms`}})}}},EnSQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("fXoL");let i=(()=>{class e{constructor(){this.data=[]}setData(e,t){this.data[e]=t}getData(e){return this.data[e]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},IfdK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("+lv+"),i=n("3LUQ"),r=n("lGQG"),s=n("fXoL");let a=(()=>{class e{constructor(e,t,n){this.idle=e,this.alertService=t,this.authService=n,this.sessionTimeOut()}sessionTimeOut(){this.idle.setIdle(300),this.idle.setTimeout(1),this.idle.setInterrupts(o.a),this.idle.onTimeoutWarning.subscribe(e=>{this.alertService.presentToast("Logging out")}),this.idle.onTimeout.subscribe(()=>{this.alertService.presentToast("Logging out"),this.authService.logout()}),this.idle.watch()}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](o.b),s["\u0275\u0275inject"](i.a),s["\u0275\u0275inject"](r.a))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},NqGI:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));const o=async(e,t,n,o,i)=>{if(e)return e.attachViewToDom(t,n,i,o);if("string"!=typeof n&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const r="string"==typeof n?t.ownerDocument&&t.ownerDocument.createElement(n):n;return o&&o.forEach(e=>r.classList.add(e)),i&&Object.assign(r,i),t.appendChild(r),r.componentOnReady&&await r.componentOnReady(),r},i=(e,t)=>{if(t){if(e)return e.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},"U/uv":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("sxy2"),i=n("ItpF"),r=n("2c9M");const s=(e,t)=>{let n,s;const a=(e,o,i)=>{if("undefined"==typeof document)return;const r=document.elementFromPoint(e,o);r&&t(r)?r!==n&&(c(),l(r,i)):c()},l=(e,t)=>{n=e,s||(s=n);const i=n;Object(o.g)(()=>i.classList.add("ion-activated")),t()},c=(e=!1)=>{if(!n)return;const t=n;Object(o.g)(()=>t.classList.remove("ion-activated")),e&&s!==n&&n.click(),n=void 0};return Object(i.createGesture)({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:e=>a(e.currentX,e.currentY,r.a),onMove:e=>a(e.currentX,e.currentY,r.b),onEnd:()=>{c(!0),Object(r.e)(),s=void 0}})}},dqI8:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var o=n("mrSG"),i=n("lGQG"),r=n("3LUQ"),s=n("xS7M"),a=n("/+Rg"),l=n("fXoL"),c=n("TEn/"),d=n("ofXK"),m=n("3Pt+");function u(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",6),l["\u0275\u0275elementStart"](1,"ion-row",7),l["\u0275\u0275element"](2,"div",8),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](3,"form",9,10),l["\u0275\u0275listener"]("ngSubmit",(function(){l["\u0275\u0275restoreView"](e);const t=l["\u0275\u0275reference"](4);return l["\u0275\u0275nextContext"]().check(t)})),l["\u0275\u0275elementStart"](5,"ion-item",11),l["\u0275\u0275elementStart"](6,"h2",12),l["\u0275\u0275text"](7," Enter your phone number"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](8,"br"),l["\u0275\u0275element"](9,"br"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](10,"ion-item"),l["\u0275\u0275element"](11,"ion-icon",13),l["\u0275\u0275elementStart"](12,"ion-input",14),l["\u0275\u0275listener"]("ionInput",(function(t){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().runTimeChange(t)})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"ion-row"),l["\u0275\u0275element"](14,"ion-col"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](15,"ion-row"),l["\u0275\u0275element"](16,"ion-col",15),l["\u0275\u0275elementStart"](17,"ion-col",16),l["\u0275\u0275elementStart"](18,"ion-button",17),l["\u0275\u0275elementStart"](19,"strong",18),l["\u0275\u0275text"](20,"Continue"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](21,"ion-col",15),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](22,"ion-row"),l["\u0275\u0275element"](23,"ion-col",15),l["\u0275\u0275elementStart"](24,"ion-col",16),l["\u0275\u0275elementStart"](25,"ion-button",19),l["\u0275\u0275listener"]("click",(function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().enterCode()})),l["\u0275\u0275text"](26,"Already have code?"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](27,"ion-col",15),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](12),l["\u0275\u0275propertyInterpolate"]("value",e.value)}}function g(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementStart"](0,"div",6),l["\u0275\u0275elementStart"](1,"form",9,10),l["\u0275\u0275listener"]("ngSubmit",(function(){l["\u0275\u0275restoreView"](e);const t=l["\u0275\u0275reference"](2);return l["\u0275\u0275nextContext"]().verify(t)})),l["\u0275\u0275elementStart"](3,"ion-item",11),l["\u0275\u0275elementStart"](4,"h2",20),l["\u0275\u0275text"](5," Enter Temporary Password Received."),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](6,"br"),l["\u0275\u0275element"](7,"br"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](8,"ion-item"),l["\u0275\u0275element"](9,"ion-icon",21),l["\u0275\u0275element"](10,"ion-input",22),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](11,"ion-row"),l["\u0275\u0275element"](12,"ion-col",23),l["\u0275\u0275elementStart"](13,"ion-col",23),l["\u0275\u0275elementStart"](14,"ion-button",24),l["\u0275\u0275text"](15,"Reset Password"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](16,"ion-col",23),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()}if(2&e){const e=l["\u0275\u0275nextContext"]();l["\u0275\u0275advance"](10),l["\u0275\u0275propertyInterpolate"]("value",e.value)}}let h=(()=>{class e{constructor(e,t,n,o,i,r,s,a){this.modalController=e,this.authService=t,this.navCtrl=n,this.alertCtrl=o,this.alertService=i,this.device=r,this.menu=s,this.uniqueDeviceID=a,this.value=0,this.menu.enable(!1),this.code=0}ngOnInit(){}check(e){const t=e.value.phone.toString().replace(/\s/g,"");localStorage.setItem("phone",t),this.authService.checkforgot(t).subscribe(t=>{this.data=t,console.log(this.data.response),"Success"===this.data.response?(this.code=1,this.phone=e.value.phone):this.data.status.includes("SMS resent")?(this.errmsg(this.data.message),this.phone=e.value.phone,this.code=1):this.errmsg(this.data.message)},e=>{this.authService.dismiss(),this.errmsg("\tError!\nCould not send request, consult school."),console.log(e)})}errmsg(e){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this.alertCtrl.create({message:e,subHeader:"Info",buttons:["Ok"]});yield t.present()}))}runTimeChange(e){let t=e.target.value;console.log(t.length),4===t.length||8===t.length?(this.value=t+" ",console.log(this.value)):this.value=this.value}verify(e){const t=localStorage.getItem("phone");this.authService.verifypassword(e.value.code,t).subscribe(n=>{this.data=n,"Success"===this.data.response&&(console.log(e.value),this.authService.login(t,e.value.code,this.deviceid).subscribe(n=>{this.data=n,"success"===this.data.response?t&&(localStorage.setItem("credentials",JSON.stringify({username:t,password:e.value.code,device_user_id:this.deviceid})),this.dismissRegister()):this.dismissRegister()},e=>{console.log(e)},()=>{this.navCtrl.navigateRoot("/dashboard")}))},e=>{console.log(e)})}register(e){e.value.pass===e.value.repass&&(console.log(e.value),this.authService.registerPwd(e.value.pass,this.phone).subscribe(e=>{this.data=e,"sucesss"===this.data.response&&this.dismissRegister()},e=>{console.log(e)}))}resend(){this.authService.resend(this.phone).subscribe(e=>{this.data=e,"success"===this.data.response?(this.code=1,this.errmsg(this.data.response)):(this.errmsg(this.data.response),this.code=0)})}enterCode(){null!==localStorage.getItem("phone")?this.code=1:(this.authService.presentAlert1("Phone number not recorded, request code again."),this.code=0)}numberWithSpaces(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}dismissRegister(){this.modalController.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](c.Q),l["\u0275\u0275directiveInject"](i.a),l["\u0275\u0275directiveInject"](c.R),l["\u0275\u0275directiveInject"](c.a),l["\u0275\u0275directiveInject"](r.a),l["\u0275\u0275directiveInject"](s.a),l["\u0275\u0275directiveInject"](c.P),l["\u0275\u0275directiveInject"](a.a))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-forgot-password"]],decls:10,vars:2,consts:[[2,"background-color","#397C49","height","100%"],["color","primary",2,"color","white"],["slot","start",2,"font-size","14px"],["text","","icon","chevron-back",2,"font-size","1.8em","color","white","right","0px",3,"click"],[2,"height","25%"],["style","margin-top: 30px; margin-bottom: 30px; margin-left: 10px;margin-right: 10px;",4,"ngIf"],[2,"margin-top","30px","margin-bottom","30px","margin-left","10px","margin-right","10px"],[1,"row"],[1,"fire-logo"],["method","post",3,"ngSubmit"],["form","ngForm"],["lines","none"],[2,"color","black","font-size","20px"],["name","call","slot","start"],["clearInput","","type","tel","ngModel","","name","phone","maxlength","12","placeholder","0700 123 123","pattern","[0-9]{4} [0-9]{3} [0-9]{3}","padding-horizontal","","clear-input","true",2,"color","black","font-size","20px",3,"value","ionInput"],["col-3",""],["col-6",""],["type","submit",1,"transition",2,"background-color","#397C49","width","200pt"],[1,"white"],["color","warning",2,"text-transform","none","width","200pt",3,"click"],[2,"color","black","font-size","18px"],["name","lock","slot","start"],["clearInput","","type","text","ngModel","","name","code","maxlength","20","placeholder","Enter Password","clear-input","true",1,"ion-padding-horizontal",2,"color","black","font-size","20px",3,"value"],["col-4",""],["type","submit","color","warning"]],template:function(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"ion-header",0),l["\u0275\u0275elementStart"](1,"ion-toolbar",1),l["\u0275\u0275elementStart"](2,"ion-buttons",2),l["\u0275\u0275elementStart"](3,"ion-icon",3),l["\u0275\u0275listener"]("click",(function(){return t.dismissRegister()})),l["\u0275\u0275elementEnd"](),l["\u0275\u0275text"](4,"RESET PASSWORD "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](5,"div",4),l["\u0275\u0275elementStart"](6,"ion-card"),l["\u0275\u0275elementStart"](7,"ion-card-content"),l["\u0275\u0275template"](8,u,28,1,"div",5),l["\u0275\u0275template"](9,g,17,1,"div",5),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275advance"](8),l["\u0275\u0275property"]("ngIf",0==t.code),l["\u0275\u0275advance"](1),l["\u0275\u0275property"]("ngIf",1==t.code))},directives:[c.q,c.L,c.g,c.r,c.h,c.i,d.i,c.B,m["\u0275angular_packages_forms_forms_y"],m.NgControlStatusGroup,m.NgForm,c.t,c.s,c.W,m.NgControlStatus,m.NgModel,m.MaxLengthValidator,m.PatternValidator,c.k,c.f],styles:[".main[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:center;background-color:#397c49}@media screen and (min-width:767px){ion-card[_ngcontent-%COMP%]{width:600px;margin-left:auto;margin-right:auto;margin-top:auto}}ion-card[_ngcontent-%COMP%]{--background:#fff;margin:0;width:100%}.phone[_ngcontent-%COMP%]{letter-spacing:8px;font-size:1.2em!important;border-radius:9px;border:1px solid #d2d2d2}.code[_ngcontent-%COMP%], .phone[_ngcontent-%COMP%]{-webkit-padding-end:0;--padding-end:0;font-weight:500;text-align:center;color:#000;background-color:#f0f0f0}.code[_ngcontent-%COMP%]{letter-spacing:12px;font-size:20px;border-radius:12px;border:1px solid #d2d2d2}h3[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:500}.input[_ngcontent-%COMP%]{background-color:#f0f0f0;border:1px solid #d2d2d2;border-radius:9px;font-size:1.2em!important}.otpinput[_ngcontent-%COMP%]{letter-spacing:30px;-webkit-padding-end:0;--padding-end:0;font-size:30px;border:none;background:#fff}.white[_ngcontent-%COMP%]{color:#fff}.OTP-border[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border-bottom:1px solid}.small[_ngcontent-%COMP%]{font-size:13px}.small[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:unset!important}.logo[_ngcontent-%COMP%]{width:1.25em!important}.grid[_ngcontent-%COMP%]{height:100vh;flex-direction:column}.grid[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{display:flex;justify-content:center}.row[_ngcontent-%COMP%]{flex-direction:row}.img-logo[_ngcontent-%COMP%]{height:70px;width:120px}.fire-logo[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding-bottom:30px}.bold[_ngcontent-%COMP%]{font-weight:700}.block[_ngcontent-%COMP%]{display:block}.transition[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f57c00 14%,#ffca00 96%)}.btn-color[_ngcontent-%COMP%]{color:#ffa000!important}.error[_ngcontent-%COMP%]{color:red;text-align:center;display:block;font-weight:700}"]}),e})()},sPtc:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a}));const o=(e,t)=>null!==t.closest(e),i=(e,t)=>"string"==typeof e&&e.length>0?Object.assign({"ion-color":!0,[`ion-color-${e}`]:!0},t):t,r=e=>{const t={};return(e=>void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter(e=>null!=e).map(e=>e.trim()).filter(e=>""!==e):[])(e).forEach(e=>t[e]=!0),t},s=/^[a-z][a-z0-9+\-.]*:/,a=async(e,t,n,o)=>{if(null!=e&&"#"!==e[0]&&!s.test(e)){const i=document.querySelector("ion-router");if(i)return null!=t&&t.preventDefault(),i.push(e,n,o)}return!1}}}]);