function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{QVr5:function(e,t,n){"use strict";n.r(t);var o=n("ofXK"),r=n("3Pt+"),a=n("tyNb"),i=n("TEn/"),s=n("mrSG"),l=n("lGQG"),c=n("EnSQ"),u=n("3LUQ"),d=n("IfdK"),m=n("fXoL");function p(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"ion-list"),m["\u0275\u0275element"](1,"ion-spinner",9),m["\u0275\u0275elementEnd"]())}function g(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div"),m["\u0275\u0275elementStart"](1,"ion-item",10),m["\u0275\u0275elementStart"](2,"ion-label",11),m["\u0275\u0275text"](3,"Student(s)"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"ion-input",12),m["\u0275\u0275listener"]("ngModelChange",(function(e){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().student_name=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"ion-item",10),m["\u0275\u0275elementStart"](6,"ion-label",11),m["\u0275\u0275text"](7,"Subject "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](8,"ion-input",13),m["\u0275\u0275listener"]("ngModelChange",(function(e){return m["\u0275\u0275restoreView"](n),m["\u0275\u0275nextContext"]().subject=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"ion-item",10),m["\u0275\u0275elementStart"](10,"ion-label",11),m["\u0275\u0275text"](11,"Message"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](12,"ion-textarea",14),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](13,"ion-list"),m["\u0275\u0275elementStart"](14,"ion-row"),m["\u0275\u0275element"](15,"ion-col",15),m["\u0275\u0275elementStart"](16,"ion-col",15),m["\u0275\u0275elementStart"](17,"ion-button",16),m["\u0275\u0275text"](18,"SEND FEEDBACK"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](19,"ion-col",15),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){var o=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("ngModel",o.student_name),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("ngModel",o.subject)}}function f(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"ion-select-option",22),m["\u0275\u0275elementStart"](1,"small"),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;m["\u0275\u0275propertyInterpolate"]("value",n.student_id),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](n.first_name+" "+n.last_name)}}function v(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"ion-item",10),m["\u0275\u0275elementStart"](1,"ion-label",17),m["\u0275\u0275text"](2,"Student(s)"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"ion-select",18),m["\u0275\u0275template"](4,f,3,2,"ion-select-option",19),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"ion-item",10),m["\u0275\u0275elementStart"](6,"ion-label",17),m["\u0275\u0275text"](7,"Subject"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](8,"ion-input",20),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"ion-item",10),m["\u0275\u0275elementStart"](10,"ion-label",11),m["\u0275\u0275text"](11,"Message"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](12,"ion-textarea",21),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](13,"ion-list"),m["\u0275\u0275elementStart"](14,"ion-row"),m["\u0275\u0275element"](15,"ion-col",15),m["\u0275\u0275element"](16,"ion-col",15),m["\u0275\u0275elementStart"](17,"ion-col",15),m["\u0275\u0275elementStart"](18,"ion-button",16),m["\u0275\u0275text"](19,"SEND FEEDBACK"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){var n=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("ngForOf",n.students)}}var h,S=((h=function(){function e(t,n,o,r,a,i,s){_classCallCheck(this,e),this.alertService=t,this.dataService=n,this.authService=o,this.navCtrl=r,this.sessionService=a,this.router=i,this.route=s,this.fake=0,this.sessionService.sessionTimeOut(),this.refferences=this.router.getCurrentNavigation().extras.state,console.log(this.refferences),null!=this.router.getCurrentNavigation().extras.state&&(this.student_name=this.router.getCurrentNavigation().extras.state.studentName,this.subject=this.router.getCurrentNavigation().extras.state.subject,this.student_id=this.router.getCurrentNavigation().extras.state.student_id),this.students=new Array}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.authService.presentLoading(),e.next=3,this.authService.getStudents().subscribe((function(e){t.authService.dismiss(),t.data=e,t.students=t.data.data.students,t.school=t.students[0].school}));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"post",value:function(e){var t=this;this.authService.presentLoading(),null!=this.refferences?("number"!=typeof e.value.student&&(e.value.student=this.student_id),this.authService.addfeed(e.value.student,e.value.subject,e.value.message,this.school).subscribe((function(e){t.response=e,t.response.response?(t.authService.dismiss(),t.navCtrl.navigateRoot("/dashboard"),t.alertService.presentToast(t.response.data)):t.alertService.presentToast("Error Occured while posting your feedback...")}),(function(e){t.authService.dismiss(),console.log(e)}),(function(){}))):this.authService.addfeed(e.value.student,e.value.subject,e.value.message,this.school).subscribe((function(e){t.response=e,console.log(t.response),t.response.response?(t.authService.dismiss(),t.navCtrl.navigateRoot("/dashboard"),t.alertService.presentToast(t.response.data)):t.alertService.presentToast("Error Occured while posting your feedback...")}),(function(e){t.authService.dismiss(),console.log(e)}),(function(){}))}}]),e}()).\u0275fac=function(e){return new(e||h)(m["\u0275\u0275directiveInject"](u.a),m["\u0275\u0275directiveInject"](c.a),m["\u0275\u0275directiveInject"](l.a),m["\u0275\u0275directiveInject"](i.R),m["\u0275\u0275directiveInject"](d.a),m["\u0275\u0275directiveInject"](a.g),m["\u0275\u0275directiveInject"](a.a))},h.\u0275cmp=m["\u0275\u0275defineComponent"]({type:h,selectors:[["app-feedback"]],decls:12,vars:3,consts:[["color","primary"],["slot","start",2,"font-size","14px"],["text","","icon","chevron-back"],[1,""],[4,"ngIf"],["method","post",3,"ngSubmit"],["form","ngForm"],[4,"ngIf","ngIfElse"],["empty_subject",""],["name","lines-small",2,"text-align","center","margin-left","50%","margin-right","50%"],["lines","none"],["position","stacked"],["type","text","name","student",3,"ngModel","ngModelChange"],["type","text","name","subject",3,"ngModel","ngModelChange"],["ngModel","","name","message","maxlength","500"],["col-4",""],["type","submit","color","warning"],["position","stacked",2,"margin-bottom","5px"],["multiple","true","ngModel","","name","student"],[3,"value",4,"ngFor","ngForOf"],["ngModel","","name","subject"],["ngModel","","cols","20","rows","7","placeholder","Type message...","name","message","maxlength","500"],[3,"value"]],template:function(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"ion-header"),m["\u0275\u0275elementStart"](1,"ion-toolbar",0),m["\u0275\u0275elementStart"](2,"ion-buttons",1),m["\u0275\u0275element"](3,"ion-back-button",2),m["\u0275\u0275text"](4,"ADD FEEDBACK "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"ion-content",3),m["\u0275\u0275template"](6,p,2,0,"ion-list",4),m["\u0275\u0275elementStart"](7,"form",5,6),m["\u0275\u0275listener"]("ngSubmit",(function(){m["\u0275\u0275restoreView"](n);var e=m["\u0275\u0275reference"](8);return t.post(e)})),m["\u0275\u0275template"](9,g,20,2,"div",7),m["\u0275\u0275template"](10,v,20,1,"ng-template",null,8,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){var o=m["\u0275\u0275reference"](11);m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("ngIf",0===t.students.length&&1===t.fake),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",null!=t.refferences)("ngIfElse",o)}},directives:[i.q,i.L,i.g,i.d,i.e,i.l,o.i,r["\u0275angular_packages_forms_forms_y"],r.NgControlStatusGroup,r.NgForm,i.v,i.H,i.t,i.u,i.s,i.W,r.NgControlStatus,r.NgModel,i.J,r.MaxLengthValidator,i.B,i.k,i.f,i.E,i.V,o.h,i.F],styles:["ion-content[_ngcontent-%COMP%]{background-color:#d3d3d3}ion-content[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}ion-textarea[_ngcontent-%COMP%]{border:1px solid #708090;padding:10px;border-radius:10px}ion-textarea[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-moz-placeholder{font-style:italic!important}ion-textarea[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-style:italic!important}ion-label[_ngcontent-%COMP%]{margin-left:10px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif!important}ion-input[_ngcontent-%COMP%]{padding-left:10px!important}ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{border:1px solid #708090;border-radius:8px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}ion-select[_ngcontent-%COMP%]{padding:10px}"]}),h);n.d(t,"FeedbackPageModule",(function(){return C}));var b,x=[{path:"",component:S}],C=((b=function e(){_classCallCheck(this,e)}).\u0275mod=m["\u0275\u0275defineNgModule"]({type:b}),b.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(e){return new(e||b)},imports:[[o.b,r.FormsModule,i.M,a.i.forChild(x)]]}),b)}}]);