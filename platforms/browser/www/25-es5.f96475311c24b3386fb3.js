function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{wMLH:function(e,t,s){"use strict";s.r(t);var r,a=s("ofXK"),i=s("3Pt+"),l=s("tyNb"),n=s("TEn/"),o=s("lGQG"),h=s("MO+k"),u=s("xG9w"),c=s("fXoL"),b=["barChart"],d=["lineChart"],m=((r=function(){function e(t,s,r){var a=this;_classCallCheck(this,e),this.authService=t,this.route=s,this.router=r,this.reportCards=new Array,this.exam_marks=new Array,this.route.queryParams.subscribe((function(e){a.router.getCurrentNavigation().extras.state&&(a.student=a.router.getCurrentNavigation().extras.state.details,a.reportCards=a.router.getCurrentNavigation().extras.state.reports,a.exam_marks=void 0===a.reportCards.exam_marks?[]:a.reportCards.exam_marks)}))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){this.labels=this.reportCards,new Array,this.subjects=[],this.createChart()}},{key:"createChart",value:function(){this.terms=[],this.type=[];for(var e=0;e<this.reportCards.exam_marks.length;e++)this.type.push(this.reportCards.exam_marks[e].exam_type);this.math=[],this.english=[],this.kiswahli=[],this.science=[],this.ssre=[];for(var t=0;t<this.exam_marks.length;t++){var s;s=u.a(this.exam_marks[t].exam_marks,"subject_name"),this.math.push(s[2].mark),this.english.push(s[4].mark),this.kiswahli.push(s[7].mark),this.science.push(s[8].mark),this.ssre.push(s[10].mark),console.log(s)}for(var r=0;r<this.exam_marks[0].exam_marks.length;r++){var a;null==(a=u.a(this.exam_marks[0].exam_marks,"subject_name"))[r].parent_subject_id&&this.subjects.push(a[r].subject_name)}null==this.terms&&null==this.terms||(this.bars=new h.Chart(this.barChart.nativeElement,{type:"line",data:{labels:this.type,datasets:[{label:this.subjects[0],data:this.math,fill:!1,borderWidth:2,borderColor:"orange"},{label:this.subjects[1],data:this.english,borderWidth:2,fill:!1,borderColor:"black"},{label:this.subjects[2],data:this.kiswahli,borderWidth:2,borderColor:"blue",fill:!1},{label:this.subjects[3],data:this.science,borderWidth:2,borderColor:"red",fill:!1},{label:this.subjects[4],data:this.ssre,borderWidth:2,borderColor:"green",fill:!1}]},options:{title:{display:!0,text:"Analysis for "+this.reportCards.class_name+" "+this.reportCards.term_name},maintainAspectRatio:!1,gridLines:{display:!1},scales:{yAxes:[{scaleLabel:{display:!0,labelString:"EXAM MARKS",fontStyle:"bold"},ticks:{beginAtZero:!0,suggestedMax:100}}],xAxes:[{scaleLabel:{display:!0,labelString:"EXAM TYPE",fontStyle:"bold"},ticks:{}}]}}}))}},{key:"subChart",value:function(){this.terms=[];for(var e=0;e<this.labels.length;e++)this.terms.push(this.labels[e].term_name),this.marks.push(this.labels[e].overall_marks_and_grade[0].this_term_marks_and_grade[0].overall_mark.substr(0,3));for(var t=0;t<this.labels.length;t++)this.math.push(this.labels[t].subject_overalls_column[0].subject_overalls[0].average),this.english.push(this.labels[t].subject_overalls_column[0].subject_overalls[1].average),this.kiswahli.push(this.labels[t].subject_overalls_column[0].subject_overalls[2].average),this.science.push(this.labels[t].subject_overalls_column[0].subject_overalls[3].average),this.ssre.push(this.labels[t].subject_overalls_column[0].subject_overalls[4].average);null==this.terms&&null==this.terms||(this.bars=new h.Chart(this.lineChart.nativeElement,{type:"line",data:{labels:this.terms,datasets:[{label:this.subjects[0],data:this.math,fill:!1,borderWidth:1,borderColor:"grey"},{label:this.subjects[1],data:this.english,borderWidth:1,fill:!1,borderColor:"black"},{label:this.subjects[2],data:this.kiswahli,borderWidth:1,borderColor:"blue",fill:!1},{label:this.subjects[3],data:this.science,borderWidth:1,borderColor:"red",fill:!1},{label:this.subjects[4],data:this.ssre,borderWidth:1,borderColor:"green",fill:!1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,suggestedMax:100}}]}}}))}},{key:"onlyUnique",value:function(e,t,s){return s.indexOf(e)===t}}]),e}()).\u0275fac=function(e){return new(e||r)(c["\u0275\u0275directiveInject"](o.a),c["\u0275\u0275directiveInject"](l.a),c["\u0275\u0275directiveInject"](l.g))},r.\u0275cmp=c["\u0275\u0275defineComponent"]({type:r,selectors:[["app-analysis"]],viewQuery:function(e,t){var s;1&e&&(c["\u0275\u0275viewQuery"](b,!0),c["\u0275\u0275viewQuery"](d,!0)),2&e&&(c["\u0275\u0275queryRefresh"](s=c["\u0275\u0275loadQuery"]())&&(t.barChart=s.first),c["\u0275\u0275queryRefresh"](s=c["\u0275\u0275loadQuery"]())&&(t.lineChart=s.first))},decls:8,vars:1,consts:[["color","primary"],["slot","start",2,"font-size","14px"],["text","","icon","chevron-back"],[2,"height","250px"],["barChart",""]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"ion-header"),c["\u0275\u0275elementStart"](1,"ion-toolbar",0),c["\u0275\u0275elementStart"](2,"ion-buttons",1),c["\u0275\u0275element"](3,"ion-back-button",2),c["\u0275\u0275text"](4),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"ion-content"),c["\u0275\u0275element"](6,"canvas",3,4),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"]("Analysis for ",t.reportCards.term_name," "))},directives:[n.q,n.L,n.g,n.d,n.e,n.l],styles:[""]}),r);s.d(t,"AnalysisPageModule",(function(){return v}));var p,f=[{path:"",component:m}],v=((p=function e(){_classCallCheck(this,e)}).\u0275mod=c["\u0275\u0275defineNgModule"]({type:p}),p.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(e){return new(e||p)},imports:[[a.b,i.FormsModule,n.M,l.i.forChild(f)]]}),p)}}]);