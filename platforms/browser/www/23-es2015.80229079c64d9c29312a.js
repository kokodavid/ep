(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"+eMj":function(e,t,n){"use strict";n.r(t);var i=n("ofXK"),a=n("3Pt+"),r=n("tyNb"),s=n("Xa2L"),o=n("TEn/"),l=n("JqCM"),d=n("mrSG"),c=n("lGQG"),m=n("te5A"),p=n("B7Rs"),h=n("FAH8"),u=n("9HCY"),v=n("wd/R"),f=n("IfdK"),g=n("RU0F"),y=n("m/P+"),x=n("3LUQ"),S=n("XSEc"),w=n("LfQc"),b=n("fXoL"),I=n("jhN1"),j=n("tk/3");function M(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td"),b["\u0275\u0275elementStart"](1,"b"),b["\u0275\u0275text"](2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate"](e.name)}}function E(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div"),b["\u0275\u0275element"](1,"div",6),b["\u0275\u0275elementEnd"]()),2&e){const e=b["\u0275\u0275nextContext"]().$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("innerHTML",e.meal,b["\u0275\u0275sanitizeHtml"])}}function _(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"tr"),b["\u0275\u0275template"](1,E,2,1,"div",7),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=b["\u0275\u0275nextContext"]().index,i=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",e.day_name===i.days[n])}}function O(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"tr"),b["\u0275\u0275elementStart"](1,"td"),b["\u0275\u0275text"](2),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](3,"td"),b["\u0275\u0275element"](4,"div",6),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"td"),b["\u0275\u0275template"](6,_,2,1,"tr",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,i=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",i.days[n]," "),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("innerHTML",e.meal,b["\u0275\u0275sanitizeHtml"]),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngForOf",i.meal2)}}let C=(()=>{class e{constructor(e,t,n,i,a,r,s,o,l,d,c,m,p,h,u,v,f){this.transfer=e,this.spinnerDialog=t,this.file=n,this.fileOpener=i,this.navCtrl=a,this.authService=r,this.route=s,this.router=o,this.sessionService=l,this.streamingMedia=d,this.sanitizer=c,this.http=m,this.iab=p,this.alertService=h,this.adHTTP=u,this.document=v,this.platform=f,this.menu=new Array,this.data=new Array,this.days=new Array,this.meal_name=new Array,this.sample_data=new Array,this.meal1=new Array,this.meal2=new Array,this.route.queryParams.subscribe(e=>{this.router.getCurrentNavigation().extras.state&&(this.school=this.router.getCurrentNavigation().extras.state.details)})}ngOnInit(){}ionViewWillEnter(){return Object(d.a)(this,void 0,void 0,(function*(){this.authService.presentLoading(),yield this.authService.getMenu(this.school).subscribe(e=>{var t=[],n=[];let i=[];this.data=e,this.menu=null==this.data.data.menu?[]:this.data.data.menu,this.days=this.menu.filter(e=>{t.push(e.day_name),n.push(e.break_name)});var a=["Monday","Tuesday","Wednesday","Thursday","Friday"];this.days=t.filter(this.onlyUnique),console.log(this.days),console.log(a),this.days.sort((function(e,t){return a.indexOf(e)-a.indexOf(t)})),console.log("formatted>>>"+this.days),this.meal_name=n.filter(this.onlyUnique),this.meal_name.forEach(e=>{const t=e;i=[];for(var n=0;n<this.menu.length;n++)console.log(this.menu[n]),this.menu[n].break_name==e&&i.push(this.menu[n]);const a={name:t,meal:i.filter(this.onlyUnique)};this.sample_data.push(a)}),console.log(this.sample_data);for(var r=0;r<this.sample_data.length;r++);this.meal1=null==this.sample_data[0].meal?[]:this.sample_data[0].meal,this.meal2=null==this.sample_data[1].meal?[]:this.sample_data[1].meal,this.authService.dismiss()})}))}getMIMEtype(e){return{txt:"text/plain",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",doc:"application/msword",pdf:"application/pdf",jpg:"image/jpeg",bmp:"image/bmp",png:"image/png",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",rtf:"application/rtf",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",flv:"video/x-flv",mp4:"video/mp4",m3u8:"application/x-mpegURL",ts:"video/MP2T","3gp":"video/3gpp",mov:"video/quicktime",avi:"video/x-msvideo",wmv:"video/x-ms-wmv"}[e.toLowerCase()]}open(e){this.authService.dismiss();const t=e.split(".").reverse()[0],n=this.getMIMEtype(t);console.log(t,n,e),this.fileOpener.showOpenWithDialog(e,n).then(()=>console.log("File is opened")).catch(e=>{this.authService.dismiss(),this.alertService.presentToast(e)})}download(e,t){return Object(d.a)(this,void 0,void 0,(function*(){this.authService.presentLoading();let n=null;n=this.platform.is("ios")?this.file.documentsDirectory:this.file.dataDirectory;const i=encodeURI(t);this.transfer.create().download(i,n+e,!0).then(e=>{let t=e.toURL();this.authService.dismiss(),this.open(t)})}))}trunc(e){return e.length>20?`${e.substr(0,20)}...`:e}formatdate(e){return v(e).format("MMM D, YYYY")}filterdate(e){return v(e).year}onlyUnique(e,t,n){return n.indexOf(e)===t}}return e.\u0275fac=function(t){return new(t||e)(b["\u0275\u0275directiveInject"](p.a),b["\u0275\u0275directiveInject"](u.a),b["\u0275\u0275directiveInject"](h.a),b["\u0275\u0275directiveInject"](m.a),b["\u0275\u0275directiveInject"](o.R),b["\u0275\u0275directiveInject"](c.a),b["\u0275\u0275directiveInject"](r.a),b["\u0275\u0275directiveInject"](r.g),b["\u0275\u0275directiveInject"](f.a),b["\u0275\u0275directiveInject"](g.a),b["\u0275\u0275directiveInject"](I.DomSanitizer),b["\u0275\u0275directiveInject"](j.a),b["\u0275\u0275directiveInject"](y.a),b["\u0275\u0275directiveInject"](x.a),b["\u0275\u0275directiveInject"](S.a),b["\u0275\u0275directiveInject"](w.a),b["\u0275\u0275directiveInject"](o.T))},e.\u0275cmp=b["\u0275\u0275defineComponent"]({type:e,selectors:[["app-menu"]],decls:13,vars:2,consts:[["color","primary"],["slot","start",2,"font-size","14px"],["text","","icon","chevron-back"],["id","table","border","1","width","100%"],["width","100%",2,"font-weight","400"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[4,"ngIf"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"ion-header"),b["\u0275\u0275elementStart"](1,"ion-toolbar",0),b["\u0275\u0275elementStart"](2,"ion-buttons",1),b["\u0275\u0275element"](3,"ion-back-button",2),b["\u0275\u0275text"](4,"MEALS MENU "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"ion-content"),b["\u0275\u0275elementStart"](6,"table",3),b["\u0275\u0275elementStart"](7,"tr",4),b["\u0275\u0275elementStart"](8,"td"),b["\u0275\u0275elementStart"](9,"b"),b["\u0275\u0275text"](10,"DAYS"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](11,M,3,1,"td",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](12,O,7,3,"tr",5),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](11),b["\u0275\u0275property"]("ngForOf",t.sample_data),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",t.meal1))},directives:[o.q,o.L,o.g,o.d,o.e,o.l,i.h,i.i],styles:["ion-content[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{margin:10px}"]}),e})();n.d(t,"MenuPageModule",(function(){return A}));const L=[{path:"",component:C}];let A=(()=>{class e{}return e.\u0275mod=b["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=b["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.b,a.FormsModule,o.M,s.a,l.a,r.i.forChild(L)]]}),e})()}}]);