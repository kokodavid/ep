(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"+eMj":function(e,t,n){"use strict";n.r(t);var i=n("ofXK"),a=n("3Pt+"),o=n("tyNb"),r=n("Xa2L"),s=n("TEn/"),l=n("JqCM"),c=n("mrSG"),d=n("lGQG"),m=n("te5A"),p=n("B7Rs"),h=n("FAH8"),u=n("9HCY"),v=n("wd/R"),f=n("IfdK"),g=n("RU0F"),x=n("m/P+"),y=n("3LUQ"),M=n("XSEc"),S=n("LfQc"),b=n("jAoO"),w=n("fXoL"),_=n("jhN1"),I=n("tk/3");function O(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"th"),w["\u0275\u0275elementStart"](1,"b"),w["\u0275\u0275text"](2),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;w["\u0275\u0275advance"](2),w["\u0275\u0275textInterpolate"](e.name)}}function C(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div"),w["\u0275\u0275element"](1,"div",9),w["\u0275\u0275elementEnd"]()),2&e){const e=w["\u0275\u0275nextContext"]().$implicit;w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("innerHTML",e.meal,w["\u0275\u0275sanitizeHtml"])}}function E(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"tr"),w["\u0275\u0275template"](1,C,2,1,"div",5),w["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=w["\u0275\u0275nextContext"]().index,i=w["\u0275\u0275nextContext"](2);w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",e.day_name===i.days[n])}}function j(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"tr"),w["\u0275\u0275elementStart"](1,"td"),w["\u0275\u0275text"](2),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](3,"td"),w["\u0275\u0275element"](4,"div",9),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](5,"td"),w["\u0275\u0275template"](6,E,2,1,"tr",8),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,i=w["\u0275\u0275nextContext"](2);w["\u0275\u0275advance"](2),w["\u0275\u0275textInterpolate1"](" ",i.days[n]," "),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("innerHTML",e.meal,w["\u0275\u0275sanitizeHtml"]),w["\u0275\u0275advance"](2),w["\u0275\u0275property"]("ngForOf",i.meal2)}}function P(e,t){if(1&e&&(w["\u0275\u0275elementStart"](0,"div"),w["\u0275\u0275elementStart"](1,"table",6),w["\u0275\u0275elementStart"](2,"tr",7),w["\u0275\u0275elementStart"](3,"th"),w["\u0275\u0275elementStart"](4,"b"),w["\u0275\u0275text"](5,"DAYS"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](6,O,3,1,"th",8),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](7,j,7,3,"tr",8),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e){const e=w["\u0275\u0275nextContext"]();w["\u0275\u0275advance"](6),w["\u0275\u0275property"]("ngForOf",e.sample_data),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngForOf",e.meal1)}}function L(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"h6"),w["\u0275\u0275elementStart"](1,"i"),w["\u0275\u0275text"](2,"No meal menu"),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]())}let A=(()=>{class e{constructor(e,t,n,i,a,o,r,s,l,c,d,m,p,h,u,v,f,g){this.transfer=e,this.spinnerDialog=t,this.file=n,this.fileOpener=i,this.navCtrl=a,this.authService=o,this.route=r,this.router=s,this.sessionService=l,this.streamingMedia=c,this.sanitizer=d,this.http=m,this.iab=p,this.alertService=h,this.adHTTP=u,this.document=v,this.platform=f,this.screenshot=g,this.menu=new Array,this.data=new Array,this.days=new Array,this.meal_name=new Array,this.sample_data=new Array,this.meal1=new Array,this.meal2=new Array,this.route.queryParams.subscribe(e=>{this.router.getCurrentNavigation().extras.state&&(this.school=this.router.getCurrentNavigation().extras.state.details)})}ngOnInit(){}ionViewWillEnter(){return Object(c.a)(this,void 0,void 0,(function*(){this.authService.presentLoading(),yield this.authService.getMenu(this.school).subscribe(e=>{var t=[],n=[];let i=[];this.data=e,this.data.nodata?(this.noMenu=!0,this.authService.dismiss()):(this.authService.dismiss(),this.noMenu=!1),this.menu=null==this.data.data.menu?[]:this.data.data.menu,console.log("menu>>>",e),this.days=this.menu.filter(e=>{t.push(e.day_name),n.push(e.break_name)});var a=["Monday","Tuesday","Wednesday","Thursday","Friday"];this.days=t.filter(this.onlyUnique),console.log(a),this.days.sort((function(e,t){return a.indexOf(e)-a.indexOf(t)})),this.meal_name=n.filter(this.onlyUnique),this.meal_name.forEach(e=>{const t=e;i=[];for(var n=0;n<this.menu.length;n++)this.menu[n].break_name==e&&i.push(this.menu[n]);const a={name:t,meal:i.filter(this.onlyUnique)};this.sample_data.push(a)});for(var o=0;o<this.sample_data.length;o++);this.meal1=null==this.sample_data[0].meal?[]:this.sample_data[0].meal,this.meal2=null==this.sample_data[1].meal?[]:this.sample_data[1].meal})}))}getMIMEtype(e){return{txt:"text/plain",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",doc:"application/msword",pdf:"application/pdf",jpg:"image/jpeg",bmp:"image/bmp",png:"image/png",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",rtf:"application/rtf",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",flv:"video/x-flv",mp4:"video/mp4",m3u8:"application/x-mpegURL",ts:"video/MP2T","3gp":"video/3gpp",mov:"video/quicktime",avi:"video/x-msvideo",wmv:"video/x-ms-wmv"}[e.toLowerCase()]}open(e){this.authService.dismiss();const t=e.split(".").reverse()[0],n=this.getMIMEtype(t);console.log(t,n,e),this.fileOpener.showOpenWithDialog(e,n).then(()=>console.log("File is opened")).catch(e=>{this.authService.dismiss(),this.alertService.presentToast(e)})}print(){this.screenshot.save("jpg",80,"myscreenshot.jpg").then(e=>{console.log(e)}).catch(e=>{console.log(e)})}download(e,t){return Object(c.a)(this,void 0,void 0,(function*(){this.authService.presentLoading();let n=null;n=this.platform.is("ios")?this.file.documentsDirectory:this.file.dataDirectory;const i=encodeURI(t);this.transfer.create().download(i,n+e,!0).then(e=>{let t=e.toURL();this.authService.dismiss(),this.open(t)})}))}trunc(e){return e.length>20?`${e.substr(0,20)}...`:e}formatdate(e){return v(e).format("MMM D, YYYY")}filterdate(e){return v(e).year}onlyUnique(e,t,n){return n.indexOf(e)===t}}return e.\u0275fac=function(t){return new(t||e)(w["\u0275\u0275directiveInject"](p.a),w["\u0275\u0275directiveInject"](u.a),w["\u0275\u0275directiveInject"](h.a),w["\u0275\u0275directiveInject"](m.a),w["\u0275\u0275directiveInject"](s.R),w["\u0275\u0275directiveInject"](d.a),w["\u0275\u0275directiveInject"](o.a),w["\u0275\u0275directiveInject"](o.g),w["\u0275\u0275directiveInject"](f.a),w["\u0275\u0275directiveInject"](g.a),w["\u0275\u0275directiveInject"](_.DomSanitizer),w["\u0275\u0275directiveInject"](I.a),w["\u0275\u0275directiveInject"](x.a),w["\u0275\u0275directiveInject"](y.a),w["\u0275\u0275directiveInject"](M.a),w["\u0275\u0275directiveInject"](S.a),w["\u0275\u0275directiveInject"](s.T),w["\u0275\u0275directiveInject"](b.a))},e.\u0275cmp=w["\u0275\u0275defineComponent"]({type:e,selectors:[["app-menu"]],decls:12,vars:3,consts:[["color","primary"],["slot","start",2,"font-size","14px"],["text","","icon","chevron-back"],[1,"table_wrapper"],[2,"text-transform","capitalize","text-align","center"],[4,"ngIf"],["border","1","width","100%"],["width","100%",2,"font-weight","400"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(e,t){1&e&&(w["\u0275\u0275elementStart"](0,"ion-header"),w["\u0275\u0275elementStart"](1,"ion-toolbar",0),w["\u0275\u0275elementStart"](2,"ion-buttons",1),w["\u0275\u0275element"](3,"ion-back-button",2),w["\u0275\u0275text"](4,"MEALS MENU "),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementStart"](5,"ion-content"),w["\u0275\u0275elementStart"](6,"div",3),w["\u0275\u0275elementStart"](7,"p",4),w["\u0275\u0275elementStart"](8,"b"),w["\u0275\u0275text"](9),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"](),w["\u0275\u0275template"](10,P,8,2,"div",5),w["\u0275\u0275template"](11,L,3,0,"h6",5),w["\u0275\u0275elementEnd"](),w["\u0275\u0275elementEnd"]()),2&e&&(w["\u0275\u0275advance"](9),w["\u0275\u0275textInterpolate1"]("",t.school," Meal Menu"),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",0==t.noMenu),w["\u0275\u0275advance"](1),w["\u0275\u0275property"]("ngIf",1==t.noMenu))},directives:[s.q,s.L,s.g,s.d,s.e,s.l,i.i,i.h],styles:["ion-content[_ngcontent-%COMP%]{font-size:13px}ion-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#ddd}ion-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#000;color:#fff}ion-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px;text-align:left}ion-content[_ngcontent-%COMP%]   .table_wrapper[_ngcontent-%COMP%]{display:block;overflow-x:auto;white-space:nowrap}ion-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{text-align:center;color:#397c49}"]}),e})();n.d(t,"MenuPageModule",(function(){return T}));const k=[{path:"",component:A}];let T=(()=>{class e{}return e.\u0275mod=w["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=w["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.b,a.FormsModule,s.M,r.a,l.a,o.i.forChild(k)]]}),e})()}}]);